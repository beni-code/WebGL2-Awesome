<!DOCTYPE html>
<!-- this file is auto-generated from webgl/lessons/webgl-3d-orthographic.md. Do not edited directly -->
<!--
Copyright 2021, GFXFundamentals.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:

*   Redistributions of source code must retain the above copyright
    notice, this list of conditions and the following disclaimer.

*   Redistributions in binary form must reproduce the above
    copyright notice, this list of conditions and the following disclaimer
    in the documentation and/or other materials provided with the
    distribution.

*   Neither the name of GFXFundamentals. nor the names of his
    contributors may be used to endorse or promote products derived from
    this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-->
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

  <meta name="description" content="How to do 3D in WebGL starting with an orthographic projection.">
  <meta name="keywords" content="webgl webgl2 graphics">
  <meta name="thumbnail"
    content="https://webgl2fundamentals.org/webgl/lessons/screenshots/webgl-3d-orthographic_en.jpg">

  <meta property="og:title" content="WebGL2 - Orthographic 3D">
  <meta property="og:type" content="website">
  <meta property="og:image"
    content="https://webgl2fundamentals.org/webgl/lessons/screenshots/webgl-3d-orthographic_en.jpg">
  <meta property="og:description" content="How to do 3D in WebGL starting with an orthographic projection.">
  <meta property="og:url" content="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-orthographic.html">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@greggman">
  <meta name="twitter:creator" content="@greggman">
  <meta name="twitter:domain" content="webgl2fundamentals.org">
  <meta name="twitter:title" content="WebGL2 - Orthographic 3D">
  <meta name="twitter:url" content="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-orthographic.html">
  <meta name="twitter:description" content="How to do 3D in WebGL starting with an orthographic projection.">
  <meta name="twitter:image:src"
    content="https://webgl2fundamentals.org/webgl/lessons/screenshots/webgl-3d-orthographic_en.jpg">

  <script async="" src="WebGL2%20-%20Orthographic%203D_files/analytics.js"></script>
  <script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@graph":[
    {
      "@type":"WebSite",
      "@id":"https://webgl2fundamentals.org/#website",
      "url":"https://webgl2fundamentals.org/",
      "name":"Webgl2Fundamentals"
    },
    {
      "@type":"ImageObject",
      "@id":"https://webgl2fundamentals.org/webgl/lessons/webgl-3d-orthographic.html#primaryimage",
      "url":"https://webgl2fundamentals.org/webgl/lessons/screenshots/webgl-3d-orthographic_en.jpg",
      "width":1200,
      "height":630
    },
    {
      "@type":"WebPage",
      "@id":"https://webgl2fundamentals.org/webgl/lessons/webgl-3d-orthographic.html#webpage",
      "url":"https://webgl2fundamentals.org/webgl/lessons/webgl-3d-orthographic.html",
      "inLanguage":"en",
      "name":"WebGL2 - Orthographic 3D",
      "keywords":"webgl webgl2 graphics programming",
      "isPartOf":{
        "@id":"https://webgl2fundamentals.org/#website"
      },
      "primaryImageOfPage":{
        "@id":"https://webgl2fundamentals.org/webgl/lessons/webgl-3d-orthographic.html#primaryimage"
      }
    }
  ]
}
</script>


  <title>WebGL2 - Orthographic 3D</title>
  <link href="https://webgl2fundamentals.org/webgl/lessons/resources/webgl2fundamentals-icon.png" rel="shortcut icon"
    type="image/png">
  <link rel="stylesheet" href="WebGL2%20-%20Orthographic%203D_files/lang.css">
  <link rel="stylesheet" href="WebGL2%20-%20Orthographic%203D_files/lesson.css">

  <link rel="alternate" hreflang="en" href="https://webglfundamentals.org/webgl/lessons/webgl-3d-orthographic.html">
  <link rel="alternate" hreflang="de" href="https://webglfundamentals.org/webgl/lessons/de/webgl-3d-orthographic.html">
  <link rel="alternate" hreflang="ja" href="https://webglfundamentals.org/webgl/lessons/ja/webgl-3d-orthographic.html">
  <link rel="alternate" hreflang="ko" href="https://webglfundamentals.org/webgl/lessons/ko/webgl-3d-orthographic.html">
  <link rel="alternate" hreflang="pt-br"
    href="https://webglfundamentals.org/webgl/lessons/pt-br/webgl-3d-orthographic.html">
  <link rel="alternate" hreflang="zh_cn"
    href="https://webglfundamentals.org/webgl/lessons/zh_cn/webgl-3d-orthographic.html">




  <script type="text/javascript" async="" src="WebGL2%20-%20Orthographic%203D_files/embed.js"></script>
</head>

<body>
  <div class="webgl_navbar">
    <div>
      <select class="language">
        <option value="/webgl/lessons/webgl-3d-orthographic.html" selected="selected">English
        </option>
        <option value="/webgl/lessons/de/webgl-3d-orthographic.html">Deutsch
        </option>
        <option value="/webgl/lessons/ja/webgl-3d-orthographic.html">日本語
        </option>
        <option value="/webgl/lessons/ko/webgl-3d-orthographic.html">한국어
        </option>
        <option value="/webgl/lessons/pt-br/webgl-3d-orthographic.html">Português Brasileiro
        </option>
        <option value="/webgl/lessons/zh_cn/webgl-3d-orthographic.html">简体中文
        </option>
      </select>


      <a href="#toc">Table of Contents</a>
    </div>
  </div>
  <div class="webgl_header">
    <h1><a href="https://webgl2fundamentals.org/">WebGL2Fundamentals.org</a></h1>
    <style>
      #forkongithub>div {
        background: #000;
        color: #fff;
        font-family: arial, sans-serif;
        text-align: center;
        font-weight: bold;
        padding: 5px 40px;
        font-size: 0.9rem;
        line-height: 1.3rem;
        position: relative;
        transition: 0.5s;
        display: block;
        width: 400px;
        position: absolute;
        top: 0;
        right: 0;
        transform: translateX(200px) rotate(45deg) translate(10px, 70px);
        box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.8);
        pointer-events: auto;
      }

      #forkongithub a {
        text-decoration: none;
        color: #fff;
      }

      #forkongithub>div:hover {
        background: #c11;
        color: #fff;
      }

      #forkongithub .contributors {
        font-size: 0.75rem;
        background: rgba(255, 255, 255, 0.2);
        line-height: 1.2;
        padding: 0.1em;
      }

      #forkongithub>div::before,
      #forkongithub>div::after {
        content: "";
        width: 100%;
        display: block;
        position: absolute;
        top: 1px;
        left: 0;
        height: 1px;
        background: #fff;
      }

      #forkongithub>div::after {
        bottom: 1px;
        top: auto;
      }

      #forkongithub {
        z-index: 9999;
        /* needed for firefox */
        overflow: hidden;
        width: 300px;
        height: 300px;
        position: absolute;
        right: 0;
        top: 0;
        pointer-events: none;
      }

      #forkongithub svg {
        width: 1em;
        height: 1em;
        vertical-align: middle;
      }

      #forkongithub img {
        width: 1em;
        height: 1em;
        border-radius: 100%;
        vertical-align: middle;
      }

      @media (max-width: 900px) {
        #forkongithub>div {
          line-height: 1.2rem;
        }
      }

      @media (max-width: 700px) {
        #forkongithub {
          display: none;
        }
      }

      @media (max-width: 410px) {
        #forkongithub>div {
          font-size: 0.7rem;
          transform: translateX(150px) rotate(45deg) translate(20px, 40px);
        }
      }
    </style>
    <div id="forkongithub">
      <div>
        <div><a href="https://github.com/gfxfundamentals/webgl2-fundamentals">Fix, Fork, Contribute
            <!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

            <svg width="100%" height="100%" viewBox="0 0 136 133" version="1.1" xmlns="http://www.w3.org/2000/svg"
              xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/"
              style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
              <g transform="matrix(3.92891,0,0,3.92891,67.867,129.125)">
                <path
                  d="M0,-31.904C-8.995,-31.904 -16.288,-24.611 -16.288,-15.614C-16.288,-8.417 -11.621,-2.312 -5.148,-0.157C-4.333,-0.008 -4.036,-0.511 -4.036,-0.943C-4.036,-1.329 -4.05,-2.354 -4.058,-3.713C-8.589,-2.729 -9.545,-5.897 -9.545,-5.897C-10.286,-7.779 -11.354,-8.28 -11.354,-8.28C-12.833,-9.29 -11.242,-9.27 -11.242,-9.27C-9.607,-9.155 -8.747,-7.591 -8.747,-7.591C-7.294,-5.102 -4.934,-5.821 -4.006,-6.238C-3.858,-7.29 -3.438,-8.008 -2.972,-8.415C-6.589,-8.826 -10.392,-10.224 -10.392,-16.466C-10.392,-18.244 -9.757,-19.698 -8.715,-20.837C-8.883,-21.249 -9.442,-22.905 -8.556,-25.148C-8.556,-25.148 -7.188,-25.586 -4.076,-23.478C-2.777,-23.84 -1.383,-24.02 0.002,-24.026C1.385,-24.02 2.779,-23.84 4.08,-23.478C7.19,-25.586 8.555,-25.148 8.555,-25.148C9.444,-22.905 8.885,-21.249 8.717,-20.837C9.761,-19.698 10.392,-18.244 10.392,-16.466C10.392,-10.208 6.583,-8.831 2.954,-8.428C3.539,-7.925 4.06,-6.931 4.06,-5.411C4.06,-3.234 4.04,-1.477 4.04,-0.943C4.04,-0.507 4.333,0 5.16,-0.159C11.628,-2.318 16.291,-8.419 16.291,-15.614C16.291,-24.611 8.997,-31.904 0,-31.904"
                  style="fill:white;"></path>
              </g>
            </svg>
          </a></div>
        <div class="contributors">Thank you <a href="https://github.com/diskhkme"><img
              src="WebGL2%20-%20Orthographic%203D_files/7402686.png"> diskhkme</a><br>for <a
            href="https://github.com/gfxfundamentals/webgl2-fundamentals/commits?author=diskhkme">68 contributions</a>
        </div>
      </div>
    </div>

  </div>


  <div class="container">
    <div class="lesson-title">
      <h1>WebGL2 - Orthographic 3D</h1>
    </div>
    <div class="lesson">
      <div class="lesson-main">
        <p>This post is a continuation of a series of posts about WebGL.
          The first <a href="https://webgl2fundamentals.org/webgl/lessons/webgl-fundamentals.html">started with
            fundamentals</a> and
          the previous was <a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2d-matrices.html">about 2D
            matrices</a>.
          If you haven't read those please view them first.</p>
        <p>In the last post we went over how 2D matrices worked. We talked
          about how translation, rotation, scaling, and even projecting from
          pixels into clip space can all be done by 1 matrix and some magic
          matrix math. To do 3D is only a small step from there.</p>
        <p>In our previous 2D examples we had 2D points (x, y) that we multiplied by
          a 3x3 matrix. To do 3D we need 3D points (x, y, z) and a 4x4 matrix.</p>
        <p>Let's take our last example and change it to 3D. We'll use an F again
          but this time a 3D 'F'.</p>
        <p>The first thing we need to do is change the vertex shader to handle 3D.
          Here's the old vertex shader.</p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="com">#version 300 es</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// an attribute is an input (in) to a vertex shader.</span></li><li class=""><span class="com">// It will receive data from a buffer</span></li><li class=""><span class="kwd">in</span><span class="pln"> vec2 a_position</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// A matrix to transform the positions by</span></li><li class=""><span class="pln">uniform mat3 u_matrix</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// all shaders have a main function</span></li><li class=""><span class="kwd">void</span><span class="pln"> main</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">  </span><span class="com">// Multiply the position by the matrix.</span></li><li class=""><span class="pln">  gl_Position </span><span class="pun">=</span><span class="pln"> vec4</span><span class="pun">((</span><span class="pln">u_matrix </span><span class="pun">*</span><span class="pln"> vec3</span><span class="pun">(</span><span class="pln">a_position</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)).</span><span class="pln">xy</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span></li><li class=""><span class="pun">}</span></li></ul></pre>
        <p>And here's the new one</p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="com">// an attribute is an input (in) to a vertex shader.</span></li><li class=""><span class="com">// It will receive data from a buffer</span></li><li class="linemodified"><span class="kwd">in</span><span class="pln"> vec4 a_position</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// A matrix to transform the positions by</span></li><li class="linemodified"><span class="pln">uniform mat4 u_matrix</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// all shaders have a main function</span></li><li class=""><span class="kwd">void</span><span class="pln"> main</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">  </span><span class="com">// Multiply the position by the matrix.</span></li><li class="linemodified"><span class="pln">  gl_Position </span><span class="pun">=</span><span class="pln"> u_matrix </span><span class="pun">*</span><span class="pln"> a_position</span><span class="pun">;</span></li><li class=""><span class="pun">}</span></li></ul></pre>
        <p>It got even simpler! Just like in 2d we provided <code class="notranslate" translate="no">x</code> and <code
            class="notranslate" translate="no">y</code> and then
          set <code class="notranslate" translate="no">z</code> to 1, in 3d we will provide <code class="notranslate"
            translate="no">x</code>, <code class="notranslate" translate="no">y</code>, and <code class="notranslate"
            translate="no">z</code> and we need <code class="notranslate" translate="no">w</code>
          to be 1 but we can take advantage of the fact that for attributes
          <code class="notranslate" translate="no">w</code> defaults to 1.
        </p>
        <p>Then we need to provide 3D data.</p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="pln">  </span><span class="pun">...</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  </span><span class="com">// Tell the attribute how to get data out of positionBuffer (ARRAY_BUFFER)</span></li><li class="linemodified"><span class="pln">  </span><span class="kwd">var</span><span class="pln"> size </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln">          </span><span class="com">// 3 components per iteration</span></li><li class=""><span class="pln">  </span><span class="kwd">var</span><span class="pln"> type </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">FLOAT</span><span class="pun">;</span><span class="pln">   </span><span class="com">// the data is 32bit floats</span></li><li class=""><span class="pln">  </span><span class="kwd">var</span><span class="pln"> normalize </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><span class="com">// don't normalize the data</span></li><li class=""><span class="pln">  </span><span class="kwd">var</span><span class="pln"> stride </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">        </span><span class="com">// 0 = move forward size * sizeof(type) each iteration to get the next position</span></li><li class=""><span class="pln">  </span><span class="kwd">var</span><span class="pln"> offset </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">        </span><span class="com">// start at the beginning of the buffer</span></li><li class=""><span class="pln">  gl</span><span class="pun">.</span><span class="pln">vertexAttribPointer</span><span class="pun">(</span></li><li class=""><span class="pln">      positionAttributeLocation</span><span class="pun">,</span><span class="pln"> size</span><span class="pun">,</span><span class="pln"> type</span><span class="pun">,</span><span class="pln"> normalize</span><span class="pun">,</span><span class="pln"> stride</span><span class="pun">,</span><span class="pln"> offset</span><span class="pun">);</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  </span><span class="pun">...</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  </span><span class="com">// Fill the current ARRAY_BUFFER buffer</span></li><li class=""><span class="pln">  </span><span class="com">// with the values that define a letter 'F'.</span></li><li class=""><span class="pln">  </span><span class="kwd">function</span><span class="pln"> setGeometry</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">    gl</span><span class="pun">.</span><span class="pln">bufferData</span><span class="pun">(</span></li><li class=""><span class="pln">        gl</span><span class="pun">.</span><span class="pln">ARRAY_BUFFER</span><span class="pun">,</span></li><li class=""><span class="pln">        </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Float32Array</span><span class="pun">([</span></li><li class=""><span class="pln">            </span><span class="com">// left column</span></li><li class=""><span class="pln">              </span><span class="lit">0</span><span class="pun">,</span><span class="pln">   </span><span class="lit">0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">             </span><span class="lit">30</span><span class="pun">,</span><span class="pln">   </span><span class="lit">0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">              </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">150</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">              </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">150</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">             </span><span class="lit">30</span><span class="pun">,</span><span class="pln">   </span><span class="lit">0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">             </span><span class="lit">30</span><span class="pun">,</span><span class="pln"> </span><span class="lit">150</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">            </span><span class="com">// top rung</span></li><li class=""><span class="pln">             </span><span class="lit">30</span><span class="pun">,</span><span class="pln">   </span><span class="lit">0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">            </span><span class="lit">100</span><span class="pun">,</span><span class="pln">   </span><span class="lit">0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">             </span><span class="lit">30</span><span class="pun">,</span><span class="pln">  </span><span class="lit">30</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">             </span><span class="lit">30</span><span class="pun">,</span><span class="pln">  </span><span class="lit">30</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">            </span><span class="lit">100</span><span class="pun">,</span><span class="pln">   </span><span class="lit">0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">            </span><span class="lit">100</span><span class="pun">,</span><span class="pln">  </span><span class="lit">30</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">            </span><span class="com">// middle rung</span></li><li class=""><span class="pln">             </span><span class="lit">30</span><span class="pun">,</span><span class="pln">  </span><span class="lit">60</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">             </span><span class="lit">67</span><span class="pun">,</span><span class="pln">  </span><span class="lit">60</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">             </span><span class="lit">30</span><span class="pun">,</span><span class="pln">  </span><span class="lit">90</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">             </span><span class="lit">30</span><span class="pun">,</span><span class="pln">  </span><span class="lit">90</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">             </span><span class="lit">67</span><span class="pun">,</span><span class="pln">  </span><span class="lit">60</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">             </span><span class="lit">67</span><span class="pun">,</span><span class="pln">  </span><span class="lit">90</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">]),</span></li><li class=""><span class="pln">        gl</span><span class="pun">.</span><span class="pln">STATIC_DRAW</span><span class="pun">);</span></li><li class=""><span class="pln">  </span><span class="pun">}</span></li></ul></pre>
        <p>Next we need to change all the matrix functions from 2D to 3D</p>
        <p>Here are the 2D (before) versions of m3.translation, m3.rotation, and m3.scaling</p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="kwd">var</span><span class="pln"> m3 </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">  translation</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> translation</span><span class="pun">(</span><span class="pln">tx</span><span class="pun">,</span><span class="pln"> ty</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span></li><li class=""><span class="pln">      </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">      </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">      tx</span><span class="pun">,</span><span class="pln"> ty</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span></li><li class=""><span class="pln">    </span><span class="pun">];</span></li><li class=""><span class="pln">  </span><span class="pun">},</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  rotation</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> rotation</span><span class="pun">(</span><span class="pln">angleInRadians</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> c </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">cos</span><span class="pun">(</span><span class="pln">angleInRadians</span><span class="pun">);</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> s </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">sin</span><span class="pun">(</span><span class="pln">angleInRadians</span><span class="pun">);</span></li><li class=""><span class="pln">    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span></li><li class=""><span class="pln">      c</span><span class="pun">,-</span><span class="pln">s</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">      s</span><span class="pun">,</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">      </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span></li><li class=""><span class="pln">    </span><span class="pun">];</span></li><li class=""><span class="pln">  </span><span class="pun">},</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  scaling</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> scaling</span><span class="pun">(</span><span class="pln">sx</span><span class="pun">,</span><span class="pln"> sy</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span></li><li class=""><span class="pln">      sx</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">      </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> sy</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">      </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span></li><li class=""><span class="pln">    </span><span class="pun">];</span></li><li class=""><span class="pln">  </span><span class="pun">},</span></li><li class=""><span class="pun">};</span></li></ul></pre>
        <p>And here are the updated 3D versions.</p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="kwd">var</span><span class="pln"> m4 </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">  translation</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">tx</span><span class="pun">,</span><span class="pln"> ty</span><span class="pun">,</span><span class="pln"> tz</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span></li><li class=""><span class="pln">       </span><span class="lit">1</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">       </span><span class="lit">0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">       </span><span class="lit">0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">       tx</span><span class="pun">,</span><span class="pln"> ty</span><span class="pun">,</span><span class="pln"> tz</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span></li><li class=""><span class="pln">    </span><span class="pun">];</span></li><li class=""><span class="pln">  </span><span class="pun">},</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  xRotation</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">angleInRadians</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> c </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">cos</span><span class="pun">(</span><span class="pln">angleInRadians</span><span class="pun">);</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> s </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">sin</span><span class="pun">(</span><span class="pln">angleInRadians</span><span class="pun">);</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span></li><li class=""><span class="pln">      </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">      </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> s</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">      </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="pln">s</span><span class="pun">,</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">      </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span></li><li class=""><span class="pln">    </span><span class="pun">];</span></li><li class=""><span class="pln">  </span><span class="pun">},</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  yRotation</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">angleInRadians</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> c </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">cos</span><span class="pun">(</span><span class="pln">angleInRadians</span><span class="pun">);</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> s </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">sin</span><span class="pun">(</span><span class="pln">angleInRadians</span><span class="pun">);</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span></li><li class=""><span class="pln">      c</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="pln">s</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">      </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">      s</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">      </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span></li><li class=""><span class="pln">    </span><span class="pun">];</span></li><li class=""><span class="pln">  </span><span class="pun">},</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  zRotation</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">angleInRadians</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> c </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">cos</span><span class="pun">(</span><span class="pln">angleInRadians</span><span class="pun">);</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> s </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">sin</span><span class="pun">(</span><span class="pln">angleInRadians</span><span class="pun">);</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span></li><li class=""><span class="pln">       c</span><span class="pun">,</span><span class="pln"> s</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">      </span><span class="pun">-</span><span class="pln">s</span><span class="pun">,</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">       </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">       </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span></li><li class=""><span class="pln">    </span><span class="pun">];</span></li><li class=""><span class="pln">  </span><span class="pun">},</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  scaling</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">sx</span><span class="pun">,</span><span class="pln"> sy</span><span class="pun">,</span><span class="pln"> sz</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span></li><li class=""><span class="pln">      sx</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">      </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> sy</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">      </span><span class="lit">0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> sz</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">      </span><span class="lit">0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1</span><span class="pun">,</span></li><li class=""><span class="pln">    </span><span class="pun">];</span></li><li class=""><span class="pln">  </span><span class="pun">},</span></li><li class=""><span class="pun">};</span></li></ul></pre>
        <p>Notice we now have 3 rotation functions. We only needed one in 2D as we
          were effectively only rotating around the Z axis. Now though to do 3D we
          also want to be able to rotate around the X axis and Y axis as well. You
          can see from looking at them they are all very similar. If we were to
          work them out you'd see them simplify just like before</p>
        <p>Z rotation</p>
        <div class="webgl_center">
          <div>newX = x * c + y * s;</div>
          <div>newY = x * -s + y * c;</div>
        </div>

        <p>Y rotation</p>
        <div class="webgl_center">
          <div>newX = x * c + z * s;</div>
          <div>newZ = x * -s + z * c;</div>
        </div>

        <p>X rotation</p>
        <div class="webgl_center">
          <div>newY = y * c + z * s;</div>
          <div>newZ = y * -s + z * c;</div>
        </div>

        <p>which gives you these rotations.</p>
        <iframe class="external_diagram" src="WebGL2%20-%20Orthographic%203D_files/axis-diagram.html"
          style="width: 540px; height: 240px;"></iframe>

        <p>Similarly we'll make our simplified functions</p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="pln">  translate</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">m</span><span class="pun">,</span><span class="pln"> tx</span><span class="pun">,</span><span class="pln"> ty</span><span class="pun">,</span><span class="pln"> tz</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">    </span><span class="kwd">return</span><span class="pln"> m4</span><span class="pun">.</span><span class="pln">multiply</span><span class="pun">(</span><span class="pln">m</span><span class="pun">,</span><span class="pln"> m4</span><span class="pun">.</span><span class="pln">translation</span><span class="pun">(</span><span class="pln">tx</span><span class="pun">,</span><span class="pln"> ty</span><span class="pun">,</span><span class="pln"> tz</span><span class="pun">));</span></li><li class=""><span class="pln">  </span><span class="pun">},</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  xRotate</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">m</span><span class="pun">,</span><span class="pln"> angleInRadians</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">    </span><span class="kwd">return</span><span class="pln"> m4</span><span class="pun">.</span><span class="pln">multiply</span><span class="pun">(</span><span class="pln">m</span><span class="pun">,</span><span class="pln"> m4</span><span class="pun">.</span><span class="pln">xRotation</span><span class="pun">(</span><span class="pln">angleInRadians</span><span class="pun">));</span></li><li class=""><span class="pln">  </span><span class="pun">},</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  yRotate</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">m</span><span class="pun">,</span><span class="pln"> angleInRadians</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">    </span><span class="kwd">return</span><span class="pln"> m4</span><span class="pun">.</span><span class="pln">multiply</span><span class="pun">(</span><span class="pln">m</span><span class="pun">,</span><span class="pln"> m4</span><span class="pun">.</span><span class="pln">yRotation</span><span class="pun">(</span><span class="pln">angleInRadians</span><span class="pun">));</span></li><li class=""><span class="pln">  </span><span class="pun">},</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  zRotate</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">m</span><span class="pun">,</span><span class="pln"> angleInRadians</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">    </span><span class="kwd">return</span><span class="pln"> m4</span><span class="pun">.</span><span class="pln">multiply</span><span class="pun">(</span><span class="pln">m</span><span class="pun">,</span><span class="pln"> m4</span><span class="pun">.</span><span class="pln">zRotation</span><span class="pun">(</span><span class="pln">angleInRadians</span><span class="pun">));</span></li><li class=""><span class="pln">  </span><span class="pun">},</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  scale</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">m</span><span class="pun">,</span><span class="pln"> sx</span><span class="pun">,</span><span class="pln"> sy</span><span class="pun">,</span><span class="pln"> sz</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">    </span><span class="kwd">return</span><span class="pln"> m4</span><span class="pun">.</span><span class="pln">multiply</span><span class="pun">(</span><span class="pln">m</span><span class="pun">,</span><span class="pln"> m4</span><span class="pun">.</span><span class="pln">scaling</span><span class="pun">(</span><span class="pln">sx</span><span class="pun">,</span><span class="pln"> sy</span><span class="pun">,</span><span class="pln"> sz</span><span class="pun">));</span></li><li class=""><span class="pln">  </span><span class="pun">},</span></li></ul></pre>
        <p>And we need a 4x4 matrix multiplication function</p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="pln">  multiply</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">a</span><span class="pun">,</span><span class="pln"> b</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> b00 </span><span class="pun">=</span><span class="pln"> b</span><span class="pun">[</span><span class="lit">0</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">0</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> b01 </span><span class="pun">=</span><span class="pln"> b</span><span class="pun">[</span><span class="lit">0</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> b02 </span><span class="pun">=</span><span class="pln"> b</span><span class="pun">[</span><span class="lit">0</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">2</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> b03 </span><span class="pun">=</span><span class="pln"> b</span><span class="pun">[</span><span class="lit">0</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">3</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> b10 </span><span class="pun">=</span><span class="pln"> b</span><span class="pun">[</span><span class="lit">1</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">0</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> b11 </span><span class="pun">=</span><span class="pln"> b</span><span class="pun">[</span><span class="lit">1</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> b12 </span><span class="pun">=</span><span class="pln"> b</span><span class="pun">[</span><span class="lit">1</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">2</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> b13 </span><span class="pun">=</span><span class="pln"> b</span><span class="pun">[</span><span class="lit">1</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">3</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> b20 </span><span class="pun">=</span><span class="pln"> b</span><span class="pun">[</span><span class="lit">2</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">0</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> b21 </span><span class="pun">=</span><span class="pln"> b</span><span class="pun">[</span><span class="lit">2</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> b22 </span><span class="pun">=</span><span class="pln"> b</span><span class="pun">[</span><span class="lit">2</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">2</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> b23 </span><span class="pun">=</span><span class="pln"> b</span><span class="pun">[</span><span class="lit">2</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">3</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> b30 </span><span class="pun">=</span><span class="pln"> b</span><span class="pun">[</span><span class="lit">3</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">0</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> b31 </span><span class="pun">=</span><span class="pln"> b</span><span class="pun">[</span><span class="lit">3</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> b32 </span><span class="pun">=</span><span class="pln"> b</span><span class="pun">[</span><span class="lit">3</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">2</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> b33 </span><span class="pun">=</span><span class="pln"> b</span><span class="pun">[</span><span class="lit">3</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">3</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> a00 </span><span class="pun">=</span><span class="pln"> a</span><span class="pun">[</span><span class="lit">0</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">0</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> a01 </span><span class="pun">=</span><span class="pln"> a</span><span class="pun">[</span><span class="lit">0</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> a02 </span><span class="pun">=</span><span class="pln"> a</span><span class="pun">[</span><span class="lit">0</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">2</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> a03 </span><span class="pun">=</span><span class="pln"> a</span><span class="pun">[</span><span class="lit">0</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">3</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> a10 </span><span class="pun">=</span><span class="pln"> a</span><span class="pun">[</span><span class="lit">1</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">0</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> a11 </span><span class="pun">=</span><span class="pln"> a</span><span class="pun">[</span><span class="lit">1</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> a12 </span><span class="pun">=</span><span class="pln"> a</span><span class="pun">[</span><span class="lit">1</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">2</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> a13 </span><span class="pun">=</span><span class="pln"> a</span><span class="pun">[</span><span class="lit">1</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">3</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> a20 </span><span class="pun">=</span><span class="pln"> a</span><span class="pun">[</span><span class="lit">2</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">0</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> a21 </span><span class="pun">=</span><span class="pln"> a</span><span class="pun">[</span><span class="lit">2</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> a22 </span><span class="pun">=</span><span class="pln"> a</span><span class="pun">[</span><span class="lit">2</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">2</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> a23 </span><span class="pun">=</span><span class="pln"> a</span><span class="pun">[</span><span class="lit">2</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">3</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> a30 </span><span class="pun">=</span><span class="pln"> a</span><span class="pun">[</span><span class="lit">3</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">0</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> a31 </span><span class="pun">=</span><span class="pln"> a</span><span class="pun">[</span><span class="lit">3</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> a32 </span><span class="pun">=</span><span class="pln"> a</span><span class="pun">[</span><span class="lit">3</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">2</span><span class="pun">];</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> a33 </span><span class="pun">=</span><span class="pln"> a</span><span class="pun">[</span><span class="lit">3</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">3</span><span class="pun">];</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span></li><li class=""><span class="pln">      b00 </span><span class="pun">*</span><span class="pln"> a00 </span><span class="pun">+</span><span class="pln"> b01 </span><span class="pun">*</span><span class="pln"> a10 </span><span class="pun">+</span><span class="pln"> b02 </span><span class="pun">*</span><span class="pln"> a20 </span><span class="pun">+</span><span class="pln"> b03 </span><span class="pun">*</span><span class="pln"> a30</span><span class="pun">,</span></li><li class=""><span class="pln">      b00 </span><span class="pun">*</span><span class="pln"> a01 </span><span class="pun">+</span><span class="pln"> b01 </span><span class="pun">*</span><span class="pln"> a11 </span><span class="pun">+</span><span class="pln"> b02 </span><span class="pun">*</span><span class="pln"> a21 </span><span class="pun">+</span><span class="pln"> b03 </span><span class="pun">*</span><span class="pln"> a31</span><span class="pun">,</span></li><li class=""><span class="pln">      b00 </span><span class="pun">*</span><span class="pln"> a02 </span><span class="pun">+</span><span class="pln"> b01 </span><span class="pun">*</span><span class="pln"> a12 </span><span class="pun">+</span><span class="pln"> b02 </span><span class="pun">*</span><span class="pln"> a22 </span><span class="pun">+</span><span class="pln"> b03 </span><span class="pun">*</span><span class="pln"> a32</span><span class="pun">,</span></li><li class=""><span class="pln">      b00 </span><span class="pun">*</span><span class="pln"> a03 </span><span class="pun">+</span><span class="pln"> b01 </span><span class="pun">*</span><span class="pln"> a13 </span><span class="pun">+</span><span class="pln"> b02 </span><span class="pun">*</span><span class="pln"> a23 </span><span class="pun">+</span><span class="pln"> b03 </span><span class="pun">*</span><span class="pln"> a33</span><span class="pun">,</span></li><li class=""><span class="pln">      b10 </span><span class="pun">*</span><span class="pln"> a00 </span><span class="pun">+</span><span class="pln"> b11 </span><span class="pun">*</span><span class="pln"> a10 </span><span class="pun">+</span><span class="pln"> b12 </span><span class="pun">*</span><span class="pln"> a20 </span><span class="pun">+</span><span class="pln"> b13 </span><span class="pun">*</span><span class="pln"> a30</span><span class="pun">,</span></li><li class=""><span class="pln">      b10 </span><span class="pun">*</span><span class="pln"> a01 </span><span class="pun">+</span><span class="pln"> b11 </span><span class="pun">*</span><span class="pln"> a11 </span><span class="pun">+</span><span class="pln"> b12 </span><span class="pun">*</span><span class="pln"> a21 </span><span class="pun">+</span><span class="pln"> b13 </span><span class="pun">*</span><span class="pln"> a31</span><span class="pun">,</span></li><li class=""><span class="pln">      b10 </span><span class="pun">*</span><span class="pln"> a02 </span><span class="pun">+</span><span class="pln"> b11 </span><span class="pun">*</span><span class="pln"> a12 </span><span class="pun">+</span><span class="pln"> b12 </span><span class="pun">*</span><span class="pln"> a22 </span><span class="pun">+</span><span class="pln"> b13 </span><span class="pun">*</span><span class="pln"> a32</span><span class="pun">,</span></li><li class=""><span class="pln">      b10 </span><span class="pun">*</span><span class="pln"> a03 </span><span class="pun">+</span><span class="pln"> b11 </span><span class="pun">*</span><span class="pln"> a13 </span><span class="pun">+</span><span class="pln"> b12 </span><span class="pun">*</span><span class="pln"> a23 </span><span class="pun">+</span><span class="pln"> b13 </span><span class="pun">*</span><span class="pln"> a33</span><span class="pun">,</span></li><li class=""><span class="pln">      b20 </span><span class="pun">*</span><span class="pln"> a00 </span><span class="pun">+</span><span class="pln"> b21 </span><span class="pun">*</span><span class="pln"> a10 </span><span class="pun">+</span><span class="pln"> b22 </span><span class="pun">*</span><span class="pln"> a20 </span><span class="pun">+</span><span class="pln"> b23 </span><span class="pun">*</span><span class="pln"> a30</span><span class="pun">,</span></li><li class=""><span class="pln">      b20 </span><span class="pun">*</span><span class="pln"> a01 </span><span class="pun">+</span><span class="pln"> b21 </span><span class="pun">*</span><span class="pln"> a11 </span><span class="pun">+</span><span class="pln"> b22 </span><span class="pun">*</span><span class="pln"> a21 </span><span class="pun">+</span><span class="pln"> b23 </span><span class="pun">*</span><span class="pln"> a31</span><span class="pun">,</span></li><li class=""><span class="pln">      b20 </span><span class="pun">*</span><span class="pln"> a02 </span><span class="pun">+</span><span class="pln"> b21 </span><span class="pun">*</span><span class="pln"> a12 </span><span class="pun">+</span><span class="pln"> b22 </span><span class="pun">*</span><span class="pln"> a22 </span><span class="pun">+</span><span class="pln"> b23 </span><span class="pun">*</span><span class="pln"> a32</span><span class="pun">,</span></li><li class=""><span class="pln">      b20 </span><span class="pun">*</span><span class="pln"> a03 </span><span class="pun">+</span><span class="pln"> b21 </span><span class="pun">*</span><span class="pln"> a13 </span><span class="pun">+</span><span class="pln"> b22 </span><span class="pun">*</span><span class="pln"> a23 </span><span class="pun">+</span><span class="pln"> b23 </span><span class="pun">*</span><span class="pln"> a33</span><span class="pun">,</span></li><li class=""><span class="pln">      b30 </span><span class="pun">*</span><span class="pln"> a00 </span><span class="pun">+</span><span class="pln"> b31 </span><span class="pun">*</span><span class="pln"> a10 </span><span class="pun">+</span><span class="pln"> b32 </span><span class="pun">*</span><span class="pln"> a20 </span><span class="pun">+</span><span class="pln"> b33 </span><span class="pun">*</span><span class="pln"> a30</span><span class="pun">,</span></li><li class=""><span class="pln">      b30 </span><span class="pun">*</span><span class="pln"> a01 </span><span class="pun">+</span><span class="pln"> b31 </span><span class="pun">*</span><span class="pln"> a11 </span><span class="pun">+</span><span class="pln"> b32 </span><span class="pun">*</span><span class="pln"> a21 </span><span class="pun">+</span><span class="pln"> b33 </span><span class="pun">*</span><span class="pln"> a31</span><span class="pun">,</span></li><li class=""><span class="pln">      b30 </span><span class="pun">*</span><span class="pln"> a02 </span><span class="pun">+</span><span class="pln"> b31 </span><span class="pun">*</span><span class="pln"> a12 </span><span class="pun">+</span><span class="pln"> b32 </span><span class="pun">*</span><span class="pln"> a22 </span><span class="pun">+</span><span class="pln"> b33 </span><span class="pun">*</span><span class="pln"> a32</span><span class="pun">,</span></li><li class=""><span class="pln">      b30 </span><span class="pun">*</span><span class="pln"> a03 </span><span class="pun">+</span><span class="pln"> b31 </span><span class="pun">*</span><span class="pln"> a13 </span><span class="pun">+</span><span class="pln"> b32 </span><span class="pun">*</span><span class="pln"> a23 </span><span class="pun">+</span><span class="pln"> b33 </span><span class="pun">*</span><span class="pln"> a33</span><span class="pun">,</span></li><li class=""><span class="pln">    </span><span class="pun">];</span></li><li class=""><span class="pln">  </span><span class="pun">},</span></li></ul></pre>
        <p>We also need to update the projection function. Here's the old one</p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="pln">  projection</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">width</span><span class="pun">,</span><span class="pln"> height</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">    </span><span class="com">// Note: This matrix flips the Y axis so 0 is at the top.</span></li><li class=""><span class="pln">    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span></li><li class=""><span class="pln">      </span><span class="lit">2</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> width</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">      </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">2</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> height</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">      </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span></li><li class=""><span class="pln">    </span><span class="pun">];</span></li><li class=""><span class="pln">  </span><span class="pun">},</span></li><li class=""><span class="pun">}</span></li></ul></pre>
        <p>which converted from pixels to clip space. For our first attempt at
          expanding it to 3D let's try</p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="pln">  projection</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">width</span><span class="pun">,</span><span class="pln"> height</span><span class="pun">,</span><span class="pln"> depth</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">    </span><span class="com">// Note: This matrix flips the Y axis so 0 is at the top.</span></li><li class=""><span class="pln">    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span></li><li class=""><span class="pln">       </span><span class="lit">2</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> width</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">       </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">2</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> height</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">       </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> depth</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">      </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span></li><li class=""><span class="pln">    </span><span class="pun">];</span></li><li class=""><span class="pln">  </span><span class="pun">},</span></li></ul></pre>
        <p>Just like we needed to convert from pixels to clip space for X and Y, for
          Z we need to do the same thing. In this case I'm making the Z axis pixel
          units as well. I'll pass in some value similar to <code class="notranslate" translate="no">width</code> for
          the <code class="notranslate" translate="no">depth</code>
          so our space will be 0 to <code class="notranslate" translate="no">width</code> pixels wide, 0 to <code
            class="notranslate" translate="no">height</code> pixels tall, but
          for <code class="notranslate" translate="no">depth</code> it will be <code class="notranslate"
            translate="no">-depth / 2</code> to <code class="notranslate" translate="no">+depth / 2</code>.</p>
        <p>Finally we need to to update the code that computes the matrix.</p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="pln">  </span><span class="com">// Compute the matrix</span></li><li class="linemodified"><span class="pln">  </span><span class="kwd">var</span><span class="pln"> matrix </span><span class="pun">=</span><span class="pln"> m4</span><span class="pun">.</span><span class="pln">projection</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">canvas</span><span class="pun">.</span><span class="pln">clientWidth</span><span class="pun">,</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">canvas</span><span class="pun">.</span><span class="pln">clientHeight</span><span class="pun">,</span><span class="pln"> </span><span class="lit">400</span><span class="pun">);</span></li><li class="linemodified"><span class="pln">  matrix </span><span class="pun">=</span><span class="pln"> m4</span><span class="pun">.</span><span class="pln">translate</span><span class="pun">(</span><span class="pln">matrix</span><span class="pun">,</span><span class="pln"> translation</span><span class="pun">[</span><span class="lit">0</span><span class="pun">],</span><span class="pln"> translation</span><span class="pun">[</span><span class="lit">1</span><span class="pun">],</span><span class="pln"> translation</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]);</span></li><li class="linemodified"><span class="pln">  matrix </span><span class="pun">=</span><span class="pln"> m4</span><span class="pun">.</span><span class="pln">xRotate</span><span class="pun">(</span><span class="pln">matrix</span><span class="pun">,</span><span class="pln"> rotation</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]);</span></li><li class="linemodified"><span class="pln">  matrix </span><span class="pun">=</span><span class="pln"> m4</span><span class="pun">.</span><span class="pln">yRotate</span><span class="pun">(</span><span class="pln">matrix</span><span class="pun">,</span><span class="pln"> rotation</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]);</span></li><li class="linemodified"><span class="pln">  matrix </span><span class="pun">=</span><span class="pln"> m4</span><span class="pun">.</span><span class="pln">zRotate</span><span class="pun">(</span><span class="pln">matrix</span><span class="pun">,</span><span class="pln"> rotation</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]);</span></li><li class="linemodified"><span class="pln">  matrix </span><span class="pun">=</span><span class="pln"> m4</span><span class="pun">.</span><span class="pln">scale</span><span class="pun">(</span><span class="pln">matrix</span><span class="pun">,</span><span class="pln"> scale</span><span class="pun">[</span><span class="lit">0</span><span class="pun">],</span><span class="pln"> scale</span><span class="pun">[</span><span class="lit">1</span><span class="pun">],</span><span class="pln"> scale</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]);</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  </span><span class="com">// Set the matrix.</span></li><li class="linemodified"><span class="pln">  gl</span><span class="pun">.</span><span class="pln">uniformMatrix4fv</span><span class="pun">(</span><span class="pln">matrixLocation</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> matrix</span><span class="pun">);</span></li></ul></pre>
        <p>And here's that sample.</p>
        <p></p>
        <div class="webgl_example_container">
          <iframe class="webgl_example" style=" " src="WebGL2%20-%20Orthographic%203D_files/editor.html"></iframe>
          <a class="webgl_center" href="https://webgl2fundamentals.org/webgl/webgl-3d-step1.html" target="_blank">click
            here to open in a separate window</a>
        </div>

        <p></p>
        <p>The first problem we have is that our geometry is a flat F which makes it
          hard to see any 3D. To fix that let's expand the geometry to 3D. Our
          current F is made of 3 rectangles, 2 triangles each. To make it 3D will
          require a total of 16 rectangles. the 3 rectangles on the front, 3 on the
          back, 1 on the left, 4 on the right, 2 on the tops, 3 on the bottoms.</p>
        <p><img class="webgl_center noinvertdark" src="WebGL2%20-%20Orthographic%203D_files/3df.svg" width="300"></p>
        <p>That's quite a few to list out here.
          16 rectangles with 2 triangles per rectangle and 3 vertices per triangle is 96
          vertices. If you want to see all of them view the source of the sample.</p>
        <p>We have to draw more vertices so</p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="pln">    </span><span class="com">// Draw the geometry.</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> primitiveType </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">TRIANGLES</span><span class="pun">;</span></li><li class=""><span class="pln">    </span><span class="kwd">var</span><span class="pln"> offset </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></li><li class="linemodified"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> count </span><span class="pun">=</span><span class="pln"> </span><span class="lit">16</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">6</span><span class="pun">;</span></li><li class=""><span class="pln">    gl</span><span class="pun">.</span><span class="pln">drawArrays</span><span class="pun">(</span><span class="pln">primitiveType</span><span class="pun">,</span><span class="pln"> offset</span><span class="pun">,</span><span class="pln"> count</span><span class="pun">);</span></li></ul></pre>
        <p>And here's that version</p>
        <p></p>
        <div class="webgl_example_container">
          <iframe class="webgl_example" style=" " src="WebGL2%20-%20Orthographic%203D_files/editor_002.html"></iframe>
          <a class="webgl_center" href="https://webgl2fundamentals.org/webgl/webgl-3d-step2.html" target="_blank">click
            here to open in a separate window</a>
        </div>

        <p></p>
        <p>Moving the sliders it's pretty hard to tell that it's 3D. Let's try
          coloring each rectangle a different color. To do this we will add another
          attribute to our vertex shader and a varying to pass it from the vertex
          shader to the fragment shader.</p>
        <p>Here's the new vertex shader</p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="com">#version 300 es</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// an attribute is an input (in) to a vertex shader.</span></li><li class=""><span class="com">// It will receive data from a buffer</span></li><li class=""><span class="kwd">in</span><span class="pln"> vec4 a_position</span><span class="pun">;</span></li><li class="lineadded"><span class="kwd">in</span><span class="pln"> vec4 a_color</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// A matrix to transform the positions by</span></li><li class=""><span class="pln">uniform mat4 u_matrix</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class="lineadded"><span class="com">// a varying the color to the fragment shader</span></li><li class="lineadded"><span class="kwd">out</span><span class="pln"> vec4 v_color</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// all shaders have a main function</span></li><li class=""><span class="kwd">void</span><span class="pln"> main</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">  </span><span class="com">// Multiply the position by the matrix.</span></li><li class=""><span class="pln">  gl_Position </span><span class="pun">=</span><span class="pln"> u_matrix </span><span class="pun">*</span><span class="pln"> a_position</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class="lineadded"><span class="pln">  </span><span class="com">// Pass the color to the fragment shader.</span></li><li class="lineadded"><span class="pln">  v_color </span><span class="pun">=</span><span class="pln"> a_color</span><span class="pun">;</span></li><li class=""><span class="pun">}</span></li></ul></pre>
        <p>And we need to use that color in the fragment shader</p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="com">#version 300 es</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">precision highp </span><span class="kwd">float</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class="lineadded"><span class="com">// the varied color passed from the vertex shader</span></li><li class="lineadded"><span class="kwd">in</span><span class="pln"> vec4 v_color</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// we need to declare an output for the fragment shader</span></li><li class=""><span class="kwd">out</span><span class="pln"> vec4 outColor</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="kwd">void</span><span class="pln"> main</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class="linemodified"><span class="pln">  outColor </span><span class="pun">=</span><span class="pln"> v_color</span><span class="pun">;</span></li><li class=""><span class="pun">}</span></li></ul></pre>
        <p>We need to lookup the attribute location to supply the colors, then setup another
          buffer and attribute to give it the colors.</p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="pln">  </span><span class="pun">...</span></li><li class=""><span class="pln">  </span><span class="kwd">var</span><span class="pln"> colorAttributeLocation </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">getAttribLocation</span><span class="pun">(</span><span class="pln">program</span><span class="pun">,</span><span class="pln"> </span><span class="str">"a_color"</span><span class="pun">);</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  </span><span class="pun">...</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  </span><span class="com">// create the color buffer, make it the current ARRAY_BUFFER</span></li><li class=""><span class="pln">  </span><span class="com">// and copy in the color values</span></li><li class=""><span class="pln">  </span><span class="kwd">var</span><span class="pln"> colorBuffer </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">createBuffer</span><span class="pun">();</span></li><li class=""><span class="pln">  gl</span><span class="pun">.</span><span class="pln">bindBuffer</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">ARRAY_BUFFER</span><span class="pun">,</span><span class="pln"> colorBuffer</span><span class="pun">);</span></li><li class=""><span class="pln">  setColors</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">);</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  </span><span class="com">// Turn on the attribute</span></li><li class=""><span class="pln">  gl</span><span class="pun">.</span><span class="pln">enableVertexAttribArray</span><span class="pun">(</span><span class="pln">colorAttributeLocation</span><span class="pun">);</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  </span><span class="com">// Tell the attribute how to get data out of colorBuffer (ARRAY_BUFFER)</span></li><li class=""><span class="pln">  </span><span class="kwd">var</span><span class="pln"> size </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln">          </span><span class="com">// 3 components per iteration</span></li><li class=""><span class="pln">  </span><span class="kwd">var</span><span class="pln"> type </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">UNSIGNED_BYTE</span><span class="pun">;</span><span class="pln">   </span><span class="com">// the data is 8bit unsigned bytes</span></li><li class=""><span class="pln">  </span><span class="kwd">var</span><span class="pln"> normalize </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">  </span><span class="com">// convert from 0-255 to 0.0-1.0</span></li><li class=""><span class="pln">  </span><span class="kwd">var</span><span class="pln"> stride </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">        </span><span class="com">// 0 = move forward size * sizeof(type) each</span></li><li class=""><span class="pln">                         </span><span class="com">// iteration to get the next color</span></li><li class=""><span class="pln">  </span><span class="kwd">var</span><span class="pln"> offset </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">        </span><span class="com">// start at the beginning of the buffer</span></li><li class=""><span class="pln">  gl</span><span class="pun">.</span><span class="pln">vertexAttribPointer</span><span class="pun">(</span></li><li class=""><span class="pln">      colorAttributeLocation</span><span class="pun">,</span><span class="pln"> size</span><span class="pun">,</span><span class="pln"> type</span><span class="pun">,</span><span class="pln"> normalize</span><span class="pun">,</span><span class="pln"> stride</span><span class="pun">,</span><span class="pln"> offset</span><span class="pun">);</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  </span><span class="pun">...</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// Fill the buffer with colors for the 'F'.</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="kwd">function</span><span class="pln"> setColors</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">  gl</span><span class="pun">.</span><span class="pln">bufferData</span><span class="pun">(</span></li><li class=""><span class="pln">      gl</span><span class="pun">.</span><span class="pln">ARRAY_BUFFER</span><span class="pun">,</span></li><li class=""><span class="pln">      </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Uint8Array</span><span class="pun">([</span></li><li class=""><span class="pln">          </span><span class="com">// left column front</span></li><li class=""><span class="pln">        </span><span class="lit">200</span><span class="pun">,</span><span class="pln">  </span><span class="lit">70</span><span class="pun">,</span><span class="pln"> </span><span class="lit">120</span><span class="pun">,</span></li><li class=""><span class="pln">        </span><span class="lit">200</span><span class="pun">,</span><span class="pln">  </span><span class="lit">70</span><span class="pun">,</span><span class="pln"> </span><span class="lit">120</span><span class="pun">,</span></li><li class=""><span class="pln">        </span><span class="lit">200</span><span class="pun">,</span><span class="pln">  </span><span class="lit">70</span><span class="pun">,</span><span class="pln"> </span><span class="lit">120</span><span class="pun">,</span></li><li class=""><span class="pln">        </span><span class="lit">200</span><span class="pun">,</span><span class="pln">  </span><span class="lit">70</span><span class="pun">,</span><span class="pln"> </span><span class="lit">120</span><span class="pun">,</span></li><li class=""><span class="pln">        </span><span class="lit">200</span><span class="pun">,</span><span class="pln">  </span><span class="lit">70</span><span class="pun">,</span><span class="pln"> </span><span class="lit">120</span><span class="pun">,</span></li><li class=""><span class="pln">        </span><span class="lit">200</span><span class="pun">,</span><span class="pln">  </span><span class="lit">70</span><span class="pun">,</span><span class="pln"> </span><span class="lit">120</span><span class="pun">,</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">          </span><span class="com">// top rung front</span></li><li class=""><span class="pln">        </span><span class="lit">200</span><span class="pun">,</span><span class="pln">  </span><span class="lit">70</span><span class="pun">,</span><span class="pln"> </span><span class="lit">120</span><span class="pun">,</span></li><li class=""><span class="pln">        </span><span class="lit">200</span><span class="pun">,</span><span class="pln">  </span><span class="lit">70</span><span class="pun">,</span><span class="pln"> </span><span class="lit">120</span><span class="pun">,</span></li><li class=""><span class="pln">        </span><span class="pun">...</span></li><li class=""><span class="pln">        </span><span class="pun">...</span></li><li class=""><span class="pln">      gl</span><span class="pun">.</span><span class="pln">STATIC_DRAW</span><span class="pun">);</span></li><li class=""><span class="pun">}</span></li></ul></pre>
        <p>Now we get this.</p>
        <p></p>
        <div class="webgl_example_container">
          <iframe class="webgl_example" style=" " src="WebGL2%20-%20Orthographic%203D_files/editor_003.html"></iframe>
          <a class="webgl_center" href="https://webgl2fundamentals.org/webgl/webgl-3d-step3.html" target="_blank">click
            here to open in a separate window</a>
        </div>

        <p></p>
        <p>Uh oh, what's that mess? Well, it turns out all the various parts of
          that 3D 'F', front, back, sides, etc get drawn in the order they appear in
          our geometry data. That doesn't give us quite the desired results as sometimes
          the ones in the back get drawn after the ones in the front.</p>
        <p><img class="webgl_center" style="background-color: transparent;"
            src="WebGL2%20-%20Orthographic%203D_files/polygon-drawing-order.gif" width="163" height="190"></p>
        <p>The <span style="background: rgb(200, 70, 120); color: white; padding: 0.25em">reddish part</span> is
          the <strong>front</strong> of the 'F' but because it's the first part of our data
          it is drawn first and then the other triangles behind it get drawn
          after covering it up. For example the <span
            style="background: rgb(80, 70, 200); color: white; padding: 0.25em">purple part</span>
          is actually the back of the 'F'. It gets drawn 2nd because it comes 2nd in our data.</p>
        <p>Triangles in WebGL have the concept of front facing and back facing. By default a
          front facing triangle has its vertices go in a counter clockwise direction. A
          back facing triangle has its vertices go in a clockwise direction.</p>
        <p><img src="WebGL2%20-%20Orthographic%203D_files/triangle-winding.svg" class="webgl_center" width="400"></p>
        <p>WebGL has the ability to draw only forward facing or back facing
          triangles. We can turn that feature on with</p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="pln">  gl</span><span class="pun">.</span><span class="pln">enable</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">CULL_FACE</span><span class="pun">);</span></li></ul></pre>
        <p>Well put that in our <code class="notranslate" translate="no">drawScene</code> function. With that
          feature turned on, WebGL defaults to "culling" back facing triangles.
          "Culling" in this case is a fancy word for "not drawing".</p>
        <p>Note that as far as WebGL is concerned, whether or not a triangle is
          considered to be going clockwise or counter clockwise depends on the
          vertices of that triangle in clip space. In other words, WebGL figures out
          whether a triangle is front or back AFTER you've applied math to the
          vertices in the vertex shader. That means for example a clockwise
          triangle that is scaled in X by -1 becomes a counter clockwise triangle or
          a clockwise triangle rotated 180 degrees becomes a counter clockwise
          triangle. Because we had CULL_FACE disabled we can see both
          clockwise(front) and counter clockwise(back) triangles. Now that we've
          turned it on, any time a front facing triangle flips around either because
          of scaling or rotation or for whatever reason, WebGL won't draw it.
          That's a good thing since as your turn something around in 3D you
          generally want whichever triangles are facing you to be considered front
          facing.</p>
        <p>With CULL_FACE turned on this is what we get</p>
        <p></p>
        <div class="webgl_example_container">
          <iframe class="webgl_example" style=" " src="WebGL2%20-%20Orthographic%203D_files/editor_004.html"></iframe>
          <a class="webgl_center" href="https://webgl2fundamentals.org/webgl/webgl-3d-step4.html" target="_blank">click
            here to open in a separate window</a>
        </div>

        <p></p>
        <p>Hey! Where did all the triangles go? It turns out, many of them are
          facing the wrong way. Rotate it and you'll see them appear when you look
          at the other side. Fortunately it's easy to fix. We just look at which
          ones are backward and exchange 2 of their vertices. For example if one
          backward triangle is</p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="pln">           </span><span class="lit">1</span><span class="pun">,</span><span class="pln">   </span><span class="lit">2</span><span class="pun">,</span><span class="pln">   </span><span class="lit">3</span><span class="pun">,</span></li><li class=""><span class="pln">          </span><span class="lit">40</span><span class="pun">,</span><span class="pln">  </span><span class="lit">50</span><span class="pun">,</span><span class="pln">  </span><span class="lit">60</span><span class="pun">,</span></li><li class=""><span class="pln">         </span><span class="lit">700</span><span class="pun">,</span><span class="pln"> </span><span class="lit">800</span><span class="pun">,</span><span class="pln"> </span><span class="lit">900</span><span class="pun">,</span></li></ul></pre>
        <p>we just swap the last 2 vertices to make it forward.</p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="pln">           </span><span class="lit">1</span><span class="pun">,</span><span class="pln">   </span><span class="lit">2</span><span class="pun">,</span><span class="pln">   </span><span class="lit">3</span><span class="pun">,</span></li><li class="linemodified"><span class="pln">         </span><span class="lit">700</span><span class="pun">,</span><span class="pln"> </span><span class="lit">800</span><span class="pun">,</span><span class="pln"> </span><span class="lit">900</span><span class="pun">,</span></li><li class="linemodified"><span class="pln">          </span><span class="lit">40</span><span class="pun">,</span><span class="pln">  </span><span class="lit">50</span><span class="pun">,</span><span class="pln">  </span><span class="lit">60</span><span class="pun">,</span></li></ul></pre>
        <p>Going through and fixing all the backward triangles gets us to this</p>
        <p></p>
        <div class="webgl_example_container">
          <iframe class="webgl_example" style=" " src="WebGL2%20-%20Orthographic%203D_files/editor_005.html"></iframe>
          <a class="webgl_center" href="https://webgl2fundamentals.org/webgl/webgl-3d-step5.html" target="_blank">click
            here to open in a separate window</a>
        </div>

        <p></p>
        <p>That's closer but there's still one more problem. Even with all the
          triangles facing in the correct direction and with the back facing ones
          being culled we still have places where triangles that should be in the back
          are being drawn over triangles that should be in front.</p>
        <p>Enter the DEPTH BUFFER.</p>
        <p>A depth buffer, sometimes called a Z-Buffer, is a rectangle of <em>depth</em>
          pixels, one depth pixel for each color pixel used to make the image. As
          WebGL draws each color pixel it can also draw a depth pixel. It does this
          based on the values we return from the vertex shader for Z. Just like we
          had to convert to clip space for X and Y, Z is also in clip space or (-1
          to +1). That value is then converted into a depth space value (0 to +1).
          Before WebGL draws a color pixel it will check the corresponding depth
          pixel. If the depth value for the pixel it's about to draw is greater
          than the value of the corresponding depth pixel then WebGL does not draw
          the new color pixel. Otherwise it draws both the new color pixel with the
          color from your fragment shader AND it draws the depth pixel with the new
          depth value. This means, pixels that are behind other pixels won't get
          drawn.</p>
        <p>We can turn on this feature nearly as simply as we turned on culling with</p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="pln">  gl</span><span class="pun">.</span><span class="pln">enable</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">DEPTH_TEST</span><span class="pun">);</span></li></ul></pre>
        <p>We also need to clear the depth buffer back to 1.0 before we start drawing.</p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="pln">  </span><span class="com">// Draw the scene.</span></li><li class=""><span class="pln">  </span><span class="kwd">function</span><span class="pln"> drawScene</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">    </span><span class="pun">...</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">    </span><span class="com">// Clear the canvas AND the depth buffer.</span></li><li class=""><span class="pln">    gl</span><span class="pun">.</span><span class="pln">clear</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">COLOR_BUFFER_BIT </span><span class="pun">|</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">DEPTH_BUFFER_BIT</span><span class="pun">);</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">    </span><span class="pun">...</span></li></ul></pre>
        <p>And now we get</p>
        <p></p>
        <div class="webgl_example_container">
          <iframe class="webgl_example" style=" " src="WebGL2%20-%20Orthographic%203D_files/editor_006.html"></iframe>
          <a class="webgl_center" href="https://webgl2fundamentals.org/webgl/webgl-3d-step6.html" target="_blank">click
            here to open in a separate window</a>
        </div>

        <p></p>
        <p>which is 3D!</p>
        <p>One minor thing. In most 3d math libraries there is no <code class="notranslate"
            translate="no">projection</code> function to
          do our conversions from clip space to pixel space. Rather there's usually a function
          called <code class="notranslate" translate="no">ortho</code> or <code class="notranslate"
            translate="no">orthographic</code> that looks like this</p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="kwd">var</span><span class="pln"> m4 </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">  orthographic</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">left</span><span class="pun">,</span><span class="pln"> right</span><span class="pun">,</span><span class="pln"> bottom</span><span class="pun">,</span><span class="pln"> top</span><span class="pun">,</span><span class="pln"> near</span><span class="pun">,</span><span class="pln"> far</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span></li><li class=""><span class="pln">      </span><span class="lit">2</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="pun">(</span><span class="pln">right </span><span class="pun">-</span><span class="pln"> left</span><span class="pun">),</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">      </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="pun">(</span><span class="pln">top </span><span class="pun">-</span><span class="pln"> bottom</span><span class="pun">),</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">      </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="pun">(</span><span class="pln">near </span><span class="pun">-</span><span class="pln"> far</span><span class="pun">),</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">      </span><span class="pun">(</span><span class="pln">left </span><span class="pun">+</span><span class="pln"> right</span><span class="pun">)</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="pun">(</span><span class="pln">left </span><span class="pun">-</span><span class="pln"> right</span><span class="pun">),</span></li><li class=""><span class="pln">      </span><span class="pun">(</span><span class="pln">bottom </span><span class="pun">+</span><span class="pln"> top</span><span class="pun">)</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bottom </span><span class="pun">-</span><span class="pln"> top</span><span class="pun">),</span></li><li class=""><span class="pln">      </span><span class="pun">(</span><span class="pln">near </span><span class="pun">+</span><span class="pln"> far</span><span class="pun">)</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="pun">(</span><span class="pln">near </span><span class="pun">-</span><span class="pln"> far</span><span class="pun">),</span></li><li class=""><span class="pln">      </span><span class="lit">1</span><span class="pun">,</span></li><li class=""><span class="pln">    </span><span class="pun">];</span></li><li class=""><span class="pln">  </span><span class="pun">}</span></li></ul></pre>
        <p>Unlike our simplified <code class="notranslate" translate="no">projection</code> function above which only
          had width, height, and depth
          parameters this more common orthographic projection function we can pass in left, right,
          bottom, top, near, and far which gives as more flexibility. To use it the same as
          our original projection function we'd call it with</p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="kwd">var</span><span class="pln"> left </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></li><li class=""><span class="kwd">var</span><span class="pln"> right </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">canvas</span><span class="pun">.</span><span class="pln">clientWidth</span><span class="pun">;</span></li><li class=""><span class="kwd">var</span><span class="pln"> bottom </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">canvas</span><span class="pun">.</span><span class="pln">clientHeight</span><span class="pun">;</span></li><li class=""><span class="kwd">var</span><span class="pln"> top </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></li><li class=""><span class="kwd">var</span><span class="pln"> near </span><span class="pun">=</span><span class="pln"> </span><span class="lit">400</span><span class="pun">;</span></li><li class=""><span class="kwd">var</span><span class="pln"> far </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">400</span><span class="pun">;</span></li><li class=""><span class="pln">m4</span><span class="pun">.</span><span class="pln">orthographic</span><span class="pun">(</span><span class="pln">left</span><span class="pun">,</span><span class="pln"> right</span><span class="pun">,</span><span class="pln"> bottom</span><span class="pun">,</span><span class="pln"> top</span><span class="pun">,</span><span class="pln"> near</span><span class="pun">,</span><span class="pln"> far</span><span class="pun">);</span></li></ul></pre>
        <p>In the next post I'll go over <a
            href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-perspective.html">how to make it have
            perspective</a>.</p>
        <div class="webgl_bottombar">
          <h3>Why is the attribute vec4 but gl.vertexAttribPointer size 3</h3>
          <p>
            For those of you who are detail oriented you might have noticed we defined our 2 attributes as
          </p>
          <pre class="prettyprint showlinemods prettyprinted"
            style=""><ul class="modifiedlines"><li class=""><span class="kwd">in</span><span class="pln"> vec4 a_position</span><span class="pun">;</span></li><li class=""><span class="kwd">in</span><span class="pln"> vec4 a_color</span><span class="pun">;</span></li></ul></pre>
          <p>both of which are 'vec4' but when we tell WebGL how to take data out of our buffers we used</p>
          <pre class="prettyprint showlinemods prettyprinted"
            style=""><ul class="modifiedlines"><li class=""><span class="com">// Tell the attribute how to get data out of positionBuffer (ARRAY_BUFFER)</span></li><li class=""><span class="kwd">var</span><span class="pln"> size </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln">          </span><span class="com">// 3 components per iteration</span></li><li class=""><span class="kwd">var</span><span class="pln"> type </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">FLOAT</span><span class="pun">;</span><span class="pln">   </span><span class="com">// the data is 32bit floats</span></li><li class=""><span class="kwd">var</span><span class="pln"> normalize </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><span class="com">// don't normalize the data</span></li><li class=""><span class="kwd">var</span><span class="pln"> stride </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">        </span><span class="com">// 0 = move forward size * sizeof(type) each</span></li><li class=""><span class="pln">                       </span><span class="com">// iteration to get the next position</span></li><li class=""><span class="kwd">var</span><span class="pln"> offset </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">        </span><span class="com">// start at the beginning of the buffer</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">vertexAttribPointer</span><span class="pun">(</span></li><li class=""><span class="pln">    positionAttributeLocation</span><span class="pun">,</span><span class="pln"> size</span><span class="pun">,</span><span class="pln"> type</span><span class="pun">,</span><span class="pln"> normalize</span><span class="pun">,</span><span class="pln"> stride</span><span class="pun">,</span><span class="pln"> offset</span><span class="pun">);</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pun">...</span></li><li class=""><span class="com">// Tell the attribute how to get data out of colorBuffer (ARRAY_BUFFER)</span></li><li class=""><span class="kwd">var</span><span class="pln"> size </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln">          </span><span class="com">// 3 components per iteration</span></li><li class=""><span class="kwd">var</span><span class="pln"> type </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">UNSIGNED_BYTE</span><span class="pun">;</span><span class="pln">   </span><span class="com">// the data is 8bit unsigned bytes</span></li><li class=""><span class="kwd">var</span><span class="pln"> normalize </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">  </span><span class="com">// convert from 0-255 to 0.0-1.0</span></li><li class=""><span class="kwd">var</span><span class="pln"> stride </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">        </span><span class="com">// 0 = move forward size * sizeof(type) each</span></li><li class=""><span class="pln">                       </span><span class="com">// iteration to get the next color</span></li><li class=""><span class="kwd">var</span><span class="pln"> offset </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">        </span><span class="com">// start at the beginning of the buffer</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">vertexAttribPointer</span><span class="pun">(</span></li><li class=""><span class="pln">    colorAttributeLocation</span><span class="pun">,</span><span class="pln"> size</span><span class="pun">,</span><span class="pln"> type</span><span class="pun">,</span><span class="pln"> normalize</span><span class="pun">,</span><span class="pln"> stride</span><span class="pun">,</span><span class="pln"> offset</span><span class="pun">);</span></li></ul></pre>
          <p>
            That '3' in each of those says only to pull 3 values out of the buffer per attribute
            per iteration of the vertex shader.
            This works because in the vertex shader WebGL provides defaults for those
            values you don't supply. The defaults are 0, 0, 0, 1 where x = 0, y = 0, z = 0
            and w = 1. This is why in our old 2D vertex shader we had to explicitly
            supply the 1. We were passing in x and y and we needed a 1 for z but
            because the default for z is 0 we had to explicitly supply a 1. For 3D
            though, even though we don't supply a 'w' it defaults to 1 which is what
            we need for the matrix math to work.
          </p>
        </div>

      </div>
      <div class="lesson-sidebar">
        <select class="language">
          <option value="/webgl/lessons/webgl-3d-orthographic.html" selected="selected">English
          </option>
          <option value="/webgl/lessons/de/webgl-3d-orthographic.html">Deutsch
          </option>
          <option value="/webgl/lessons/ja/webgl-3d-orthographic.html">日本語
          </option>
          <option value="/webgl/lessons/ko/webgl-3d-orthographic.html">한국어
          </option>
          <option value="/webgl/lessons/pt-br/webgl-3d-orthographic.html">Português Brasileiro
          </option>
          <option value="/webgl/lessons/zh_cn/webgl-3d-orthographic.html">简体中文
          </option>
        </select>


        <div id="toc">
          <ul>
            <li>Fundamentals</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-getting-webgl2.html">How to use WebGL2</a>
              </li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-fundamentals.html">Fundamentals</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-how-it-works.html">How It Works</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-shaders-and-glsl.html">Shaders and
                  GLSL</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/resources/webgl-state-diagram.html">WebGL2 State
                  Diagram</a></li>
            </ul>
            <li>WebGL2 vs WebGL1</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl2-whats-new.html">What's new in WebGL2</a>
              </li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl1-to-webgl2.html">Moving from WebGL1 to
                  WebGL2</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl1-to-webgl2-fundamentals.html">Differences
                  from WebGLFundamentals.org to WebGL2Fundamentals.org</a></li>
            </ul>
            <li>Image Processing</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-image-processing.html">Image
                  Processing</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-image-processing-continued.html">Image
                  Processing Continued</a></li>
            </ul>
            <li>2D translation, rotation, scale, matrix math</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2d-translation.html">2D Translation</a>
              </li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2d-rotation.html">2D Rotation</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2d-scale.html">2D Scale</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2d-matrices.html">2D Matrices</a></li>
            </ul>
            <li>3D</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-orthographic.html">Orthographic 3D</a>
              </li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-perspective.html">3D Perspective</a>
              </li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-camera.html">3D - Cameras</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-matrix-naming.html">3D - Matrix Naming</a>
              </li>
            </ul>
            <li>Lighting</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-lighting-directional.html">Directional
                  Lighting</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-lighting-point.html">Point Lighting</a>
              </li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-lighting-spot.html">Spot Lighting</a>
              </li>
            </ul>
            <li>Structure and Organization</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-less-code-more-fun.html">Less Code, More
                  Fun</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-drawing-multiple-things.html">Drawing
                  Multiple Things</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-scene-graph.html">Scene Graphs</a></li>
            </ul>
            <li>Geometry</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-geometry-lathe.html">3D Geometry -
                  Lathe</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-load-obj.html">Loading .obj files</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-load-obj-w-mtl.html">Loading .obj w .mtl
                  files</a></li>
            </ul>
            <li>Textures</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-textures.html">Textures</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-data-textures.html">Data Textures</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2-textures.html">Using 2 or More
                  Textures</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-cors-permission.html">Cross Origin
                  Images</a></li>
              <li><a
                  href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-perspective-correct-texturemapping.html">Perspective
                  Correct Texture Mapping</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-planar-projection-mapping.html">Planar and
                  Perspective Projection Mapping</a></li>
            </ul>
            <li>Rendering To A Texture</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-render-to-texture.html">Render to
                  Texture</a></li>
            </ul>
            <li>Shadows</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-shadows.html">Shadows</a></li>
            </ul>
            <li>Techniques</li>
            <ul>
              <li>2D</li>
              <ul>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2d-drawimage.html">2D - DrawImage</a>
                </li>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2d-matrix-stack.html">2D - Matrix
                    Stack</a></li>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-sprites.html">Sprites</a></li>
              </ul>
              <li>3D</li>
              <ul>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-cube-maps.html">Cubemaps</a></li>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-environment-maps.html">Environment
                    maps</a></li>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-skybox.html">Skyboxes</a></li>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-skinning.html">Skinning</a></li>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-fog.html">Fog</a></li>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-picking.html">Picking (clicking on
                    stuff)</a></li>
              </ul>
              <li>Text</li>
              <ul>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-text-html.html">Text - HTML</a></li>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-text-canvas2d.html">Text - Canvas 2D</a>
                </li>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-text-texture.html">Text - Using a
                    Texture</a></li>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-text-glyphs.html">Text - Using a Glyph
                    Texture</a></li>
              </ul>
              <li>GPGPU</li>
              <ul>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-gpgpu.html">GPGPU</a></li>
              </ul>
            </ul>
            <li>Tips</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-smallest-programs.html">Smallest
                  Programs</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-drawing-without-data.html">Drawing Without
                  Data</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-shadertoy.html">Shadertoy</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-pulling-vertices.html">Pulling
                  Vertices</a></li>
            </ul>
            <li>Optimization</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-indexed-vertices.html">Indexed Vertices
                  (gl.drawElements)</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-instanced-drawing.html">Instanced
                  Drawing</a></li>
            </ul>
            <li>Misc</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-setup-and-installation.html">Setup And
                  Installation</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-boilerplate.html">Boilerplate</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-resizing-the-canvas.html">Resizing the
                  Canvas</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-animation.html">Animation</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-points-lines-triangles.html">Points,
                  Lines, and Triangles</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-multiple-views.html">Multiple Views,
                  Multiple Canvases</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-visualizing-the-camera.html">Visualizing
                  the Camera</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-and-alpha.html">WebGL2 and Alpha</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2d-vs-3d-library.html">2D vs 3D
                  libraries</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-anti-patterns.html">Anti-Patterns</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-matrix-vs-math.html">WebGL2 Matrices vs
                  Math Matrices</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-precision-issues.html">Precision
                  Issues</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-tips.html#screenshot">Taking a
                  screenshot</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-tips.html#preservedrawingbuffer">Prevent
                  the Canvas Being Cleared</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-tips.html#tabindex">Get Keyboard Input
                  From a Canvas</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-tips.html#html-background">Use WebGL2 as
                  Background in HTML</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-cross-platform-issues.html">Cross Platform
                  Issues</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-qna.html">Questions and Answers</a></li>
            </ul>
            <li>Reference</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-attributes.html">Attributes</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-texture-units.html">Texture Units</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-framebuffers.html">Framebuffers</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-readpixels.html">readPixels</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-references.html">References</a></li>
            </ul>
          </ul>
          <ul>
            <li><a href="https://webgl2fundamentals.org/docs/">Helper API Docs</a></li>
            <li><a href="https://twgljs.org/">TWGL, A tiny WebGL helper library</a></li>
            <li><a href="https://github.com/gfxfundamentals/webgl2-fundamentals">github</a></li>
          </ul>
        </div>
      </div>
      <div class="lesson-comments">

        <div>Issue/Bug? <a href="https://github.com/gfxfundamentals/webgl2-fundamentals/issues">Create an issue on
            github</a>.</div>
        <div class="lesson-comment-notes">
          Use <b>&lt;pre&gt;&lt;code&gt;</b>code goes here<b>&lt;/code&gt;&lt;/pre&gt;</b> for code blocks
        </div>


        <div id="disqus_thread"></div>
        <script>
          /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
          var disqus_shortname = 'webgl2fundamentals'; // required: replace example with your forum shortname
          var disqus_identifier = 'WebGL2 - Orthographic 3D';
          var disqus_title = 'WebGL2 - Orthographic 3D';

          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function () {
            if (window.location.hostname.indexOf("webgl2fundamentals.org") < 0) {
              return;
            }
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="https://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </div>
    </div>
  </div>

  <script>
    const settings = {
      contribTemplate: "Thank you <a href=\"${html_url}\"><img src=\"${avatar_url}\"> ${login}</a><br>for <a href=\"https://github.com/${owner}/${repo}/commits?author=${login}\">${contributions} contributions</a>",
      owner: "gfxfundamentals",
      repo: "webgl2-fundamentals",
    };
  </script>
  <script src="WebGL2%20-%20Orthographic%203D_files/contributors.js"></script>
  <script src="WebGL2%20-%20Orthographic%203D_files/jquery-1.11.2.min.js"></script>
  <script src="WebGL2%20-%20Orthographic%203D_files/prettify.js"></script>
  <script src="WebGL2%20-%20Orthographic%203D_files/lesson.js" type="module"></script>
  <script>
    (function () {
      if (window.location.hostname.indexOf("webgl2fundamentals.org") < 0) {
        return;
      }

      function addScript(src, type, fn) {
        const script = document.createElement('script');
        const firstScript = document.getElementsByTagName('script')[0];
        script.async = true;
        script.defer = true;
        script.type = type || 'javascript';
        if (fn) {
          script.addEventListener('load', fn);
        }
        script.src = src;
        firstScript.parentNode.insertBefore(script, firstScript);
      }

      // can't do this because it would eat contexts
      //addScript('//gpustats.org/stats.js', 'module');

      (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
          (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
          m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
      })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

      ga('create', 'UA-90754717-1', 'auto');
      ga('send', 'pageview');
    }());
  </script>






</body>

</html>