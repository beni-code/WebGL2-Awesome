<!DOCTYPE html>
<!-- this file is auto-generated from webgl/lessons/webgl-shaders-and-glsl.md. Do not edited directly -->
<!--
Copyright 2021, GFXFundamentals.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:

*   Redistributions of source code must retain the above copyright
    notice, this list of conditions and the following disclaimer.

*   Redistributions in binary form must reproduce the above
    copyright notice, this list of conditions and the following disclaimer
    in the documentation and/or other materials provided with the
    distribution.

*   Neither the name of GFXFundamentals. nor the names of his
    contributors may be used to endorse or promote products derived from
    this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-->
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="What's a shader and what's GLSL">
<meta name="keywords" content="webgl webgl2 graphics">
<meta name="thumbnail" content="https://webgl2fundamentals.org/webgl/lessons/screenshots/webgl-shaders-and-glsl_en.jpg">

<meta property="og:title" content="WebGL2 Shaders and GLSL">
<meta property="og:type" content="website">
<meta property="og:image" content="https://webgl2fundamentals.org/webgl/lessons/screenshots/webgl-shaders-and-glsl_en.jpg">
<meta property="og:description" content="What's a shader and what's GLSL">
<meta property="og:url" content="https://webgl2fundamentals.org/webgl/lessons/webgl-shaders-and-glsl.html">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@greggman">
<meta name="twitter:creator" content="@greggman">
<meta name="twitter:domain" content="webgl2fundamentals.org">
<meta name="twitter:title" content="WebGL2 Shaders and GLSL">
<meta name="twitter:url" content="https://webgl2fundamentals.org/webgl/lessons/webgl-shaders-and-glsl.html">
<meta name="twitter:description" content="What's a shader and what's GLSL">
<meta name="twitter:image:src" content="https://webgl2fundamentals.org/webgl/lessons/screenshots/webgl-shaders-and-glsl_en.jpg">

<script async="" src="WebGL2%20Shaders%20and%20GLSL_files/analytics.js"></script><script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@graph":[
    {
      "@type":"WebSite",
      "@id":"https://webgl2fundamentals.org/#website",
      "url":"https://webgl2fundamentals.org/",
      "name":"Webgl2Fundamentals"
    },
    {
      "@type":"ImageObject",
      "@id":"https://webgl2fundamentals.org/webgl/lessons/webgl-shaders-and-glsl.html#primaryimage",
      "url":"https://webgl2fundamentals.org/webgl/lessons/screenshots/webgl-shaders-and-glsl_en.jpg",
      "width":1200,
      "height":630
    },
    {
      "@type":"WebPage",
      "@id":"https://webgl2fundamentals.org/webgl/lessons/webgl-shaders-and-glsl.html#webpage",
      "url":"https://webgl2fundamentals.org/webgl/lessons/webgl-shaders-and-glsl.html",
      "inLanguage":"en",
      "name":"WebGL2 Shaders and GLSL",
      "keywords":"webgl webgl2 graphics programming",
      "isPartOf":{
        "@id":"https://webgl2fundamentals.org/#website"
      },
      "primaryImageOfPage":{
        "@id":"https://webgl2fundamentals.org/webgl/lessons/webgl-shaders-and-glsl.html#primaryimage"
      }
    }
  ]
}
</script>


<title>WebGL2 Shaders and GLSL</title>
<link href="https://webgl2fundamentals.org/webgl/lessons/resources/webgl2fundamentals-icon.png" rel="shortcut icon" type="image/png">
<link rel="stylesheet" href="WebGL2%20Shaders%20and%20GLSL_files/lang.css">
<link rel="stylesheet" href="WebGL2%20Shaders%20and%20GLSL_files/lesson.css">

  <link rel="alternate" hreflang="en" href="https://webglfundamentals.org/webgl/lessons/webgl-shaders-and-glsl.html">
  <link rel="alternate" hreflang="de" href="https://webglfundamentals.org/webgl/lessons/de/webgl-shaders-and-glsl.html">
  <link rel="alternate" hreflang="ja" href="https://webglfundamentals.org/webgl/lessons/ja/webgl-shaders-and-glsl.html">
  <link rel="alternate" hreflang="ko" href="https://webglfundamentals.org/webgl/lessons/ko/webgl-shaders-and-glsl.html">
  <link rel="alternate" hreflang="pt-br" href="https://webglfundamentals.org/webgl/lessons/pt-br/webgl-shaders-and-glsl.html">
  <link rel="alternate" hreflang="zh_cn" href="https://webglfundamentals.org/webgl/lessons/zh_cn/webgl-shaders-and-glsl.html">




<script type="text/javascript" async="" src="WebGL2%20Shaders%20and%20GLSL_files/embed.js"></script><link rel="prefetch" as="style" href="WebGL2%20Shaders%20and%20GLSL_files/a_data_002/lounge.973e8258c48717b79b37fecbf85dcea2.css"><link rel="prefetch" as="script" href="WebGL2%20Shaders%20and%20GLSL_files/a_data_002/common.bundle.78f08d08ee97a04dc049cbcf3a5ec827.js"><link rel="prefetch" as="script" href="WebGL2%20Shaders%20and%20GLSL_files/a_data_002/lounge.bundle.80bb1523f48c6d611d4ba6c652892c20.js"><link rel="prefetch" as="script" href="WebGL2%20Shaders%20and%20GLSL_files/a_data_002/config.js"></head>
<body>
<div class="webgl_navbar">
  <div>
    <select class="language">
    <option value="/webgl/lessons/webgl-shaders-and-glsl.html" selected="selected">English
    </option><option value="/webgl/lessons/de/webgl-shaders-and-glsl.html">Deutsch
    </option><option value="/webgl/lessons/ja/webgl-shaders-and-glsl.html">日本語
    </option><option value="/webgl/lessons/ko/webgl-shaders-and-glsl.html">한국어
    </option><option value="/webgl/lessons/pt-br/webgl-shaders-and-glsl.html">Português Brasileiro
    </option><option value="/webgl/lessons/zh_cn/webgl-shaders-and-glsl.html">简体中文
</option></select>


    <a href="#toc">Table of Contents</a>
  </div>
</div>
<div class="webgl_header">
  <h1><a href="https://webgl2fundamentals.org/">WebGL2Fundamentals.org</a></h1>
<style>
#forkongithub>div {
    background: #000;
    color: #fff;
    font-family: arial,sans-serif;
    text-align: center;
    font-weight: bold;
    padding: 5px 40px;
    font-size: 0.9rem;
    line-height: 1.3rem;
    position: relative;
    transition: 0.5s;
    display: block;
    width: 400px;
    position: absolute;
    top: 0;
    right: 0;
    transform: translateX(200px) rotate(45deg) translate(10px,70px);
    box-shadow: 4px 4px 10px rgba(0,0,0,0.8);
    pointer-events: auto;
}
#forkongithub a {
  text-decoration: none;
  color: #fff;
}
#forkongithub>div:hover {
    background: #c11;
    color: #fff;
}
#forkongithub .contributors {
  font-size: 0.75rem;
  background: rgba(255,255,255,0.2);
  line-height: 1.2;
  padding: 0.1em;
}
#forkongithub>div::before,#forkongithub>div::after {
    content: "";
    width: 100%;
    display: block;
    position: absolute;
    top: 1px;
    left: 0;
    height: 1px;
    background: #fff;
}
#forkongithub>div::after {
    bottom: 1px;
    top: auto;
}

#forkongithub{
    z-index: 9999;
    /* needed for firefox */
    overflow: hidden;
    width: 300px;
    height: 300px;
    position: absolute;
    right: 0;
    top: 0;
    pointer-events: none;
}
#forkongithub svg{
  width: 1em;
  height: 1em;
  vertical-align: middle;
}
#forkongithub img {
  width: 1em;
  height: 1em;
  border-radius: 100%;
  vertical-align: middle;
}

@media (max-width: 900px) {
    #forkongithub>div {
        line-height: 1.2rem;
    }
}
@media (max-width: 700px) {
  #forkongithub {
    display: none;
  }
}
@media (max-width: 410px) {
    #forkongithub>div {
        font-size: 0.7rem;
        transform: translateX(150px) rotate(45deg) translate(20px,40px);
    }
}

</style>
<div id="forkongithub"><div><div><a href="https://github.com/gfxfundamentals/webgl2-fundamentals">Fix, Fork, Contribute <!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<svg width="100%" height="100%" viewBox="0 0 136 133" version="1.1" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(3.92891,0,0,3.92891,67.867,129.125)">
        <path d="M0,-31.904C-8.995,-31.904 -16.288,-24.611 -16.288,-15.614C-16.288,-8.417 -11.621,-2.312 -5.148,-0.157C-4.333,-0.008 -4.036,-0.511 -4.036,-0.943C-4.036,-1.329 -4.05,-2.354 -4.058,-3.713C-8.589,-2.729 -9.545,-5.897 -9.545,-5.897C-10.286,-7.779 -11.354,-8.28 -11.354,-8.28C-12.833,-9.29 -11.242,-9.27 -11.242,-9.27C-9.607,-9.155 -8.747,-7.591 -8.747,-7.591C-7.294,-5.102 -4.934,-5.821 -4.006,-6.238C-3.858,-7.29 -3.438,-8.008 -2.972,-8.415C-6.589,-8.826 -10.392,-10.224 -10.392,-16.466C-10.392,-18.244 -9.757,-19.698 -8.715,-20.837C-8.883,-21.249 -9.442,-22.905 -8.556,-25.148C-8.556,-25.148 -7.188,-25.586 -4.076,-23.478C-2.777,-23.84 -1.383,-24.02 0.002,-24.026C1.385,-24.02 2.779,-23.84 4.08,-23.478C7.19,-25.586 8.555,-25.148 8.555,-25.148C9.444,-22.905 8.885,-21.249 8.717,-20.837C9.761,-19.698 10.392,-18.244 10.392,-16.466C10.392,-10.208 6.583,-8.831 2.954,-8.428C3.539,-7.925 4.06,-6.931 4.06,-5.411C4.06,-3.234 4.04,-1.477 4.04,-0.943C4.04,-0.507 4.333,0 5.16,-0.159C11.628,-2.318 16.291,-8.419 16.291,-15.614C16.291,-24.611 8.997,-31.904 0,-31.904" style="fill:white;"></path>
    </g>
</svg>
</a></div><div class="contributors">Thank you <a href="https://github.com/TroyTae"><img src="WebGL2%20Shaders%20and%20GLSL_files/20078201.png"> TroyTae</a><br>for <a href="https://github.com/gfxfundamentals/webgl2-fundamentals/commits?author=TroyTae">30 contributions</a></div></div></div>

</div>


<div class="container">
  <div class="lesson-title">
    <h1>WebGL2 Shaders and GLSL</h1>
  </div>
  <div class="lesson">
    <div class="lesson-main">

      <p>This is a continuation from <a href="https://webgl2fundamentals.org/webgl/lessons/webgl-fundamentals.html">WebGL Fundamentals</a>.
If you haven't read about how WebGL works you might want to <a href="https://webgl2fundamentals.org/webgl/lessons/webgl-how-it-works.html">read this first</a>.</p>

<p>这是 WebGL 基础知识的延续。 如果您还没有阅读过 WebGL 的工作原理，您可能想先阅读这篇文章。</p>
    

<p>We've talked about shaders and GLSL but haven't really given them any specific details.
I think I was hoping it would be clear by example but let's try to make it clearer just in case.</p>

<p>我们已经讨论了着色器和 GLSL，但还没有真正给它们任何具体细节。 我想我希望通过示例可以清楚地说明这一点，但为了以防万一，让我们尝试使其更清楚。</p>

<p>As mentioned in <a href="https://webgl2fundamentals.org/webgl/lessons/webgl-how-it-works.html">how it works</a> WebGL requires 2 shaders every time you
draw something. A <em>vertex shader</em> and a <em>fragment shader</em>. Each shader is a <em>function</em>. A vertex
shader and fragment shader are linked together into a shader program (or just program). A typical
WebGL app will have many shader programs.</p>

<p>正如其<a href="https://webgl2fundamentals.org/webgl/lessons/webgl-how-it-works.html">工作原理</a>中所述，WebGL 每次绘制内容时都需要 2 个着色器。 顶点着色器和片段着色器。 每个着色器都是一个函数。 顶点着色器和片段着色器链接在一起形成着色器程序（或只是程序）。 一个典型的 WebGL 应用程序会有很多着色器程序。</p>

<h2 id="vertex-shader">Vertex Shader</h2>
<p>A Vertex Shader's job is to generate clipspace coordinates. It always takes the form</p>

<p>顶点着色器的工作是生成剪裁空间坐标。 它总是采取以下形式</p>

<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="com">#version 300 es</span></li><li class=""><span class="kwd">void</span><span class="pln"> main</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">   gl_Position </span><span class="pun">=</span><span class="pln"> doMathToMakeClipspaceCoordinates</span></li><li class=""><span class="pun">}</span></li></ul></pre>

<p>Your shader is called once per vertex. Each time it's called you are required to set the special global variable, <code class="notranslate" translate="no">gl_Position</code> to some clipspace coordinates.</p>

<p>您的着色器每个顶点调用一次。 每次调用它时，您都需要将特殊的全局变量 <code class="notranslate" translate="no">gl_Position</code> 设置为一些裁剪空间坐标。</p>

<p>Vertex shaders need data. They can get that data in 3 ways.</p>

<p>顶点着色器需要数据。 他们可以通过 3 种方式获取数据。</p>

<ol>
<li><a href="#attributes">Attributes</a> (data pulled from buffers 从缓冲区中提取的数据)</li>
<li><a href="#uniforms">Uniforms</a> (values that stay the same for all vertices of a single draw call 对于单个绘制调用的所有顶点保持相同的值)</li>
<li><a href="#textures-in-vertex-shaders">Textures</a> (data from pixels/texels 来自像素/纹素的数据)</li>
</ol>
<h3 id="attributes">Attributes</h3>
<p>The most common way for a vertex shader to get data is through buffers and <em>attributes</em>.
<a href="https://webgl2fundamentals.org/webgl/lessons/webgl-how-it-works.html">How it works</a> covered buffers and
attributes. You create buffers,</p>

<p>顶点着色器获取数据的最常见方式是通过缓冲区和属性。 <a href="https://webgl2fundamentals.org/webgl/lessons/webgl-how-it-works.html">How it works</a>介绍了缓冲区和属性。 您创建缓冲区，</p>

<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="kwd">var</span><span class="pln"> buf </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">createBuffer</span><span class="pun">();</span></li></ul></pre>


<p>put data in those buffers</p>

<p>将数据放入这些缓冲区</p>

<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">bindBuffer</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">ARRAY_BUFFER</span><span class="pun">,</span><span class="pln"> buf</span><span class="pun">);</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">bufferData</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">ARRAY_BUFFER</span><span class="pun">,</span><span class="pln"> someData</span><span class="pun">,</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">STATIC_DRAW</span><span class="pun">);</span></li></ul></pre>


<p>Then, given a shader program you made you look up the location of its attributes,</p>

<p>然后，给定一个着色器程序，你查找它的属性的位置，</p>


<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="kwd">var</span><span class="pln"> positionLoc </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">getAttribLocation</span><span class="pun">(</span><span class="pln">someShaderProgram</span><span class="pun">,</span><span class="pln"> </span><span class="str">"a_position"</span><span class="pun">);</span></li></ul></pre>


<p>then tell WebGL how to pull data out of those buffers and into the attribute</p>

<p>然后告诉 WebGL 如何将数据从这些缓冲区中提取出来并放入属性中</p>

<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="com">// turn on getting data out of a buffer for this attribute</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">enableVertexAttribArray</span><span class="pun">(</span><span class="pln">positionLoc</span><span class="pun">);</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="kwd">var</span><span class="pln"> numComponents </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln">  </span><span class="com">// (x, y, z)</span></li><li class=""><span class="kwd">var</span><span class="pln"> type </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">FLOAT</span><span class="pun">;</span></li><li class=""><span class="kwd">var</span><span class="pln"> normalize </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">  </span><span class="com">// leave the values as they are 保持值不变</span></li><li class=""><span class="kwd">var</span><span class="pln"> offset </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">         </span><span class="com">// start at the beginning of the buffer</span></li><li class=""><span class="kwd">var</span><span class="pln"> stride </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">         </span><span class="com">// how many bytes to move to the next vertex</span></li><li class=""><span class="pln">                        </span><span class="com">// 0 = use the correct stride for type and numComponents</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">vertexAttribPointer</span><span class="pun">(</span><span class="pln">positionLoc</span><span class="pun">,</span><span class="pln"> numComponents</span><span class="pun">,</span><span class="pln"> type</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> stride</span><span class="pun">,</span><span class="pln"> offset</span><span class="pun">);</span></li></ul></pre>



<p>In <a href="https://webgl2fundamentals.org/webgl/lessons/webgl-fundamentals.html">WebGL fundamentals</a> we showed that we can do no math
in the shader and just pass the data directly through.</p>


<p>在 WebGL 基础知识中，我们展示了我们不能在着色器中进行任何数学运算，而只能直接传递数据。</p>

<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="com">#version 300 es</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="kwd">in</span><span class="pln"> vec4 a_position</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="kwd">void</span><span class="pln"> main</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">   gl_Position </span><span class="pun">=</span><span class="pln"> a_position</span><span class="pun">;</span></li><li class=""><span class="pun">}</span></li></ul></pre>


<p>If we put clipspace vertices into our buffers it will work.</p>

<p>如果我们将裁剪空间顶点放入我们的缓冲区，它就会起作用。</p>

<p>Attributes can use <code class="notranslate" translate="no">float</code>, <code class="notranslate" translate="no">vec2</code>, <code class="notranslate" translate="no">vec3</code>, <code class="notranslate" translate="no">vec4</code>, <code class="notranslate" translate="no">mat2</code>, <code class="notranslate" translate="no">mat3</code>, <code class="notranslate" translate="no">mat4</code>,
<code class="notranslate" translate="no">int</code>, <code class="notranslate" translate="no">ivec2</code>, <code class="notranslate" translate="no">ivec3</code>, <code class="notranslate" translate="no">ivec4</code>, <code class="notranslate" translate="no">uint</code>, <code class="notranslate" translate="no">uvec2</code>, <code class="notranslate" translate="no">uvec3</code>, <code class="notranslate" translate="no">uvec4</code> as types.</p>

<p>
  属性可以使用 <code class="notranslate" translate="no">float</code>, <code class="notranslate" translate="no">vec2</code>, <code class="notranslate" translate="no">vec3</code>, <code class="notranslate" translate="no">vec4</code>, <code class="notranslate" translate="no">mat2</code>, <code class="notranslate" translate="no">mat3</code>, <code class="notranslate" translate="no">mat4</code>,
  <code class="notranslate" translate="no">int</code>, <code class="notranslate" translate="no">ivec2</code>, <code class="notranslate" translate="no">ivec3</code>, <code class="notranslate" translate="no">ivec4</code>, <code class="notranslate" translate="no">uint</code>, <code class="notranslate" translate="no">uvec2</code>, <code class="notranslate" translate="no">uvec3</code>, <code class="notranslate" translate="no">uvec4</code> 作为类型。
</p>

<h3 id="uniforms">Uniforms</h3>
<p>For a vertex shader uniforms are values passed to the vertex shader that stay the same
for all vertices in a draw call. As a very simple example we could add an offset to
the vertex shader above</p>

<p>
  对于顶点着色器，uniforms 是传递给顶点着色器的值，对于绘制调用中的所有顶点都保持相同。 作为一个非常简单的例子，我们可以向上面的顶点着色器添加一个offset
</p>

<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="com">#version 300 es</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="kwd">in</span><span class="pln"> vec4 a_position</span><span class="pun">;</span></li><li class="lineadded"><span class="pln">uniform vec4 u_offset</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="kwd">void</span><span class="pln"> main</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">   gl_Position </span><span class="pun">=</span><span class="pln"> a_position </span><span class="pun">+</span><span class="pln"> u_offset</span><span class="pun">;</span></li><li class=""><span class="pun">}</span></li></ul></pre><p>And now we could offset every vertex by a certain amount. First we'd look up the
location of the uniform</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="kwd">var</span><span class="pln"> offsetLoc </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">getUniformLocation</span><span class="pun">(</span><span class="pln">someProgram</span><span class="pun">,</span><span class="pln"> </span><span class="str">"u_offset"</span><span class="pun">);</span></li></ul></pre><p>And then before drawing we'd set the uniform</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform4fv</span><span class="pun">(</span><span class="pln">offsetLoc</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">]);</span><span class="pln">  </span><span class="com">// offset it to the right half the screen</span></li></ul></pre><p>Uniforms can be many types. For each type you have to call the corresponding function to set it.</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform1f </span><span class="pun">(</span><span class="pln">floatUniformLoc</span><span class="pun">,</span><span class="pln"> v</span><span class="pun">);</span><span class="pln">                 </span><span class="com">// for float</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform1fv</span><span class="pun">(</span><span class="pln">floatUniformLoc</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">v</span><span class="pun">]);</span><span class="pln">               </span><span class="com">// for float or float array</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform2f </span><span class="pun">(</span><span class="pln">vec2UniformLoc</span><span class="pun">,</span><span class="pln">  v0</span><span class="pun">,</span><span class="pln"> v1</span><span class="pun">);</span><span class="pln">            </span><span class="com">// for vec2</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform2fv</span><span class="pun">(</span><span class="pln">vec2UniformLoc</span><span class="pun">,</span><span class="pln">  </span><span class="pun">[</span><span class="pln">v0</span><span class="pun">,</span><span class="pln"> v1</span><span class="pun">]);</span><span class="pln">          </span><span class="com">// for vec2 or vec2 array</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform3f </span><span class="pun">(</span><span class="pln">vec3UniformLoc</span><span class="pun">,</span><span class="pln">  v0</span><span class="pun">,</span><span class="pln"> v1</span><span class="pun">,</span><span class="pln"> v2</span><span class="pun">);</span><span class="pln">        </span><span class="com">// for vec3</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform3fv</span><span class="pun">(</span><span class="pln">vec3UniformLoc</span><span class="pun">,</span><span class="pln">  </span><span class="pun">[</span><span class="pln">v0</span><span class="pun">,</span><span class="pln"> v1</span><span class="pun">,</span><span class="pln"> v2</span><span class="pun">]);</span><span class="pln">      </span><span class="com">// for vec3 or vec3 array</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform4f </span><span class="pun">(</span><span class="pln">vec4UniformLoc</span><span class="pun">,</span><span class="pln">  v0</span><span class="pun">,</span><span class="pln"> v1</span><span class="pun">,</span><span class="pln"> v2</span><span class="pun">,</span><span class="pln"> v4</span><span class="pun">);</span><span class="pln">    </span><span class="com">// for vec4</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform4fv</span><span class="pun">(</span><span class="pln">vec4UniformLoc</span><span class="pun">,</span><span class="pln">  </span><span class="pun">[</span><span class="pln">v0</span><span class="pun">,</span><span class="pln"> v1</span><span class="pun">,</span><span class="pln"> v2</span><span class="pun">,</span><span class="pln"> v4</span><span class="pun">]);</span><span class="pln">  </span><span class="com">// for vec4 or vec4 array</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniformMatrix2fv</span><span class="pun">(</span><span class="pln">mat2UniformLoc</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">  </span><span class="lit">4x</span><span class="pln"> element array </span><span class="pun">])</span><span class="pln">  </span><span class="com">// for mat2 or mat2 array</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniformMatrix3fv</span><span class="pun">(</span><span class="pln">mat3UniformLoc</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">  </span><span class="lit">9x</span><span class="pln"> element array </span><span class="pun">])</span><span class="pln">  </span><span class="com">// for mat3 or mat3 array</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniformMatrix4fv</span><span class="pun">(</span><span class="pln">mat4UniformLoc</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="lit">16x</span><span class="pln"> element array </span><span class="pun">])</span><span class="pln">  </span><span class="com">// for mat4 or mat4 array</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform1i </span><span class="pun">(</span><span class="pln">intUniformLoc</span><span class="pun">,</span><span class="pln">   v</span><span class="pun">);</span><span class="pln">                 </span><span class="com">// for int</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform1iv</span><span class="pun">(</span><span class="pln">intUniformLoc</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">v</span><span class="pun">]);</span><span class="pln">                 </span><span class="com">// for int or int array</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform2i </span><span class="pun">(</span><span class="pln">ivec2UniformLoc</span><span class="pun">,</span><span class="pln"> v0</span><span class="pun">,</span><span class="pln"> v1</span><span class="pun">);</span><span class="pln">            </span><span class="com">// for ivec2</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform2iv</span><span class="pun">(</span><span class="pln">ivec2UniformLoc</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">v0</span><span class="pun">,</span><span class="pln"> v1</span><span class="pun">]);</span><span class="pln">          </span><span class="com">// for ivec2 or ivec2 array</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform3i </span><span class="pun">(</span><span class="pln">ivec3UniformLoc</span><span class="pun">,</span><span class="pln"> v0</span><span class="pun">,</span><span class="pln"> v1</span><span class="pun">,</span><span class="pln"> v2</span><span class="pun">);</span><span class="pln">        </span><span class="com">// for ivec3</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform3iv</span><span class="pun">(</span><span class="pln">ivec3UniformLoc</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">v0</span><span class="pun">,</span><span class="pln"> v1</span><span class="pun">,</span><span class="pln"> v2</span><span class="pun">]);</span><span class="pln">      </span><span class="com">// for ivec3 or ivec3 array</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform4i </span><span class="pun">(</span><span class="pln">ivec4UniformLoc</span><span class="pun">,</span><span class="pln"> v0</span><span class="pun">,</span><span class="pln"> v1</span><span class="pun">,</span><span class="pln"> v2</span><span class="pun">,</span><span class="pln"> v4</span><span class="pun">);</span><span class="pln">    </span><span class="com">// for ivec4</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform4iv</span><span class="pun">(</span><span class="pln">ivec4UniformLoc</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">v0</span><span class="pun">,</span><span class="pln"> v1</span><span class="pun">,</span><span class="pln"> v2</span><span class="pun">,</span><span class="pln"> v4</span><span class="pun">]);</span><span class="pln">  </span><span class="com">// for ivec4 or ivec4 array</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform1u </span><span class="pun">(</span><span class="pln">intUniformLoc</span><span class="pun">,</span><span class="pln">   v</span><span class="pun">);</span><span class="pln">                 </span><span class="com">// for uint</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform1uv</span><span class="pun">(</span><span class="pln">intUniformLoc</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">v</span><span class="pun">]);</span><span class="pln">                 </span><span class="com">// for uint or uint array</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform2u </span><span class="pun">(</span><span class="pln">ivec2UniformLoc</span><span class="pun">,</span><span class="pln"> v0</span><span class="pun">,</span><span class="pln"> v1</span><span class="pun">);</span><span class="pln">            </span><span class="com">// for uvec2</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform2uv</span><span class="pun">(</span><span class="pln">ivec2UniformLoc</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">v0</span><span class="pun">,</span><span class="pln"> v1</span><span class="pun">]);</span><span class="pln">          </span><span class="com">// for uvec2 or uvec2 array</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform3u </span><span class="pun">(</span><span class="pln">ivec3UniformLoc</span><span class="pun">,</span><span class="pln"> v0</span><span class="pun">,</span><span class="pln"> v1</span><span class="pun">,</span><span class="pln"> v2</span><span class="pun">);</span><span class="pln">        </span><span class="com">// for uvec3</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform3uv</span><span class="pun">(</span><span class="pln">ivec3UniformLoc</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">v0</span><span class="pun">,</span><span class="pln"> v1</span><span class="pun">,</span><span class="pln"> v2</span><span class="pun">]);</span><span class="pln">      </span><span class="com">// for uvec3 or uvec3 array</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform4u </span><span class="pun">(</span><span class="pln">ivec4UniformLoc</span><span class="pun">,</span><span class="pln"> v0</span><span class="pun">,</span><span class="pln"> v1</span><span class="pun">,</span><span class="pln"> v2</span><span class="pun">,</span><span class="pln"> v4</span><span class="pun">);</span><span class="pln">    </span><span class="com">// for uvec4</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform4uv</span><span class="pun">(</span><span class="pln">ivec4UniformLoc</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">v0</span><span class="pun">,</span><span class="pln"> v1</span><span class="pun">,</span><span class="pln"> v2</span><span class="pun">,</span><span class="pln"> v4</span><span class="pun">]);</span><span class="pln">  </span><span class="com">// for uvec4 or uvec4 array</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// for sampler2D, sampler3D, samplerCube, samplerCubeShadow, sampler2DShadow,</span></li><li class=""><span class="com">// sampler2DArray, sampler2DArrayShadow</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform1i </span><span class="pun">(</span><span class="pln">samplerUniformLoc</span><span class="pun">,</span><span class="pln">   v</span><span class="pun">);</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform1iv</span><span class="pun">(</span><span class="pln">samplerUniformLoc</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">v</span><span class="pun">]);</span></li></ul></pre><p>There's also types <code class="notranslate" translate="no">bool</code>, <code class="notranslate" translate="no">bvec2</code>, <code class="notranslate" translate="no">bvec3</code>, and <code class="notranslate" translate="no">bvec4</code>. They use either the <code class="notranslate" translate="no">gl.uniform?f?</code>, <code class="notranslate" translate="no">gl.uniform?i?</code>,
or <code class="notranslate" translate="no">gl.uniform?u?</code> functions.</p>
<p>Note that for an array you can set all the uniforms of the array at once. For example</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="com">// in shader</span></li><li class=""><span class="pln">uniform vec2 u_someVec2</span><span class="pun">[</span><span class="lit">3</span><span class="pun">];</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// in JavaScript at init time</span></li><li class=""><span class="kwd">var</span><span class="pln"> someVec2Loc </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">getUniformLocation</span><span class="pun">(</span><span class="pln">someProgram</span><span class="pun">,</span><span class="pln"> </span><span class="str">"u_someVec2"</span><span class="pun">);</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// at render time</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform2fv</span><span class="pun">(</span><span class="pln">someVec2Loc</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">,</span><span class="pln"> </span><span class="lit">5</span><span class="pun">,</span><span class="pln"> </span><span class="lit">6</span><span class="pun">]);</span><span class="pln">  </span><span class="com">// set the entire array of u_someVec2</span></li></ul></pre><p>But if you want to set individual elements of the array you must look up the location of
each element individually.</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="com">// in JavaScript at init time</span></li><li class=""><span class="kwd">var</span><span class="pln"> someVec2Element0Loc </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">getUniformLocation</span><span class="pun">(</span><span class="pln">someProgram</span><span class="pun">,</span><span class="pln"> </span><span class="str">"u_someVec2[0]"</span><span class="pun">);</span></li><li class=""><span class="kwd">var</span><span class="pln"> someVec2Element1Loc </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">getUniformLocation</span><span class="pun">(</span><span class="pln">someProgram</span><span class="pun">,</span><span class="pln"> </span><span class="str">"u_someVec2[1]"</span><span class="pun">);</span></li><li class=""><span class="kwd">var</span><span class="pln"> someVec2Element2Loc </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">getUniformLocation</span><span class="pun">(</span><span class="pln">someProgram</span><span class="pun">,</span><span class="pln"> </span><span class="str">"u_someVec2[2]"</span><span class="pun">);</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// at render time</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform2fv</span><span class="pun">(</span><span class="pln">someVec2Element0Loc</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">]);</span><span class="pln">  </span><span class="com">// set element 0</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform2fv</span><span class="pun">(</span><span class="pln">someVec2Element1Loc</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">]);</span><span class="pln">  </span><span class="com">// set element 1</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform2fv</span><span class="pun">(</span><span class="pln">someVec2Element2Loc</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="lit">5</span><span class="pun">,</span><span class="pln"> </span><span class="lit">6</span><span class="pun">]);</span><span class="pln">  </span><span class="com">// set element 2</span></li></ul></pre><p>Similarly if you create a struct</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="kwd">struct</span><span class="pln"> </span><span class="typ">SomeStruct</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">  </span><span class="kwd">bool</span><span class="pln"> active</span><span class="pun">;</span></li><li class=""><span class="pln">  vec2 someVec2</span><span class="pun">;</span></li><li class=""><span class="pun">};</span></li><li class=""><span class="pln">uniform </span><span class="typ">SomeStruct</span><span class="pln"> u_someThing</span><span class="pun">;</span></li></ul></pre><p>you have to look up each field individually</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="kwd">var</span><span class="pln"> someThingActiveLoc </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">getUniformLocation</span><span class="pun">(</span><span class="pln">someProgram</span><span class="pun">,</span><span class="pln"> </span><span class="str">"u_someThing.active"</span><span class="pun">);</span></li><li class=""><span class="kwd">var</span><span class="pln"> someThingSomeVec2Loc </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">getUniformLocation</span><span class="pun">(</span><span class="pln">someProgram</span><span class="pun">,</span><span class="pln"> </span><span class="str">"u_someThing.someVec2"</span><span class="pun">);</span></li></ul></pre><h3 id="textures-in-vertex-shaders">Textures in Vertex Shaders</h3>
<p>See <a href="#textures-in-fragment-shaders">Textures in Fragment Shaders</a>.</p>
<h2 id="fragment-shader">Fragment Shader</h2>
<p>A Fragment Shader's job is to provide a color for the current pixel being rasterized.
It always takes the form</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="com">#version 300 es</span></li><li class=""><span class="pln">precision highp </span><span class="kwd">float</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="kwd">out</span><span class="pln"> vec4 outColor</span><span class="pun">;</span><span class="pln">  </span><span class="com">// you can pick any name</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="kwd">void</span><span class="pln"> main</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">   outColor </span><span class="pun">=</span><span class="pln"> doMathToMakeAColor</span><span class="pun">;</span></li><li class=""><span class="pun">}</span></li></ul></pre><p>Your fragment shader is called once per pixel. Each time it's called you are required
to set your out variable to some color.</p>
<p>Fragment shaders need data. They can get data in 3 ways</p>
<ol>
<li><a href="#uniforms">Uniforms</a> (values that stay the same for every pixel of a single draw call)</li>
<li><a href="#textures-in-fragment-shaders">Textures</a> (data from pixels/texels)</li>
<li><a href="#varyings">Varyings</a> (data passed from the vertex shader and interpolated)</li>
</ol>
<h3 id="uniforms-in-fragment-shaders">Uniforms in Fragment Shaders</h3>
<p>See <a href="#uniforms">Uniforms in Vertex Shaders</a>.</p>
<h3 id="textures-in-fragment-shaders">Textures in Fragment Shaders</h3>
<p>Getting a value from a texture in a shader we create a <code class="notranslate" translate="no">sampler2D</code> uniform and use the GLSL
function <code class="notranslate" translate="no">texture</code> to extract a value from it.</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="pln">precision highp </span><span class="kwd">float</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">uniform sampler2D u_texture</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="kwd">out</span><span class="pln"> vec4 outColor</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="kwd">void</span><span class="pln"> main</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">   vec2 texcoord </span><span class="pun">=</span><span class="pln"> vec2</span><span class="pun">(</span><span class="lit">0.5</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.5</span><span class="pun">);</span><span class="pln">  </span><span class="com">// get a value from the middle of the texture</span></li><li class=""><span class="pln">   outColor </span><span class="pun">=</span><span class="pln"> texture</span><span class="pun">(</span><span class="pln">u_texture</span><span class="pun">,</span><span class="pln"> texcoord</span><span class="pun">);</span></li><li class=""><span class="pun">}</span></li></ul></pre><p>What data comes out of the texture is <a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-textures.html">dependent on many settings</a>.
At a minimum we need to create and put data in the texture, for example</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="kwd">var</span><span class="pln"> tex </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">createTexture</span><span class="pun">();</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">bindTexture</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">TEXTURE_2D</span><span class="pun">,</span><span class="pln"> tex</span><span class="pun">);</span></li><li class=""><span class="kwd">var</span><span class="pln"> level </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></li><li class=""><span class="kwd">var</span><span class="pln"> internalFormat </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">RGBA</span><span class="pun">,</span></li><li class=""><span class="kwd">var</span><span class="pln"> width </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span></li><li class=""><span class="kwd">var</span><span class="pln"> height </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></li><li class=""><span class="kwd">var</span><span class="pln"> border </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> </span><span class="com">// MUST ALWAYS BE ZERO</span></li><li class=""><span class="kwd">var</span><span class="pln"> format </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">RGBA</span><span class="pun">;</span></li><li class=""><span class="kwd">var</span><span class="pln"> type </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">UNSIGNED_BYTE</span><span class="pun">;</span></li><li class=""><span class="kwd">var</span><span class="pln"> data </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Uint8Array</span><span class="pun">([</span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">]);</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">texImage2D</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">TEXTURE_2D</span><span class="pun">,</span></li><li class=""><span class="pln">              level</span><span class="pun">,</span></li><li class=""><span class="pln">              internalFormat</span><span class="pun">,</span></li><li class=""><span class="pln">              width</span><span class="pun">,</span></li><li class=""><span class="pln">              height</span><span class="pun">,</span></li><li class=""><span class="pln">              border</span><span class="pun">,</span></li><li class=""><span class="pln">              format</span><span class="pun">,</span></li><li class=""><span class="pln">              type</span><span class="pun">,</span></li><li class=""><span class="pln">              data</span><span class="pun">);</span></li></ul></pre><p>Set the filtering</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">texParameteri</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">TEXTURE_2D</span><span class="pun">,</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">TEXTURE_MIN_FILTER</span><span class="pun">,</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">LINEAR</span><span class="pun">);</span></li></ul></pre><p>Then look up the uniform location in the shader program</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="kwd">var</span><span class="pln"> someSamplerLoc </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">getUniformLocation</span><span class="pun">(</span><span class="pln">someProgram</span><span class="pun">,</span><span class="pln"> </span><span class="str">"u_texture"</span><span class="pun">);</span></li></ul></pre><p>WebGL then requires you to bind it to a texture unit</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="kwd">var</span><span class="pln"> unit </span><span class="pun">=</span><span class="pln"> </span><span class="lit">5</span><span class="pun">;</span><span class="pln">  </span><span class="com">// Pick some texture unit</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">activeTexture</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">TEXTURE0 </span><span class="pun">+</span><span class="pln"> unit</span><span class="pun">);</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">bindTexture</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">TEXTURE_2D</span><span class="pun">,</span><span class="pln"> tex</span><span class="pun">);</span></li></ul></pre><p>And tell the shader which unit you bound the texture to</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform1i</span><span class="pun">(</span><span class="pln">someSamplerLoc</span><span class="pun">,</span><span class="pln"> unit</span><span class="pun">);</span></li></ul></pre><h3 id="varyings">Varyings</h3>
<p>A varying is a way to pass a value from a vertex shader to a fragment shader which we
covered in <a href="https://webgl2fundamentals.org/webgl/lessons/webgl-how-it-works.html">how it works</a>.</p>
<p>To use a varying we need to declare matching varyings in both a vertex and fragment shader.
We set the <em>out</em> varying in the vertex shader with some value per vertex. When WebGL draws pixels
it will optionally interpolate between those values and pass them to the corresponding <em>in</em> varying in
the fragment shader</p>
<p>Vertex shader</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="com">#version 300 es</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="kwd">in</span><span class="pln"> vec4 a_position</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">uniform vec4 u_offset</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class="lineadded"><span class="kwd">out</span><span class="pln"> vec4 v_positionWithOffset</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="kwd">void</span><span class="pln"> main</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">  gl_Position </span><span class="pun">=</span><span class="pln"> a_position </span><span class="pun">+</span><span class="pln"> u_offset</span><span class="pun">;</span></li><li class="lineadded"><span class="pln">  v_positionWithOffset </span><span class="pun">=</span><span class="pln"> a_position </span><span class="pun">+</span><span class="pln"> u_offset</span><span class="pun">;</span></li><li class=""><span class="pun">}</span></li></ul></pre><p>Fragment shader</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="com">#version 300 es</span></li><li class=""><span class="pln">precision highp </span><span class="kwd">float</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class="lineadded"><span class="kwd">in</span><span class="pln"> vec4 v_positionWithOffset</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="kwd">out</span><span class="pln"> vec4 outColor</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="kwd">void</span><span class="pln"> main</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class="lineadded"><span class="pln">  </span><span class="com">// convert from clipsapce (-1 &lt;-&gt; +1) to color space (0 -&gt; 1).</span></li><li class="lineadded"><span class="pln">  vec4 color </span><span class="pun">=</span><span class="pln"> v_positionWithOffset </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.5</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">0.5</span><span class="pun">;</span></li><li class="lineadded"><span class="pln">  outColor </span><span class="pun">=</span><span class="pln"> color</span><span class="pun">;</span></li><li class=""><span class="pun">}</span></li></ul></pre><p>The example above is a mostly nonsense example. It doesn't generally make sense to
directly copy the clip space values to the fragment shader and use them as colors. Nevertheless
it will work and produce colors.</p>
<h2 id="glsl">GLSL</h2>
<p>GLSL stands for <a href="https://www.khronos.org/registry/gles/specs/3.0/GLSL_ES_Specification_3.00.3.pdf">Graphics Library Shader Language</a>.
It's the language shaders are written
in. It has some special semi unique features that are certainly not common in JavaScript.
It's designed to do the math that is commonly needed to compute things for rasterizing
graphics. So for example it has built in types like <code class="notranslate" translate="no">vec2</code>, <code class="notranslate" translate="no">vec3</code>, and <code class="notranslate" translate="no">vec4</code> which
represent 2 values, 3 values, and 4 values respectively. Similarly it has <code class="notranslate" translate="no">mat2</code>, <code class="notranslate" translate="no">mat3</code>
and <code class="notranslate" translate="no">mat4</code> which represent 2x2, 3x3, and 4x4 matrices. You can do things like multiply
a <code class="notranslate" translate="no">vec</code> by a scalar.</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="pln">vec4 a </span><span class="pun">=</span><span class="pln"> vec4</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">);</span></li><li class=""><span class="pln">vec4 b </span><span class="pun">=</span><span class="pln"> a </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2.0</span><span class="pun">;</span></li><li class=""><span class="com">// b is now vec4(2, 4, 6, 8);</span></li></ul></pre><p>Similarly it can do matrix multiplication and vector to matrix multiplication</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="pln">mat4 a </span><span class="pun">=</span><span class="pln"> </span><span class="pun">???</span></li><li class=""><span class="pln">mat4 b </span><span class="pun">=</span><span class="pln"> </span><span class="pun">???</span></li><li class=""><span class="pln">mat4 c </span><span class="pun">=</span><span class="pln"> a </span><span class="pun">*</span><span class="pln"> b</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">vec4 v </span><span class="pun">=</span><span class="pln"> </span><span class="pun">???</span></li><li class=""><span class="pln">vec4 y </span><span class="pun">=</span><span class="pln"> c </span><span class="pun">*</span><span class="pln"> v</span><span class="pun">;</span></li></ul></pre><p>It also has various selectors for the parts of a vec. For a vec4</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="pln">vec4 v</span><span class="pun">;</span></li></ul></pre><ul>
<li><code class="notranslate" translate="no">v.x</code> is the same as <code class="notranslate" translate="no">v.s</code> and <code class="notranslate" translate="no">v.r</code> and <code class="notranslate" translate="no">v[0]</code>.</li>
<li><code class="notranslate" translate="no">v.y</code> is the same as <code class="notranslate" translate="no">v.t</code> and <code class="notranslate" translate="no">v.g</code> and <code class="notranslate" translate="no">v[1]</code>.</li>
<li><code class="notranslate" translate="no">v.z</code> is the same as <code class="notranslate" translate="no">v.p</code> and <code class="notranslate" translate="no">v.b</code> and <code class="notranslate" translate="no">v[2]</code>.</li>
<li><code class="notranslate" translate="no">v.w</code> is the same as <code class="notranslate" translate="no">v.q</code> and <code class="notranslate" translate="no">v.a</code> and <code class="notranslate" translate="no">v[3]</code>.</li>
</ul>
<p>It it able to <em>swizzle</em> vec components which means you can swap or repeat components.</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="pln">v</span><span class="pun">.</span><span class="pln">yyyy</span></li></ul></pre><p>is the same as</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="pln">vec4</span><span class="pun">(</span><span class="pln">v</span><span class="pun">.</span><span class="pln">y</span><span class="pun">,</span><span class="pln"> v</span><span class="pun">.</span><span class="pln">y</span><span class="pun">,</span><span class="pln"> v</span><span class="pun">.</span><span class="pln">y</span><span class="pun">,</span><span class="pln"> v</span><span class="pun">.</span><span class="pln">y</span><span class="pun">)</span></li></ul></pre><p>Similarly</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="pln">v</span><span class="pun">.</span><span class="pln">bgra</span></li></ul></pre><p>is the same as</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="pln">vec4</span><span class="pun">(</span><span class="pln">v</span><span class="pun">.</span><span class="pln">b</span><span class="pun">,</span><span class="pln"> v</span><span class="pun">.</span><span class="pln">g</span><span class="pun">,</span><span class="pln"> v</span><span class="pun">.</span><span class="pln">r</span><span class="pun">,</span><span class="pln"> v</span><span class="pun">.</span><span class="pln">a</span><span class="pun">)</span></li></ul></pre><p>When constructing a vec or a mat you can supply multiple parts at once. So for example</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="pln">vec4</span><span class="pun">(</span><span class="pln">v</span><span class="pun">.</span><span class="pln">rgb</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span></li></ul></pre><p>Is the same as</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="pln">vec4</span><span class="pun">(</span><span class="pln">v</span><span class="pun">.</span><span class="pln">r</span><span class="pun">,</span><span class="pln"> v</span><span class="pun">.</span><span class="pln">g</span><span class="pun">,</span><span class="pln"> v</span><span class="pun">.</span><span class="pln">b</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span></li></ul></pre><p>One thing you'll likely get caught up on is that GLSL is very type strict.</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="kwd">float</span><span class="pln"> f </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">  </span><span class="com">// ERROR 1 is an int. You can't assign an int to a float</span></li></ul></pre><p>The correct way is one of these</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="kwd">float</span><span class="pln"> f </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1.0</span><span class="pun">;</span><span class="pln">      </span><span class="com">// use float</span></li><li class=""><span class="kwd">float</span><span class="pln"> f </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">float</span><span class="pun">(</span><span class="lit">1</span><span class="pun">)</span><span class="pln">  </span><span class="com">// cast the integer to a float</span></li></ul></pre><p>The example above of <code class="notranslate" translate="no">vec4(v.rgb, 1)</code> doesn't complain about the <code class="notranslate" translate="no">1</code> because <code class="notranslate" translate="no">vec4</code> is
casting the things inside just like <code class="notranslate" translate="no">float(1)</code>.</p>
<p>GLSL has a bunch of built in functions. Many of them operate on multiple components at once.
So for example</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="pln">T sin</span><span class="pun">(</span><span class="pln">T angle</span><span class="pun">)</span></li></ul></pre><p>Means T can be <code class="notranslate" translate="no">float</code>, <code class="notranslate" translate="no">vec2</code>, <code class="notranslate" translate="no">vec3</code> or <code class="notranslate" translate="no">vec4</code>. If you pass in <code class="notranslate" translate="no">vec4</code> you get <code class="notranslate" translate="no">vec4</code> back
which the sine of each of the components. In other words if <code class="notranslate" translate="no">v</code> is a <code class="notranslate" translate="no">vec4</code> then</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="pln">vec4 s </span><span class="pun">=</span><span class="pln"> sin</span><span class="pun">(</span><span class="pln">v</span><span class="pun">);</span></li></ul></pre><p>is the same as</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="pln">vec4 s </span><span class="pun">=</span><span class="pln"> vec4</span><span class="pun">(</span><span class="pln">sin</span><span class="pun">(</span><span class="pln">v</span><span class="pun">.</span><span class="pln">x</span><span class="pun">),</span><span class="pln"> sin</span><span class="pun">(</span><span class="pln">v</span><span class="pun">.</span><span class="pln">y</span><span class="pun">),</span><span class="pln"> sin</span><span class="pun">(</span><span class="pln">v</span><span class="pun">.</span><span class="pln">z</span><span class="pun">),</span><span class="pln"> sin</span><span class="pun">(</span><span class="pln">v</span><span class="pun">.</span><span class="pln">w</span><span class="pun">));</span></li></ul></pre><p>Sometimes one argument is a float and the rest is <code class="notranslate" translate="no">T</code>. That means that float will be applied
to all the components. For example if <code class="notranslate" translate="no">v1</code> and <code class="notranslate" translate="no">v2</code> are <code class="notranslate" translate="no">vec4</code> and <code class="notranslate" translate="no">f</code> is a float then</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="pln">vec4 m </span><span class="pun">=</span><span class="pln"> mix</span><span class="pun">(</span><span class="pln">v1</span><span class="pun">,</span><span class="pln"> v2</span><span class="pun">,</span><span class="pln"> f</span><span class="pun">);</span></li></ul></pre><p>is the same as</p>
<pre class="prettyprint showlinemods prettyprinted" style=""><ul class="modifiedlines"><li class=""><span class="pln">vec4 m </span><span class="pun">=</span><span class="pln"> vec4</span><span class="pun">(</span></li><li class=""><span class="pln">  mix</span><span class="pun">(</span><span class="pln">v1</span><span class="pun">.</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> v2</span><span class="pun">.</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> f</span><span class="pun">),</span></li><li class=""><span class="pln">  mix</span><span class="pun">(</span><span class="pln">v1</span><span class="pun">.</span><span class="pln">y</span><span class="pun">,</span><span class="pln"> v2</span><span class="pun">.</span><span class="pln">y</span><span class="pun">,</span><span class="pln"> f</span><span class="pun">),</span></li><li class=""><span class="pln">  mix</span><span class="pun">(</span><span class="pln">v1</span><span class="pun">.</span><span class="pln">z</span><span class="pun">,</span><span class="pln"> v2</span><span class="pun">.</span><span class="pln">z</span><span class="pun">,</span><span class="pln"> f</span><span class="pun">),</span></li><li class=""><span class="pln">  mix</span><span class="pun">(</span><span class="pln">v1</span><span class="pun">.</span><span class="pln">w</span><span class="pun">,</span><span class="pln"> v2</span><span class="pun">.</span><span class="pln">w</span><span class="pun">,</span><span class="pln"> f</span><span class="pun">));</span></li></ul></pre><p>You can see a list of all the GLSL functions on the last 3 pages of <a href="https://www.khronos.org/files/opengles3-quick-reference-card.pdf">the OpenGL ES 3.0
Reference Card</a>
If you like really dry and verbose stuff you can try
<a href="https://www.khronos.org/registry/gles/specs/3.0/GLSL_ES_Specification_3.00.3.pdf">the GLSL ES 3.00 spec</a>.</p>
<h2 id="putting-it-all-together">Putting it all together</h2>
<p>That's the point of this entire series of posts. WebGL is all about creating various shaders, supplying
the data to those shaders and then calling <code class="notranslate" translate="no">gl.drawArrays</code>, <code class="notranslate" translate="no">gl.drawElements</code>,
 etc to have WebGL process
the vertices by calling the current vertex shader for each vertex and 
then render pixels by calling the current fragment shader for each 
pixel.</p>
<p>Actually creating the shaders requires several lines of code. Since those lines are the same in
most WebGL programs and since once written you can pretty much ignore them <a href="https://webgl2fundamentals.org/webgl/lessons/webgl-boilerplate.html">how to compile GLSL shaders
and link them into a shader program is covered here</a>.</p>
<p>If you're just starting from here you can go in 2 directions. If you are interested in image processing
I'll show you <a href="https://webgl2fundamentals.org/webgl/lessons/webgl-image-processing.html">how to do some 2D image processing</a>.
If you are interesting in learning about translation,
rotation and scale then <a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2d-translation.html">start here</a>.</p>

    </div>
    <div class="lesson-sidebar">
        <select class="language">
    <option value="/webgl/lessons/webgl-shaders-and-glsl.html" selected="selected">English
    </option><option value="/webgl/lessons/de/webgl-shaders-and-glsl.html">Deutsch
    </option><option value="/webgl/lessons/ja/webgl-shaders-and-glsl.html">日本語
    </option><option value="/webgl/lessons/ko/webgl-shaders-and-glsl.html">한국어
    </option><option value="/webgl/lessons/pt-br/webgl-shaders-and-glsl.html">Português Brasileiro
    </option><option value="/webgl/lessons/zh_cn/webgl-shaders-and-glsl.html">简体中文
</option></select>


        <div id="toc">
          <ul>  <li>Fundamentals</li>
        <ul>
          <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-getting-webgl2.html">How to use WebGL2</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-fundamentals.html">Fundamentals</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-how-it-works.html">How It Works</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-shaders-and-glsl.html">Shaders and GLSL</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/resources/webgl-state-diagram.html">WebGL2 State Diagram</a></li>
        </ul>
  <li>WebGL2 vs WebGL1</li>
        <ul>
          <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl2-whats-new.html">What's new in WebGL2</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl1-to-webgl2.html">Moving from WebGL1 to WebGL2</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl1-to-webgl2-fundamentals.html">Differences from WebGLFundamentals.org to WebGL2Fundamentals.org</a></li>
        </ul>
  <li>Image Processing</li>
        <ul>
          <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-image-processing.html">Image Processing</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-image-processing-continued.html">Image Processing Continued</a></li>
        </ul>
  <li>2D translation, rotation, scale, matrix math</li>
        <ul>
          <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2d-translation.html">2D Translation</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2d-rotation.html">2D Rotation</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2d-scale.html">2D Scale</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2d-matrices.html">2D Matrices</a></li>
        </ul>
  <li>3D</li>
        <ul>
          <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-orthographic.html">Orthographic 3D</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-perspective.html">3D Perspective</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-camera.html">3D - Cameras</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-matrix-naming.html">3D - Matrix Naming</a></li>
        </ul>
  <li>Lighting</li>
        <ul>
          <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-lighting-directional.html">Directional Lighting</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-lighting-point.html">Point Lighting</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-lighting-spot.html">Spot Lighting</a></li>
        </ul>
  <li>Structure and Organization</li>
        <ul>
          <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-less-code-more-fun.html">Less Code, More Fun</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-drawing-multiple-things.html">Drawing Multiple Things</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-scene-graph.html">Scene Graphs</a></li>
        </ul>
  <li>Geometry</li>
        <ul>
          <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-geometry-lathe.html">3D Geometry - Lathe</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-load-obj.html">Loading .obj files</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-load-obj-w-mtl.html">Loading .obj w .mtl files</a></li>
        </ul>
  <li>Textures</li>
        <ul>
          <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-textures.html">Textures</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-data-textures.html">Data Textures</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2-textures.html">Using 2 or More Textures</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-cors-permission.html">Cross Origin Images</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-perspective-correct-texturemapping.html">Perspective Correct Texture Mapping</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-planar-projection-mapping.html">Planar and Perspective Projection Mapping</a></li>
        </ul>
  <li>Rendering To A Texture</li>
        <ul>
          <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-render-to-texture.html">Render to Texture</a></li>
        </ul>
  <li>Shadows</li>
        <ul>
          <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-shadows.html">Shadows</a></li>
        </ul>
  <li>Techniques</li>
        <ul>
            <li>2D</li>
        <ul>
          <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2d-drawimage.html">2D - DrawImage</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2d-matrix-stack.html">2D - Matrix Stack</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-sprites.html">Sprites</a></li>
        </ul>
  <li>3D</li>
        <ul>
          <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-cube-maps.html">Cubemaps</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-environment-maps.html">Environment maps</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-skybox.html">Skyboxes</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-skinning.html">Skinning</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-fog.html">Fog</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-picking.html">Picking (clicking on stuff)</a></li>
        </ul>
  <li>Text</li>
        <ul>
          <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-text-html.html">Text - HTML</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-text-canvas2d.html">Text - Canvas 2D</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-text-texture.html">Text - Using a Texture</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-text-glyphs.html">Text - Using a Glyph Texture</a></li>
        </ul>
  <li>GPGPU</li>
        <ul>
          <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-gpgpu.html">GPGPU</a></li>
        </ul>
        </ul>
  <li>Tips</li>
        <ul>
          <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-smallest-programs.html">Smallest Programs</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-drawing-without-data.html">Drawing Without Data</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-shadertoy.html">Shadertoy</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-pulling-vertices.html">Pulling Vertices</a></li>
        </ul>
  <li>Optimization</li>
        <ul>
          <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-indexed-vertices.html">Indexed Vertices (gl.drawElements)</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-instanced-drawing.html">Instanced Drawing</a></li>
        </ul>
  <li>Misc</li>
        <ul>
          <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-setup-and-installation.html">Setup And Installation</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-boilerplate.html">Boilerplate</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-resizing-the-canvas.html">Resizing the Canvas</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-animation.html">Animation</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-points-lines-triangles.html">Points, Lines, and Triangles</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-multiple-views.html">Multiple Views, Multiple Canvases</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-visualizing-the-camera.html">Visualizing the Camera</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-and-alpha.html">WebGL2 and Alpha</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2d-vs-3d-library.html">2D vs 3D libraries</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-anti-patterns.html">Anti-Patterns</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-matrix-vs-math.html">WebGL2 Matrices vs Math Matrices</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-precision-issues.html">Precision Issues</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-tips.html#screenshot">Taking a screenshot</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-tips.html#preservedrawingbuffer">Prevent the Canvas Being Cleared</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-tips.html#tabindex">Get Keyboard Input From a Canvas</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-tips.html#html-background">Use WebGL2 as Background in HTML</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-cross-platform-issues.html">Cross Platform Issues</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-qna.html">Questions and Answers</a></li>
        </ul>
  <li>Reference</li>
        <ul>
          <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-attributes.html">Attributes</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-texture-units.html">Texture Units</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-framebuffers.html">Framebuffers</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-readpixels.html">readPixels</a></li>
<li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-references.html">References</a></li>
        </ul></ul>
<ul>
  <li><a href="https://webgl2fundamentals.org/docs/">Helper API Docs</a></li>
  <li><a href="https://twgljs.org/">TWGL, A tiny WebGL helper library</a></li>
  <li><a href="https://github.com/gfxfundamentals/webgl2-fundamentals">github</a></li>
</ul>
        </div>
    </div>
    <div class="lesson-comments">
        
    <div>Issue/Bug? <a href="https://github.com/gfxfundamentals/webgl2-fundamentals/issues">Create an issue on github</a>.</div>
    <div class="lesson-comment-notes">
       Use <b>&lt;pre&gt;&lt;code&gt;</b>code goes here<b>&lt;/code&gt;&lt;/pre&gt;</b> for code blocks
    </div>
  

        <div id="disqus_thread"><iframe id="dsq-app4756" name="dsq-app4756" allowtransparency="true" scrolling="no" tabindex="0" title="Disqus" style="width: 1px !important; min-width: 100% !important; border: medium none !important; overflow: hidden !important; height: 1961px !important;" src="WebGL2%20Shaders%20and%20GLSL_files/a_002.html" horizontalscrolling="no" verticalscrolling="no" width="100%" frameborder="0"></iframe></div>
        <script>
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'webgl2fundamentals'; // required: replace example with your forum shortname
            var disqus_identifier = 'WebGL2 Shaders and GLSL';
            var disqus_title = 'WebGL2 Shaders and GLSL';

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                if (window.location.hostname.indexOf("webgl2fundamentals.org") < 0) {
                    return;
                }
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        
    </div>
  </div>
</div>

<script>
const settings = {
  contribTemplate: "Thank you <a href=\"${html_url}\"><img src=\"${avatar_url}\"> ${login}</a><br>for <a href=\"https://github.com/${owner}/${repo}/commits?author=${login}\">${contributions} contributions</a>",
  owner: "gfxfundamentals",
  repo: "webgl2-fundamentals",
};
</script>
<script src="WebGL2%20Shaders%20and%20GLSL_files/contributors.js"></script>
<script src="WebGL2%20Shaders%20and%20GLSL_files/jquery-1.11.2.min.js"></script>
<script src="WebGL2%20Shaders%20and%20GLSL_files/prettify.js"></script>
<script src="WebGL2%20Shaders%20and%20GLSL_files/lesson.js" type="module"></script>
<script>
(function() {
  if (window.location.hostname.indexOf("webgl2fundamentals.org") < 0) {
      return;
  }

  function addScript(src, type, fn) {
    const script = document.createElement('script');
    const firstScript = document.getElementsByTagName('script')[0];
    script.async = true;
    script.defer = true;
    script.type = type || 'javascript';
    if (fn) {
      script.addEventListener('load', fn);
    }
    script.src = src;
    firstScript.parentNode.insertBefore(script, firstScript);
  }

  // can't do this because it would eat contexts
  //addScript('//gpustats.org/stats.js', 'module');

  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-90754717-1', 'auto');
  ga('send', 'pageview');
}());
</script>






<iframe style="display: none;"></iframe></body></html>