<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <script src="LearnOpenGL%20-%20Light%20casters_files/rules-p-fTfJtcPmQDwZG.js" async=""></script>
  <script type="text/javascript" async="" src="LearnOpenGL%20-%20Light%20casters_files/localstore.js"></script>
  <meta charset="utf-8">
  <title>LearnOpenGL - Light casters</title>
  <!--<title>Learn OpenGL, extensive tutorial resource for learning Modern OpenGL</title>-->
  <link rel="shortcut icon" type="image/ico" href="https://learnopengl.com/favicon.ico">
  <meta name="description"
    content="Learn OpenGL . com provides good and clear modern 3.3+ OpenGL tutorials with clear examples. A great resource to learn modern OpenGL aimed at beginners.">
  <meta name="fragment" content="!">
  <script async="" src="LearnOpenGL%20-%20Light%20casters_files/wrap.js"></script>
  <script src="LearnOpenGL%20-%20Light%20casters_files/quant.js" async="" type="text/javascript"></script>
  <script async="" type="text/javascript" src="LearnOpenGL%20-%20Light%20casters_files/cmp2.js"></script>
  <script type="text/javascript" src="LearnOpenGL%20-%20Light%20casters_files/config.js"></script>
  <script async="" type="text/javascript" src="LearnOpenGL%20-%20Light%20casters_files/gpt_002.js"></script>
  <script async="" type="text/javascript" src="LearnOpenGL%20-%20Light%20casters_files/pwt.js"></script>
  <script async="" type="text/javascript" src="LearnOpenGL%20-%20Light%20casters_files/choice.js"></script>
  <script async="" src="LearnOpenGL%20-%20Light%20casters_files/analytics.js"></script>
  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-51879160-1', 'learnopengl.com');
    ga('send', 'pageview');

  </script>
  <!--<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>-->
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-7855791439695850",
      enable_page_level_ads: true
    });
  </script>
  <script async="async" src="LearnOpenGL%20-%20Light%20casters_files/gpt.js"></script>
  <script>
    var googletag = googletag || {};
    googletag.cmd = googletag.cmd || [];
  </script>
  <script>
    googletag.cmd.push(function () {
      googletag.defineSlot('/8491498/learnopengl_video', [300, 225], 'div-gpt-ad-1540574378241-0').addService(googletag.pubads());
      googletag.pubads().enableSingleRequest();
      googletag.pubads().collapseEmptyDivs();
      googletag.enableServices();
    });
  </script>
  <script type="text/javascript" src="LearnOpenGL%20-%20Light%20casters_files/1681.js"></script>
  <style type="text/css">
    #waldo-sticky-footer-wrapper {
      position: fixed;
      width: 100%;
      bottom: 0px;
      left: 0px;
      text-align: center;
      z-index: 9999;
      margin-bottom: 0 !important;
    }

    #waldo-sticky-footer-wrapper>div {
      position: relative;
      display: inline-block;
      margin-bottom: 0 !important;
    }

    #waldo-sticky-footer-wrapper iframe,
    #waldo-sticky-footer-wrapper div {
      margin-left: auto;
      margin-right: auto;
    }

    .waldo-sticky-sidebar {
      position: fixed;
      top: 10px;
      z-index: 90
    }

    .waldo-bfleft {
      position: fixed;
      left: 0;
      top: 10px;
      z-index: 101;
    }

    .waldo-bfright {
      position: fixed;
      right: 0;
      top: 10px;
      z-index: 101;
    }

    #nm-ccpa-widget {
      width: 400px;
    }

    #nm-ccpa-widget {
      position: fixed;
      right: 20px;
      z-index: 9999;
      margin-bottom: 15px;
      box-shadow: 0 3px 36px 0 rgba(0, 0, 0, 0.3);
      background-color: #fff;
      border-radius: 10px;
      bottom: 20px;
      margin-top: 10px;
      font-size: 14px;
    }

    .nm-ccpa-widget-header {
      background: #179f84;
      color: #fff;
      padding: 20px;
    }

    .nm-ccpa-widget-header .nm-ccpa-widget-main-title {
      margin-bottom: 0;
      margin-top: 0;
      font-size: 16px;
      font-weight: bold;
    }

    .nm-ccpa-widget-body {
      padding: 20px;
      background: #fff;
    }

    .nm-ccpa-widget-body label {
      font-size: 16px;
    }

    .nm-ccpa-widget-submit-btn {
      margin-top: 15px;
      padding-left: 25px;
    }

    .nm-ccpa-widget-submit-btn input {
      background: #179f84;
      color: #fff;
      padding: 10px 20px;
      border-radius: 8px;
      border: 0;
      outline: 0;
    }

    .nm-ccpa-widget-submit-btn input:hover,
    .nm-ccpa-widget-submit-btn input:focus {
      cursor: pointer;
    }

    .nm-ccpa-widget-checkbox-label {
      font-size: 20px;
    }

    .nm-ccpa-widget-header {
      position: relative;
    }

    .nm-ccpa-widget-close-btn {
      position: absolute;
      right: 10px;
      top: 10px;
    }

    .nm-ccpa-widget-close-btn a {
      color: #fff;
      font-size: 20px;
      text-decoration: none;
    }

    .nm-ccpa-widget-message {
      padding-left: 25px;
    }

    #waldo-tag-6038 {
      clear: both !important;
    }

    div[class^="app_gdpr-"] a {
      color: #41afbb !important;
      text-decoration: underline !important
    }

    #waldo-close-button {
      position: absolute;
      right: 0;
      top: -24px;
      line-height: normal !important;
    }

    #waldo-close-button a {
      border: 1px solid rgba(0, 0, 0, .35) !important;
      padding: 3px !important;
      font-size: 12px !important;
      color: #fff !important;
      font-weight: bold !important;
      background-color: #777 !important;
      line-height: normal !important;
    }

    .waldo-display-unit {
      display: flex !important;
      justify-content: center !important;
      align-items: center !important;
      flex-wrap: wrap !important;
    }
  </style>
  <script type="text/javascript" async="" src="LearnOpenGL%20-%20Light%20casters_files/tag"></script>
  <script type="text/javascript" async="" src="LearnOpenGL%20-%20Light%20casters_files/tag.js"></script>
  <script src="LearnOpenGL%20-%20Light%20casters_files/jquery-1.11.0.min.js"></script>
  <script src="LearnOpenGL%20-%20Light%20casters_files/hoverintent.js"></script>
  <link rel="stylesheet" type="text/css" href="LearnOpenGL%20-%20Light%20casters_files/layout.css">
  <link rel="stylesheet" type="text/css" href="LearnOpenGL%20-%20Light%20casters_files/obsidian.css">
  <script src="LearnOpenGL%20-%20Light%20casters_files/highlight.pack.js"></script>
  <style type="text/css">
    .qc-cmp-button.qc-cmp-secondary-button:hover {
      background-color: #368bd6 !important;
      border-color: transparent !important;
    }

    .qc-cmp-button.qc-cmp-secondary-button:hover {
      color: #ffffff !important;
    }

    .qc-cmp-button.qc-cmp-secondary-button {
      color: #368bd6 !important;
    }

    .qc-cmp-button.qc-cmp-secondary-button {
      background-color: #eee !important;
      border-color: transparent !important;
    }
  </style>
  <script src="LearnOpenGL%20-%20Light%20casters_files/functions.js"></script>
  <script type="text/javascript" src="LearnOpenGL%20-%20Light%20casters_files/MathJax.js"></script>
  <script>
    // Has to be loaded last due to content bug 
    MathJax.Hub.Config({
      TeX: { equationNumbers: { autoNumber: "AMS" } }
    });
  </script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script>
    $(document).ready(function () {
      // check if user visited from the old # based urls, re-direct to ?p= form
      if (window.location.hash) {
        var name = window.location.hash.substring(2);
        // name = name.replace(/-/g," ");
        var index = name.indexOf('#'); // Remove any hash fragments from the url (Disquss adds hash fragments for comments, but results in 404 pages)
        if (index >= 0)
          name = name.substring(0, index);

        window.location.href = "https://learnopengl.com/" + name;
      } else {
        // Check if data has been succesfully loaded, if so: change title bar as ajax hash fragment
        var title = $('#content-url').text();

        // Refresh syntax highlighting
        // $('pre').each(function(i, e) {hljs.highlightBlock(e)});

        // Reset DISQUS
        // if(title == '/dev/')
        // title = '';
        // alert('hoi');

        // place video tag 
        if (title != '') {
          //var videoad = "%3Cdiv id=\'waldo-tag-14070\'%3E %3Cscript%3Egoogletag.cmd.push(function() {googletag.display(\'waldo-tag-14070\'); }); %3C/script%3E%3C/div%3E";
          //$('#content p:nth-of-type(3)').after(unescape(videoad));
        }

        // Adjust ads for correct bottom positioning based on content size
        window.setTimeout(function () {
          AdPositioning();
        }, 3000);


        // set API resets after time-out (once content is properly loaded)
        window.setTimeout(function () {
          MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
          // if (MathJax.InputJax.TeX.resetEquationNumbers)
          // {						
          // MathJax.Hub.Queue(["resetEquationNumbers", MathJax.InputJax.TeX]);
          // }

          var page_url = title == "" ? "http://www.learnopengl.com/" : "http://www.learnopengl.com/" + title;
          if (typeof DISQUS !== 'undefined') {
            DISQUS.reset({
              reload: true,
              config: function () {
                this.page.identifier = title;
                this.page.url = page_url;
              }
            });
            // $('#disqus_thread').show();
          }
          // Refresh callbacks on <function> tags
          SetFunctionTagCallbacks();
        }, 1000);

        // Zet ook de juiste button op 'selected'
        $('#nav li span, #nav li a').removeClass('selected');
        if (title != '') {
          $('#nav li[id=\'' + title + '\']').children('span, a').addClass('selected');
        }
        // En open menu waar nodig
        var parents = $('#nav span.selected, #nav a.selected').parents('li').children('span.closed, a.closed');
        var index = 0;
        for (index = parents.length - 1; index >= 0; index--) {

          var id = $(parents[index]).attr("id").replace(/^\D+/g, '');
          MenuClick(id, false);
        }

      }
    });
    // var initialized = false;
    // window.onpopstate = function() {
    // if(initialized)
    // LoadPage();
    // else
    // initialized = true;
    // };

    // Set up DISQUS
    // $(document).ready(function() {
    var disqus_shortname = 'learnopengl';
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
        // });
  </script>
  <script type="text/javascript" async="" src="LearnOpenGL%20-%20Light%20casters_files/embed.js"></script>
  <script
    type="text/javascript">googletag.cmd.push(function () { googletag.pubads().addEventListener('slotRenderEnded', function (event) { waldoPassbackCheck(event); waldoAddCloseBtn(event); }); googletag.pubads().enableSingleRequest(); googletag.enableServices(); gptAdSlots[1715] = googletag.defineSlot('/124067137,22550200400/learnopengl300x250FL_1', [[300, 250], [300, 600], [160, 600]], 'waldo-tag-1715').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[300, 250], [300, 600], [160, 600]]).addSize([768, 0], [[300, 250], [300, 600], [160, 600]]).addSize([0, 0], [[300, 250], [300, 600], [160, 600]]).build()).addService(googletag.pubads()); googletag.display('waldo-tag-1715'); gptAdSlots[2245] = googletag.defineSlot('/124067137,22550200400/learnopengl300x600FL_1', [[300, 250], [300, 600]], 'waldo-tag-2245').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[300, 250], [300, 600]]).addSize([768, 0], [[300, 250], [300, 600]]).addSize([0, 0], [[300, 250], [300, 600]]).build()).addService(googletag.pubads()); googletag.display('waldo-tag-2245'); gptAdSlots[2246] = googletag.defineSlot('/124067137,22550200400/learnopengl300x600FL_2', [[300, 250], [300, 600]], 'waldo-tag-2246').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[300, 250], [300, 600]]).addSize([768, 0], [[300, 250], [300, 600]]).addSize([0, 0], [[300, 250], [300, 600]]).build()).addService(googletag.pubads()); googletag.display('waldo-tag-2246'); gptAdSlots[2247] = googletag.defineSlot('/124067137,22550200400/learnopengl300x600FL_3', [[300, 250], [300, 600]], 'waldo-tag-2247').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[300, 250], [300, 600]]).addSize([768, 0], [[300, 250], [300, 600]]).addSize([0, 0], [[300, 250], [300, 600]]).build()).addService(googletag.pubads()); googletag.display('waldo-tag-2247'); gptAdSlots[6194] = googletag.defineSlot('/124067137,22550200400/learnopengl728x90FS_2', [[728, 90], [320, 50]], 'waldo-tag-6194').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[728, 90]]).addSize([768, 0], [[320, 50]]).addSize([0, 0], [[320, 50]]).build()).addService(googletag.pubads()); googletag.display('waldo-tag-6194'); gptAdSlots[6196] = googletag.defineSlot('/124067137,22550200400/learnopengl728x90FS_1', [[728, 90], [320, 50]], 'waldo-tag-6196').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[728, 90]]).addSize([768, 0], [[320, 50]]).addSize([0, 0], [[320, 50]]).build()).addService(googletag.pubads()); googletag.display('waldo-tag-6196'); waldoVideoSlot = googletag.defineSlot('/124067137,22550200400/learnopengl_video_unit2', [1, 1], 'waldo-tag-14070').defineSizeMapping(googletag.sizeMapping().addSize([0, 0], [300, 235]).addSize([320, 700], [300, 235]).addSize([1050, 200], [566, 387]).build()).addService(googletag.pubads()); });</script>
  <style type="text/css">
    .MathJax_Hover_Frame {
      border-radius: .25em;
      -webkit-border-radius: .25em;
      -moz-border-radius: .25em;
      -khtml-border-radius: .25em;
      box-shadow: 0px 0px 15px #83A;
      -webkit-box-shadow: 0px 0px 15px #83A;
      -moz-box-shadow: 0px 0px 15px #83A;
      -khtml-box-shadow: 0px 0px 15px #83A;
      border: 1px solid #A6D ! important;
      display: inline-block;
      position: absolute
    }

    .MathJax_Menu_Button .MathJax_Hover_Arrow {
      position: absolute;
      cursor: pointer;
      display: inline-block;
      border: 2px solid #AAA;
      border-radius: 4px;
      -webkit-border-radius: 4px;
      -moz-border-radius: 4px;
      -khtml-border-radius: 4px;
      font-family: 'Courier New', Courier;
      font-size: 9px;
      color: #F0F0F0
    }

    .MathJax_Menu_Button .MathJax_Hover_Arrow span {
      display: block;
      background-color: #AAA;
      border: 1px solid;
      border-radius: 3px;
      line-height: 0;
      padding: 4px
    }

    .MathJax_Hover_Arrow:hover {
      color: white !important;
      border: 2px solid #CCC !important
    }

    .MathJax_Hover_Arrow:hover span {
      background-color: #CCC !important
    }
  </style>
  <style type="text/css">
    #MathJax_About {
      position: fixed;
      left: 50%;
      width: auto;
      text-align: center;
      border: 3px outset;
      padding: 1em 2em;
      background-color: #DDDDDD;
      color: black;
      cursor: default;
      font-family: message-box;
      font-size: 120%;
      font-style: normal;
      text-indent: 0;
      text-transform: none;
      line-height: normal;
      letter-spacing: normal;
      word-spacing: normal;
      word-wrap: normal;
      white-space: nowrap;
      float: none;
      z-index: 201;
      border-radius: 15px;
      -webkit-border-radius: 15px;
      -moz-border-radius: 15px;
      -khtml-border-radius: 15px;
      box-shadow: 0px 10px 20px #808080;
      -webkit-box-shadow: 0px 10px 20px #808080;
      -moz-box-shadow: 0px 10px 20px #808080;
      -khtml-box-shadow: 0px 10px 20px #808080;
      filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')
    }

    #MathJax_About.MathJax_MousePost {
      outline: none
    }

    .MathJax_Menu {
      position: absolute;
      background-color: white;
      color: black;
      width: auto;
      padding: 5px 0px;
      border: 1px solid #CCCCCC;
      margin: 0;
      cursor: default;
      font: menu;
      text-align: left;
      text-indent: 0;
      text-transform: none;
      line-height: normal;
      letter-spacing: normal;
      word-spacing: normal;
      word-wrap: normal;
      white-space: nowrap;
      float: none;
      z-index: 201;
      border-radius: 5px;
      -webkit-border-radius: 5px;
      -moz-border-radius: 5px;
      -khtml-border-radius: 5px;
      box-shadow: 0px 10px 20px #808080;
      -webkit-box-shadow: 0px 10px 20px #808080;
      -moz-box-shadow: 0px 10px 20px #808080;
      -khtml-box-shadow: 0px 10px 20px #808080;
      filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')
    }

    .MathJax_MenuItem {
      padding: 1px 2em;
      background: transparent
    }

    .MathJax_MenuArrow {
      position: absolute;
      right: .5em;
      padding-top: .25em;
      color: #666666;
      font-size: .75em
    }

    .MathJax_MenuActive .MathJax_MenuArrow {
      color: white
    }

    .MathJax_MenuArrow.RTL {
      left: .5em;
      right: auto
    }

    .MathJax_MenuCheck {
      position: absolute;
      left: .7em
    }

    .MathJax_MenuCheck.RTL {
      right: .7em;
      left: auto
    }

    .MathJax_MenuRadioCheck {
      position: absolute;
      left: .7em
    }

    .MathJax_MenuRadioCheck.RTL {
      right: .7em;
      left: auto
    }

    .MathJax_MenuLabel {
      padding: 1px 2em 3px 1.33em;
      font-style: italic
    }

    .MathJax_MenuRule {
      border-top: 1px solid #DDDDDD;
      margin: 4px 3px
    }

    .MathJax_MenuDisabled {
      color: GrayText
    }

    .MathJax_MenuActive {
      background-color: #606872;
      color: white
    }

    .MathJax_MenuDisabled:focus,
    .MathJax_MenuLabel:focus {
      background-color: #E8E8E8
    }

    .MathJax_ContextMenu:focus {
      outline: none
    }

    .MathJax_ContextMenu .MathJax_MenuItem:focus {
      outline: none
    }

    #MathJax_AboutClose {
      top: .2em;
      right: .2em
    }

    .MathJax_Menu .MathJax_MenuClose {
      top: -10px;
      left: -10px
    }

    .MathJax_MenuClose {
      position: absolute;
      cursor: pointer;
      display: inline-block;
      border: 2px solid #AAA;
      border-radius: 18px;
      -webkit-border-radius: 18px;
      -moz-border-radius: 18px;
      -khtml-border-radius: 18px;
      font-family: 'Courier New', Courier;
      font-size: 24px;
      color: #F0F0F0
    }

    .MathJax_MenuClose span {
      display: block;
      background-color: #AAA;
      border: 1.5px solid;
      border-radius: 18px;
      -webkit-border-radius: 18px;
      -moz-border-radius: 18px;
      -khtml-border-radius: 18px;
      line-height: 0;
      padding: 8px 0 6px
    }

    .MathJax_MenuClose:hover {
      color: white !important;
      border: 2px solid #CCC !important
    }

    .MathJax_MenuClose:hover span {
      background-color: #CCC !important
    }

    .MathJax_MenuClose:hover:focus {
      outline: none
    }
  </style>
  <style type="text/css">
    .MathJax_Preview .MJXf-math {
      color: inherit !important
    }
  </style>
  <style type="text/css">
    .MJX_Assistive_MathML {
      position: absolute !important;
      top: 0;
      left: 0;
      clip: rect(1px, 1px, 1px, 1px);
      padding: 1px 0 0 0 !important;
      border: 0 !important;
      height: 1px !important;
      width: 1px !important;
      overflow: hidden !important;
      display: block !important;
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      -khtml-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none
    }

    .MJX_Assistive_MathML.MJX_Assistive_MathML_Block {
      width: 100% !important
    }
  </style>
  <style type="text/css">
    #MathJax_Zoom {
      position: absolute;
      background-color: #F0F0F0;
      overflow: auto;
      display: block;
      z-index: 301;
      padding: .5em;
      border: 1px solid black;
      margin: 0;
      font-weight: normal;
      font-style: normal;
      text-align: left;
      text-indent: 0;
      text-transform: none;
      line-height: normal;
      letter-spacing: normal;
      word-spacing: normal;
      word-wrap: normal;
      white-space: nowrap;
      float: none;
      -webkit-box-sizing: content-box;
      -moz-box-sizing: content-box;
      box-sizing: content-box;
      box-shadow: 5px 5px 15px #AAAAAA;
      -webkit-box-shadow: 5px 5px 15px #AAAAAA;
      -moz-box-shadow: 5px 5px 15px #AAAAAA;
      -khtml-box-shadow: 5px 5px 15px #AAAAAA;
      filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')
    }

    #MathJax_ZoomOverlay {
      position: absolute;
      left: 0;
      top: 0;
      z-index: 300;
      display: inline-block;
      width: 100%;
      height: 100%;
      border: 0;
      padding: 0;
      margin: 0;
      background-color: white;
      opacity: 0;
      filter: alpha(opacity=0)
    }

    #MathJax_ZoomFrame {
      position: relative;
      display: inline-block;
      height: 0;
      width: 0
    }

    #MathJax_ZoomEventTrap {
      position: absolute;
      left: 0;
      top: 0;
      z-index: 302;
      display: inline-block;
      border: 0;
      padding: 0;
      margin: 0;
      background-color: white;
      opacity: 0;
      filter: alpha(opacity=0)
    }
  </style>
  <style type="text/css">
    .MathJax_Preview {
      color: #888
    }

    #MathJax_Message {
      position: fixed;
      left: 1px;
      bottom: 2px;
      background-color: #E6E6E6;
      border: 1px solid #959595;
      margin: 0px;
      padding: 2px 8px;
      z-index: 102;
      color: black;
      font-size: 80%;
      width: auto;
      white-space: nowrap
    }

    #MathJax_MSIE_Frame {
      position: absolute;
      top: 0;
      left: 0;
      width: 0px;
      z-index: 101;
      border: 0px;
      margin: 0px;
      padding: 0px
    }

    .MathJax_Error {
      color: #CC0000;
      font-style: italic
    }
  </style><iframe style="display: none;" name="cnftComm"></iframe>
  <style type="text/css">
    .MJXp-script {
      font-size: .8em
    }

    .MJXp-right {
      -webkit-transform-origin: right;
      -moz-transform-origin: right;
      -ms-transform-origin: right;
      -o-transform-origin: right;
      transform-origin: right
    }

    .MJXp-bold {
      font-weight: bold
    }

    .MJXp-italic {
      font-style: italic
    }

    .MJXp-scr {
      font-family: MathJax_Script, 'Times New Roman', Times, STIXGeneral, serif
    }

    .MJXp-frak {
      font-family: MathJax_Fraktur, 'Times New Roman', Times, STIXGeneral, serif
    }

    .MJXp-sf {
      font-family: MathJax_SansSerif, 'Times New Roman', Times, STIXGeneral, serif
    }

    .MJXp-cal {
      font-family: MathJax_Caligraphic, 'Times New Roman', Times, STIXGeneral, serif
    }

    .MJXp-mono {
      font-family: MathJax_Typewriter, 'Times New Roman', Times, STIXGeneral, serif
    }

    .MJXp-largeop {
      font-size: 150%
    }

    .MJXp-largeop.MJXp-int {
      vertical-align: -.2em
    }

    .MJXp-math {
      display: inline-block;
      line-height: 1.2;
      text-indent: 0;
      font-family: 'Times New Roman', Times, STIXGeneral, serif;
      white-space: nowrap;
      border-collapse: collapse
    }

    .MJXp-display {
      display: block;
      text-align: center;
      margin: 1em 0
    }

    .MJXp-math span {
      display: inline-block
    }

    .MJXp-box {
      display: block !important;
      text-align: center
    }

    .MJXp-box:after {
      content: " "
    }

    .MJXp-rule {
      display: block !important;
      margin-top: .1em
    }

    .MJXp-char {
      display: block !important
    }

    .MJXp-mo {
      margin: 0 .15em
    }

    .MJXp-mfrac {
      margin: 0 .125em;
      vertical-align: .25em
    }

    .MJXp-denom {
      display: inline-table !important;
      width: 100%
    }

    .MJXp-denom>* {
      display: table-row !important
    }

    .MJXp-surd {
      vertical-align: top
    }

    .MJXp-surd>* {
      display: block !important
    }

    .MJXp-script-box>* {
      display: table !important;
      height: 50%
    }

    .MJXp-script-box>*>* {
      display: table-cell !important;
      vertical-align: top
    }

    .MJXp-script-box>*:last-child>* {
      vertical-align: bottom
    }

    .MJXp-script-box>*>*>* {
      display: block !important
    }

    .MJXp-mphantom {
      visibility: hidden
    }

    .MJXp-munderover {
      display: inline-table !important
    }

    .MJXp-over {
      display: inline-block !important;
      text-align: center
    }

    .MJXp-over>* {
      display: block !important
    }

    .MJXp-munderover>* {
      display: table-row !important
    }

    .MJXp-mtable {
      vertical-align: .25em;
      margin: 0 .125em
    }

    .MJXp-mtable>* {
      display: inline-table !important;
      vertical-align: middle
    }

    .MJXp-mtr {
      display: table-row !important
    }

    .MJXp-mtd {
      display: table-cell !important;
      text-align: center;
      padding: .5em 0 0 .5em
    }

    .MJXp-mtr>.MJXp-mtd:first-child {
      padding-left: 0
    }

    .MJXp-mtr:first-child>.MJXp-mtd {
      padding-top: 0
    }

    .MJXp-mlabeledtr {
      display: table-row !important
    }

    .MJXp-mlabeledtr>.MJXp-mtd:first-child {
      padding-left: 0
    }

    .MJXp-mlabeledtr:first-child>.MJXp-mtd {
      padding-top: 0
    }

    .MJXp-merror {
      background-color: #FFFF88;
      color: #CC0000;
      border: 1px solid #CC0000;
      padding: 1px 3px;
      font-style: normal;
      font-size: 90%
    }

    .MJXp-scale0 {
      -webkit-transform: scaleX(.0);
      -moz-transform: scaleX(.0);
      -ms-transform: scaleX(.0);
      -o-transform: scaleX(.0);
      transform: scaleX(.0)
    }

    .MJXp-scale1 {
      -webkit-transform: scaleX(.1);
      -moz-transform: scaleX(.1);
      -ms-transform: scaleX(.1);
      -o-transform: scaleX(.1);
      transform: scaleX(.1)
    }

    .MJXp-scale2 {
      -webkit-transform: scaleX(.2);
      -moz-transform: scaleX(.2);
      -ms-transform: scaleX(.2);
      -o-transform: scaleX(.2);
      transform: scaleX(.2)
    }

    .MJXp-scale3 {
      -webkit-transform: scaleX(.3);
      -moz-transform: scaleX(.3);
      -ms-transform: scaleX(.3);
      -o-transform: scaleX(.3);
      transform: scaleX(.3)
    }

    .MJXp-scale4 {
      -webkit-transform: scaleX(.4);
      -moz-transform: scaleX(.4);
      -ms-transform: scaleX(.4);
      -o-transform: scaleX(.4);
      transform: scaleX(.4)
    }

    .MJXp-scale5 {
      -webkit-transform: scaleX(.5);
      -moz-transform: scaleX(.5);
      -ms-transform: scaleX(.5);
      -o-transform: scaleX(.5);
      transform: scaleX(.5)
    }

    .MJXp-scale6 {
      -webkit-transform: scaleX(.6);
      -moz-transform: scaleX(.6);
      -ms-transform: scaleX(.6);
      -o-transform: scaleX(.6);
      transform: scaleX(.6)
    }

    .MJXp-scale7 {
      -webkit-transform: scaleX(.7);
      -moz-transform: scaleX(.7);
      -ms-transform: scaleX(.7);
      -o-transform: scaleX(.7);
      transform: scaleX(.7)
    }

    .MJXp-scale8 {
      -webkit-transform: scaleX(.8);
      -moz-transform: scaleX(.8);
      -ms-transform: scaleX(.8);
      -o-transform: scaleX(.8);
      transform: scaleX(.8)
    }

    .MJXp-scale9 {
      -webkit-transform: scaleX(.9);
      -moz-transform: scaleX(.9);
      -ms-transform: scaleX(.9);
      -o-transform: scaleX(.9);
      transform: scaleX(.9)
    }

    .MathJax_PHTML .noError {
      font-size: 90%;
      text-align: left;
      color: black;
      padding: 1px 3px;
      border: 1px solid
    }
  </style>
  <style type="text/css">
    .MathJax_Display {
      text-align: center;
      margin: 1em 0em;
      position: relative;
      display: block !important;
      text-indent: 0;
      max-width: none;
      max-height: none;
      min-width: 0;
      min-height: 0;
      width: 100%
    }

    .MathJax .merror {
      background-color: #FFFF88;
      color: #CC0000;
      border: 1px solid #CC0000;
      padding: 1px 3px;
      font-style: normal;
      font-size: 90%
    }

    .MathJax .MJX-monospace {
      font-family: monospace
    }

    .MathJax .MJX-sans-serif {
      font-family: sans-serif
    }

    #MathJax_Tooltip {
      background-color: InfoBackground;
      color: InfoText;
      border: 1px solid black;
      box-shadow: 2px 2px 5px #AAAAAA;
      -webkit-box-shadow: 2px 2px 5px #AAAAAA;
      -moz-box-shadow: 2px 2px 5px #AAAAAA;
      -khtml-box-shadow: 2px 2px 5px #AAAAAA;
      filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true');
      padding: 3px 4px;
      z-index: 401;
      position: absolute;
      left: 0;
      top: 0;
      width: auto;
      height: auto;
      display: none
    }

    .MathJax {
      display: inline;
      font-style: normal;
      font-weight: normal;
      line-height: normal;
      font-size: 100%;
      font-size-adjust: none;
      text-indent: 0;
      text-align: left;
      text-transform: none;
      letter-spacing: normal;
      word-spacing: normal;
      word-wrap: normal;
      white-space: nowrap;
      float: none;
      direction: ltr;
      max-width: none;
      max-height: none;
      min-width: 0;
      min-height: 0;
      border: 0;
      padding: 0;
      margin: 0
    }

    .MathJax:focus,
    body :focus .MathJax {
      display: inline-table
    }

    .MathJax img,
    .MathJax nobr,
    .MathJax a {
      border: 0;
      padding: 0;
      margin: 0;
      max-width: none;
      max-height: none;
      min-width: 0;
      min-height: 0;
      vertical-align: 0;
      line-height: normal;
      text-decoration: none
    }

    img.MathJax_strut {
      border: 0 !important;
      padding: 0 !important;
      margin: 0 !important;
      vertical-align: 0 !important
    }

    .MathJax span {
      display: inline;
      position: static;
      border: 0;
      padding: 0;
      margin: 0;
      vertical-align: 0;
      line-height: normal;
      text-decoration: none
    }

    .MathJax nobr {
      white-space: nowrap !important
    }

    .MathJax img {
      display: inline !important;
      float: none !important
    }

    .MathJax * {
      transition: none;
      -webkit-transition: none;
      -moz-transition: none;
      -ms-transition: none;
      -o-transition: none
    }

    .MathJax_Processing {
      visibility: hidden;
      position: fixed;
      width: 0;
      height: 0;
      overflow: hidden
    }

    .MathJax_Processed {
      display: none !important
    }

    .MathJax_ExBox {
      display: block !important;
      overflow: hidden;
      width: 1px;
      height: 60ex;
      min-height: 0;
      max-height: none
    }

    .MathJax .MathJax_EmBox {
      display: block !important;
      overflow: hidden;
      width: 1px;
      height: 60em;
      min-height: 0;
      max-height: none
    }

    .MathJax .MathJax_HitBox {
      cursor: text;
      background: white;
      opacity: 0;
      filter: alpha(opacity=0)
    }

    .MathJax .MathJax_HitBox * {
      filter: none;
      opacity: 1;
      background: transparent
    }

    #MathJax_Tooltip * {
      filter: none;
      opacity: 1;
      background: transparent
    }

    @font-face {
      font-family: MathJax_Main;
      src: url('https://learnopengl.com/js/mathjax/fonts/HTML-CSS/TeX/woff/MathJax_Main-Regular.woff?rev=2.6.1') format('woff'), url('https://learnopengl.com/js/mathjax/fonts/HTML-CSS/TeX/otf/MathJax_Main-Regular.otf?rev=2.6.1') format('opentype')
    }

    @font-face {
      font-family: MathJax_Main;
      src: url('https://learnopengl.com/js/mathjax/fonts/HTML-CSS/TeX/woff/MathJax_Main-Bold.woff?rev=2.6.1') format('woff'), url('https://learnopengl.com/js/mathjax/fonts/HTML-CSS/TeX/otf/MathJax_Main-Bold.otf?rev=2.6.1') format('opentype');
      font-weight: bold
    }

    @font-face {
      font-family: MathJax_Main;
      src: url('https://learnopengl.com/js/mathjax/fonts/HTML-CSS/TeX/woff/MathJax_Main-Italic.woff?rev=2.6.1') format('woff'), url('https://learnopengl.com/js/mathjax/fonts/HTML-CSS/TeX/otf/MathJax_Main-Italic.otf?rev=2.6.1') format('opentype');
      font-style: italic
    }

    @font-face {
      font-family: MathJax_Math;
      src: url('https://learnopengl.com/js/mathjax/fonts/HTML-CSS/TeX/woff/MathJax_Math-Italic.woff?rev=2.6.1') format('woff'), url('https://learnopengl.com/js/mathjax/fonts/HTML-CSS/TeX/otf/MathJax_Math-Italic.otf?rev=2.6.1') format('opentype');
      font-style: italic
    }

    @font-face {
      font-family: MathJax_Caligraphic;
      src: url('https://learnopengl.com/js/mathjax/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Regular.woff?rev=2.6.1') format('woff'), url('https://learnopengl.com/js/mathjax/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Regular.otf?rev=2.6.1') format('opentype')
    }

    @font-face {
      font-family: MathJax_Size1;
      src: url('https://learnopengl.com/js/mathjax/fonts/HTML-CSS/TeX/woff/MathJax_Size1-Regular.woff?rev=2.6.1') format('woff'), url('https://learnopengl.com/js/mathjax/fonts/HTML-CSS/TeX/otf/MathJax_Size1-Regular.otf?rev=2.6.1') format('opentype')
    }

    @font-face {
      font-family: MathJax_Size2;
      src: url('https://learnopengl.com/js/mathjax/fonts/HTML-CSS/TeX/woff/MathJax_Size2-Regular.woff?rev=2.6.1') format('woff'), url('https://learnopengl.com/js/mathjax/fonts/HTML-CSS/TeX/otf/MathJax_Size2-Regular.otf?rev=2.6.1') format('opentype')
    }

    @font-face {
      font-family: MathJax_Size3;
      src: url('https://learnopengl.com/js/mathjax/fonts/HTML-CSS/TeX/woff/MathJax_Size3-Regular.woff?rev=2.6.1') format('woff'), url('https://learnopengl.com/js/mathjax/fonts/HTML-CSS/TeX/otf/MathJax_Size3-Regular.otf?rev=2.6.1') format('opentype')
    }

    @font-face {
      font-family: MathJax_Size4;
      src: url('https://learnopengl.com/js/mathjax/fonts/HTML-CSS/TeX/woff/MathJax_Size4-Regular.woff?rev=2.6.1') format('woff'), url('https://learnopengl.com/js/mathjax/fonts/HTML-CSS/TeX/otf/MathJax_Size4-Regular.otf?rev=2.6.1') format('opentype')
    }

    .MathJax .noError {
      font-size: 90%;
      text-align: left;
      color: black;
      padding: 1px 3px;
      border: 1px solid
    }
  </style>
  <link rel="prefetch" as="style"
    href="LearnOpenGL%20-%20Light%20casters_files/a_data_005/lounge.973e8258c48717b79b37fecbf85dcea2.css">
  <link rel="prefetch" as="script"
    href="LearnOpenGL%20-%20Light%20casters_files/a_data_005/common.bundle.78f08d08ee97a04dc049cbcf3a5ec827.js">
  <link rel="prefetch" as="script"
    href="LearnOpenGL%20-%20Light%20casters_files/a_data_005/lounge.bundle.80bb1523f48c6d611d4ba6c652892c20.js">
  <link rel="prefetch" as="script" href="LearnOpenGL%20-%20Light%20casters_files/a_data_005/config.js">
  <meta http-equiv="origin-trial"
    content="Az6AfRvI8mo7yiW5fLfj04W21t0ig6aMsGYpIqMTaX60H+b0DkO1uDr+7BrzMcimWzv/X7SXR8jI+uvbV0IJlwYAAACFeyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjgwNjUyNzk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ==">
  <meta http-equiv="origin-trial"
    content="A+USTya+tNvDPaxUgJooz+LaVk5hPoAxpLvSxjogX4Mk8awCTQ9iop6zJ9d5ldgU7WmHqBlnQB41LHHRFxoaBwoAAACLeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjgwNjUyNzk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ==">
  <meta http-equiv="origin-trial"
    content="A7FovoGr67TUBYbnY+Z0IKoJbbmRmB8fCyirUGHavNDtD91CiGyHHSA2hDG9r9T3NjUKFi6egL3RbgTwhhcVDwUAAACLeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjgwNjUyNzk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ==">
  <script src="LearnOpenGL%20-%20Light%20casters_files/pubads_impl_2023010501.js" async=""></script>
  <link rel="preload" href="LearnOpenGL%20-%20Light%20casters_files/f.txt" as="script">
  <script type="text/javascript" src="LearnOpenGL%20-%20Light%20casters_files/f.txt"></script>
</head>

<body>
  <div
    style="visibility: hidden; overflow: hidden; position: absolute; top: 0px; height: 1px; width: auto; padding: 0px; border: 0px none; margin: 0px; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal;">
    <div id="MathJax_Hidden"></div>
  </div>
  <div id="MathJax_Message" style="display: none;"></div>
  <a href="https://learnopengl.com/">
    <div id="header">
    </div>
  </a>

  <div id="supercontainer">
    <!-- 728x90/320x50 -->
    <div id="header_ad">
      <div id="waldo-tag-6194" class="waldo-display-unit" style="min-width: 728px; min-height: 90px;"
        data-processed="true" data-google-query-id="CKHvrI3-xvwCFQ3IFgUdpDcNuQ">
        <div id="google_ads_iframe_/124067137,22550200400/learnopengl728x90FS_2_0__container__"
          style="border: 0pt none;"><iframe id="google_ads_iframe_/124067137,22550200400/learnopengl728x90FS_2_0"
            name="google_ads_iframe_/124067137,22550200400/learnopengl728x90FS_2_0" title="3rd party ad content"
            scrolling="no" marginwidth="0" marginheight="0" style="border: 0px none; vertical-align: bottom;"
            role="region" aria-label="Advertisement" tabindex="0" data-google-container-id="6" data-load-complete="true"
            width="728" height="90" frameborder="0"></iframe></div>
      </div>
    </div>
    <div id="rightad_container" style="height: 12972px;">
      <div id="rightad">
        <div id="waldo-tag-1715" class="waldo-display-unit" style="min-width: 300px; min-height: 600px;"
          data-processed="true" data-google-query-id="CJ3vrI3-xvwCFQ3IFgUdpDcNuQ">
          <div id="google_ads_iframe_/124067137,22550200400/learnopengl300x250FL_1_0__container__"
            style="border: 0pt none;"><iframe id="google_ads_iframe_/124067137,22550200400/learnopengl300x250FL_1_0"
              name="google_ads_iframe_/124067137,22550200400/learnopengl300x250FL_1_0" title="3rd party ad content"
              scrolling="no" marginwidth="0" marginheight="0" style="border: 0px none; vertical-align: bottom;"
              role="region" aria-label="Advertisement" tabindex="0" data-google-container-id="2"
              data-load-complete="true" width="300" height="250" frameborder="0"></iframe></div>
        </div>
      </div>

      <div id="admessage">
        If you're running AdBlock, please consider whitelisting this
        site if you'd like to support LearnOpenGL; and no worries, I won't be
        mad if you don't :)
      </div>

      <div id="rightonethirdad" style="display: block; top: 3178.5px;">
        <div id="waldo-tag-2246" class="waldo-display-unit" style="min-width: 300px; min-height: 600px;"
          data-processed="true" data-google-query-id="CJ_vrI3-xvwCFQ3IFgUdpDcNuQ">
          <div id="google_ads_iframe_/124067137,22550200400/learnopengl300x600FL_2_0__container__"
            style="border: 0pt none;"><iframe id="google_ads_iframe_/124067137,22550200400/learnopengl300x600FL_2_0"
              name="google_ads_iframe_/124067137,22550200400/learnopengl300x600FL_2_0" title="3rd party ad content"
              scrolling="no" marginwidth="0" marginheight="0" style="border: 0px none; vertical-align: bottom;"
              role="region" aria-label="Advertisement" tabindex="0" data-google-container-id="4"
              data-load-complete="true" width="300" height="600" frameborder="0"></iframe></div>
        </div>
      </div>

      <div id="rightbottomad" style="display: block;">
        <div id="waldo-tag-2247" class="waldo-display-unit" style="min-width: 300px; min-height: 600px;"
          data-processed="true" data-google-query-id="CKDvrI3-xvwCFQ3IFgUdpDcNuQ">
          <div id="google_ads_iframe_/124067137,22550200400/learnopengl300x600FL_3_0__container__"
            style="border: 0pt none;"><iframe id="google_ads_iframe_/124067137,22550200400/learnopengl300x600FL_3_0"
              name="google_ads_iframe_/124067137,22550200400/learnopengl300x600FL_3_0" title="3rd party ad content"
              scrolling="no" marginwidth="0" marginheight="0" style="border: 0px none; vertical-align: bottom;"
              role="region" aria-label="Advertisement" tabindex="0" data-google-container-id="5"
              data-load-complete="true" width="300" height="600" frameborder="0"></iframe></div>
        </div>
      </div>
    </div>
    <div id="container">
      <div id="loading"></div>
      <script>
        $(document).ready(function () {
          $('#menu-item4').mousedown(function () { MenuClick(4, true) });
          $('#menu-item48').mousedown(function () { MenuClick(48, true) });
          $('#menu-item56').mousedown(function () { MenuClick(56, true) });
          $('#menu-item63').mousedown(function () { MenuClick(63, true) });
          $('#menu-item100').mousedown(function () { MenuClick(100, true) });
          $('#menu-item102').mousedown(function () { MenuClick(102, true) });
          $('#menu-item113').mousedown(function () { MenuClick(113, true) });
          $('#menu-item116').mousedown(function () { MenuClick(116, true) });
          $('#menu-item78').mousedown(function () { MenuClick(78, true) });
          $('#menu-item81').mousedown(function () { MenuClick(81, true) });
          $('#menu-item85').mousedown(function () { MenuClick(85, true) });
          $('#menu-item125').mousedown(function () { MenuClick(125, true) });
          $('#menu-item128').mousedown(function () { MenuClick(128, true) });
          $('#menu-item129').mousedown(function () { MenuClick(129, true) });
          $('#menu-item133').mousedown(function () { MenuClick(133, true) });
          $('#menu-item134').mousedown(function () { MenuClick(134, true) });
          $('#menu-item138').mousedown(function () { MenuClick(138, true) });
          $('#menu-item142').mousedown(function () { MenuClick(142, true) });
          $('#menu-item143').mousedown(function () { MenuClick(143, true) });
        }); 
      </script>
      <div id="nav" style="height: 12972px;">
        <div id="social">
          <a href="https://github.com/JoeyDeVries/LearnOpenGL" target="_blank">
            <img src="LearnOpenGL%20-%20Light%20casters_files/github.png" class="social_ico">
          </a>
          <!-- <a href="https://www.facebook.com/Learnopengl-2199631333595544/" target="_blank">
                <img src="/img/facebook.png" class="social_ico">
            </a>-->
          <a href="https://twitter.com/JoeyDeVriez" target="_blank">
            <img src="LearnOpenGL%20-%20Light%20casters_files/twitter.png" class="social_ico">
          </a>

        </div>
        <img src="LearnOpenGL%20-%20Light%20casters_files/nav-button_bottom-arrow.png" style="display: none">
        <ol>
          <li id="Introduction"><a id="menu-item1" href="https://learnopengl.com/Introduction">Introduction </a></li>
          <li id="Getting-started"><span id="menu-item4" class="closed">Getting started </span>
            <ol id="menu-items-of4" style="display:none;">
              <li id="Getting-started/OpenGL"><a id="menu-item49"
                  href="https://learnopengl.com/Getting-started/OpenGL">OpenGL </a></li>
              <li id="Getting-started/Creating-a-window"><a id="menu-item5"
                  href="https://learnopengl.com/Getting-started/Creating-a-window">Creating a window </a></li>
              <li id="Getting-started/Hello-Window"><a id="menu-item6"
                  href="https://learnopengl.com/Getting-started/Hello-Window">Hello Window </a></li>
              <li id="Getting-started/Hello-Triangle"><a id="menu-item38"
                  href="https://learnopengl.com/Getting-started/Hello-Triangle">Hello Triangle </a></li>
              <li id="Getting-started/Shaders"><a id="menu-item39"
                  href="https://learnopengl.com/Getting-started/Shaders">Shaders </a></li>
              <li id="Getting-started/Textures"><a id="menu-item40"
                  href="https://learnopengl.com/Getting-started/Textures">Textures </a></li>
              <li id="Getting-started/Transformations"><a id="menu-item43"
                  href="https://learnopengl.com/Getting-started/Transformations">Transformations </a></li>
              <li id="Getting-started/Coordinate-Systems"><a id="menu-item44"
                  href="https://learnopengl.com/Getting-started/Coordinate-Systems">Coordinate Systems </a></li>
              <li id="Getting-started/Camera"><a id="menu-item47"
                  href="https://learnopengl.com/Getting-started/Camera">Camera </a></li>
              <li id="Getting-started/Review"><a id="menu-item50"
                  href="https://learnopengl.com/Getting-started/Review">Review </a></li>
            </ol>
          </li>
          <li id="Lighting"><span id="menu-item48" class="open">Lighting </span>
            <ol id="menu-items-of48" style="">
              <li id="Lighting/Colors"><a id="menu-item51" href="https://learnopengl.com/Lighting/Colors">Colors </a>
              </li>
              <li id="Lighting/Basic-Lighting"><a id="menu-item52"
                  href="https://learnopengl.com/Lighting/Basic-Lighting">Basic Lighting </a></li>
              <li id="Lighting/Materials"><a id="menu-item53"
                  href="https://learnopengl.com/Lighting/Materials">Materials </a></li>
              <li id="Lighting/Lighting-maps"><a id="menu-item54"
                  href="https://learnopengl.com/Lighting/Lighting-maps">Lighting maps </a></li>
              <li id="Lighting/Light-casters"><a id="menu-item55" href="https://learnopengl.com/Lighting/Light-casters"
                  class="selected">Light casters </a></li>
              <li id="Lighting/Multiple-lights"><a id="menu-item58"
                  href="https://learnopengl.com/Lighting/Multiple-lights">Multiple lights </a></li>
              <li id="Lighting/Review"><a id="menu-item57" href="https://learnopengl.com/Lighting/Review">Review </a>
              </li>
            </ol>
          </li>
          <li id="Model-Loading"><span id="menu-item56" class="closed">Model Loading </span>
            <ol id="menu-items-of56" style="display:none;">
              <li id="Model-Loading/Assimp"><a id="menu-item59"
                  href="https://learnopengl.com/Model-Loading/Assimp">Assimp </a></li>
              <li id="Model-Loading/Mesh"><a id="menu-item60" href="https://learnopengl.com/Model-Loading/Mesh">Mesh
                </a></li>
              <li id="Model-Loading/Model"><a id="menu-item61" href="https://learnopengl.com/Model-Loading/Model">Model
                </a></li>
            </ol>
          </li>
          <li id="Advanced-OpenGL"><span id="menu-item63" class="closed">Advanced OpenGL </span>
            <ol id="menu-items-of63" style="display:none;">
              <li id="Advanced-OpenGL/Depth-testing"><a id="menu-item72"
                  href="https://learnopengl.com/Advanced-OpenGL/Depth-testing">Depth testing </a></li>
              <li id="Advanced-OpenGL/Stencil-testing"><a id="menu-item73"
                  href="https://learnopengl.com/Advanced-OpenGL/Stencil-testing">Stencil testing </a></li>
              <li id="Advanced-OpenGL/Blending"><a id="menu-item74"
                  href="https://learnopengl.com/Advanced-OpenGL/Blending">Blending </a></li>
              <li id="Advanced-OpenGL/Face-culling"><a id="menu-item77"
                  href="https://learnopengl.com/Advanced-OpenGL/Face-culling">Face culling </a></li>
              <li id="Advanced-OpenGL/Framebuffers"><a id="menu-item65"
                  href="https://learnopengl.com/Advanced-OpenGL/Framebuffers">Framebuffers </a></li>
              <li id="Advanced-OpenGL/Cubemaps"><a id="menu-item66"
                  href="https://learnopengl.com/Advanced-OpenGL/Cubemaps">Cubemaps </a></li>
              <li id="Advanced-OpenGL/Advanced-Data"><a id="menu-item69"
                  href="https://learnopengl.com/Advanced-OpenGL/Advanced-Data">Advanced Data </a></li>
              <li id="Advanced-OpenGL/Advanced-GLSL"><a id="menu-item67"
                  href="https://learnopengl.com/Advanced-OpenGL/Advanced-GLSL">Advanced GLSL </a></li>
              <li id="Advanced-OpenGL/Geometry-Shader"><a id="menu-item68"
                  href="https://learnopengl.com/Advanced-OpenGL/Geometry-Shader">Geometry Shader </a></li>
              <li id="Advanced-OpenGL/Instancing"><a id="menu-item70"
                  href="https://learnopengl.com/Advanced-OpenGL/Instancing">Instancing </a></li>
              <li id="Advanced-OpenGL/Anti-Aliasing"><a id="menu-item75"
                  href="https://learnopengl.com/Advanced-OpenGL/Anti-Aliasing">Anti Aliasing </a></li>
            </ol>
          </li>
          <li id="Advanced-Lighting"><span id="menu-item100" class="closed">Advanced Lighting </span>
            <ol id="menu-items-of100" style="display:none;">
              <li id="Advanced-Lighting/Advanced-Lighting"><a id="menu-item101"
                  href="https://learnopengl.com/Advanced-Lighting/Advanced-Lighting">Advanced Lighting </a></li>
              <li id="Advanced-Lighting/Gamma-Correction"><a id="menu-item110"
                  href="https://learnopengl.com/Advanced-Lighting/Gamma-Correction">Gamma Correction </a></li>
              <li id="Advanced-Lighting/Shadows"><span id="menu-item102" class="closed">Shadows </span>
                <ol id="menu-items-of102" style="display:none;">
                  <li id="Advanced-Lighting/Shadows/Shadow-Mapping"><a id="menu-item103"
                      href="https://learnopengl.com/Advanced-Lighting/Shadows/Shadow-Mapping">Shadow Mapping </a></li>
                  <li id="Advanced-Lighting/Shadows/Point-Shadows"><a id="menu-item104"
                      href="https://learnopengl.com/Advanced-Lighting/Shadows/Point-Shadows">Point Shadows </a></li>
                </ol>
              </li>
              <li id="Advanced-Lighting/Normal-Mapping"><a id="menu-item106"
                  href="https://learnopengl.com/Advanced-Lighting/Normal-Mapping">Normal Mapping </a></li>
              <li id="Advanced-Lighting/Parallax-Mapping"><a id="menu-item107"
                  href="https://learnopengl.com/Advanced-Lighting/Parallax-Mapping">Parallax Mapping </a></li>
              <li id="Advanced-Lighting/HDR"><a id="menu-item111"
                  href="https://learnopengl.com/Advanced-Lighting/HDR">HDR </a></li>
              <li id="Advanced-Lighting/Bloom"><a id="menu-item112"
                  href="https://learnopengl.com/Advanced-Lighting/Bloom">Bloom </a></li>
              <li id="Advanced-Lighting/Deferred-Shading"><a id="menu-item108"
                  href="https://learnopengl.com/Advanced-Lighting/Deferred-Shading">Deferred Shading </a></li>
              <li id="Advanced-Lighting/SSAO"><a id="menu-item109"
                  href="https://learnopengl.com/Advanced-Lighting/SSAO">SSAO </a></li>
            </ol>
          </li>
          <li id="PBR"><span id="menu-item113" class="closed">PBR </span>
            <ol id="menu-items-of113" style="display:none;">
              <li id="PBR/Theory"><a id="menu-item114" href="https://learnopengl.com/PBR/Theory">Theory </a></li>
              <li id="PBR/Lighting"><a id="menu-item115" href="https://learnopengl.com/PBR/Lighting">Lighting </a></li>
              <li id="PBR/IBL"><span id="menu-item116" class="closed">IBL </span>
                <ol id="menu-items-of116" style="display:none;">
                  <li id="PBR/IBL/Diffuse-irradiance"><a id="menu-item117"
                      href="https://learnopengl.com/PBR/IBL/Diffuse-irradiance">Diffuse irradiance </a></li>
                  <li id="PBR/IBL/Specular-IBL"><a id="menu-item118"
                      href="https://learnopengl.com/PBR/IBL/Specular-IBL">Specular IBL </a></li>
                </ol>
              </li>
            </ol>
          </li>
          <li id="In-Practice"><span id="menu-item78" class="closed">In Practice </span>
            <ol id="menu-items-of78" style="display:none;">
              <li id="In-Practice/Debugging"><a id="menu-item79"
                  href="https://learnopengl.com/In-Practice/Debugging">Debugging </a></li>
              <li id="In-Practice/Text-Rendering"><a id="menu-item80"
                  href="https://learnopengl.com/In-Practice/Text-Rendering">Text Rendering </a></li>
              <li id="In-Practice/2D-Game"><span id="menu-item81" class="closed">2D Game </span>
                <ol id="menu-items-of81" style="display:none;">
                  <li id="In-Practice/2D-Game/Breakout"><a id="menu-item82"
                      href="https://learnopengl.com/In-Practice/2D-Game/Breakout">Breakout </a></li>
                  <li id="In-Practice/2D-Game/Setting-up"><a id="menu-item88"
                      href="https://learnopengl.com/In-Practice/2D-Game/Setting-up">Setting up </a></li>
                  <li id="In-Practice/2D-Game/Rendering-Sprites"><a id="menu-item83"
                      href="https://learnopengl.com/In-Practice/2D-Game/Rendering-Sprites">Rendering Sprites </a></li>
                  <li id="In-Practice/2D-Game/Levels"><a id="menu-item84"
                      href="https://learnopengl.com/In-Practice/2D-Game/Levels">Levels </a></li>
                  <li id="In-Practice/2D-Game/Collisions"><span id="menu-item85" class="closed">Collisions </span>
                    <ol id="menu-items-of85" style="display:none;">
                      <li id="In-Practice/2D-Game/Collisions/Ball"><a id="menu-item95"
                          href="https://learnopengl.com/In-Practice/2D-Game/Collisions/Ball">Ball </a></li>
                      <li id="In-Practice/2D-Game/Collisions/Collision-detection"><a id="menu-item96"
                          href="https://learnopengl.com/In-Practice/2D-Game/Collisions/Collision-detection">Collision
                          detection </a></li>
                      <li id="In-Practice/2D-Game/Collisions/Collision-resolution"><a id="menu-item97"
                          href="https://learnopengl.com/In-Practice/2D-Game/Collisions/Collision-resolution">Collision
                          resolution </a></li>
                    </ol>
                  </li>
                  <li id="In-Practice/2D-Game/Particles"><a id="menu-item89"
                      href="https://learnopengl.com/In-Practice/2D-Game/Particles">Particles </a></li>
                  <li id="In-Practice/2D-Game/Postprocessing"><a id="menu-item90"
                      href="https://learnopengl.com/In-Practice/2D-Game/Postprocessing">Postprocessing </a></li>
                  <li id="In-Practice/2D-Game/Powerups"><a id="menu-item91"
                      href="https://learnopengl.com/In-Practice/2D-Game/Powerups">Powerups </a></li>
                  <li id="In-Practice/2D-Game/Audio"><a id="menu-item94"
                      href="https://learnopengl.com/In-Practice/2D-Game/Audio">Audio </a></li>
                  <li id="In-Practice/2D-Game/Render-text"><a id="menu-item92"
                      href="https://learnopengl.com/In-Practice/2D-Game/Render-text">Render text </a></li>
                  <li id="In-Practice/2D-Game/Final-thoughts"><a id="menu-item93"
                      href="https://learnopengl.com/In-Practice/2D-Game/Final-thoughts">Final thoughts </a></li>
                </ol>
              </li>
            </ol>
          </li>
          <li id="Guest-Articles"><span id="menu-item125" class="closed">Guest Articles </span>
            <ol id="menu-items-of125" style="display:none;">
              <li id="Guest-Articles/How-to-publish"><a id="menu-item126"
                  href="https://learnopengl.com/Guest-Articles/How-to-publish">How to publish </a></li>
              <li id="Guest-Articles/2020"><span id="menu-item128" class="closed">2020 </span>
                <ol id="menu-items-of128" style="display:none;">
                  <li id="Guest-Articles/2020/OIT"><span id="menu-item129" class="closed">OIT </span>
                    <ol id="menu-items-of129" style="display:none;">
                      <li id="Guest-Articles/2020/OIT/Introduction"><a id="menu-item130"
                          href="https://learnopengl.com/Guest-Articles/2020/OIT/Introduction">Introduction </a></li>
                      <li id="Guest-Articles/2020/OIT/Weighted-Blended"><a id="menu-item132"
                          href="https://learnopengl.com/Guest-Articles/2020/OIT/Weighted-Blended">Weighted Blended </a>
                      </li>
                    </ol>
                  </li>
                  <li id="Guest-Articles/2020/Skeletal-Animation"><a id="menu-item131"
                      href="https://learnopengl.com/Guest-Articles/2020/Skeletal-Animation">Skeletal Animation </a></li>
                </ol>
              </li>
              <li id="Guest-Articles/2021"><span id="menu-item133" class="closed">2021 </span>
                <ol id="menu-items-of133" style="display:none;">
                  <li id="Guest-Articles/2021/CSM"><a id="menu-item137"
                      href="https://learnopengl.com/Guest-Articles/2021/CSM">CSM </a></li>
                  <li id="Guest-Articles/2021/Scene"><span id="menu-item134" class="closed">Scene </span>
                    <ol id="menu-items-of134" style="display:none;">
                      <li id="Guest-Articles/2021/Scene/Scene-Graph"><a id="menu-item135"
                          href="https://learnopengl.com/Guest-Articles/2021/Scene/Scene-Graph">Scene Graph </a></li>
                      <li id="Guest-Articles/2021/Scene/Frustum-Culling"><a id="menu-item136"
                          href="https://learnopengl.com/Guest-Articles/2021/Scene/Frustum-Culling">Frustum Culling </a>
                      </li>
                    </ol>
                  </li>
                  <li id="Guest-Articles/2021/Tessellation"><span id="menu-item138" class="closed">Tessellation </span>
                    <ol id="menu-items-of138" style="display:none;">
                      <li id="Guest-Articles/2021/Tessellation/Height-map"><a id="menu-item139"
                          href="https://learnopengl.com/Guest-Articles/2021/Tessellation/Height-map">Height map </a>
                      </li>
                      <li id="Guest-Articles/2021/Tessellation/Tessellation"><a id="menu-item140"
                          href="https://learnopengl.com/Guest-Articles/2021/Tessellation/Tessellation">Tessellation </a>
                      </li>
                    </ol>
                  </li>
                  <li id="Guest-Articles/2021/DSA"><a id="menu-item141"
                      href="https://learnopengl.com/Guest-Articles/2021/DSA">DSA </a></li>
                </ol>
              </li>
              <li id="Guest-Articles/2022"><span id="menu-item142" class="closed">2022 </span>
                <ol id="menu-items-of142" style="display:none;">
                  <li id="Guest-Articles/2022/Compute-Shaders"><span id="menu-item143" class="closed">Compute Shaders
                    </span>
                    <ol id="menu-items-of143" style="display:none;">
                      <li id="Guest-Articles/2022/Compute-Shaders/Introduction"><a id="menu-item144"
                          href="https://learnopengl.com/Guest-Articles/2022/Compute-Shaders/Introduction">Introduction
                        </a></li>
                    </ol>
                  </li>
                  <li id="Guest-Articles/2022/Phys.-Based-Bloom"><a id="menu-item145"
                      href="https://learnopengl.com/Guest-Articles/2022/Phys.-Based-Bloom">Phys. Based Bloom </a></li>
                  <li id="Guest-Articles/2022/Area-Lights"><a id="menu-item146"
                      href="https://learnopengl.com/Guest-Articles/2022/Area-Lights">Area Lights </a></li>
                </ol>
              </li>
            </ol>
          </li>
          <li id="Code-repository"><a id="menu-item99" href="https://learnopengl.com/Code-repository">Code repository
            </a></li>
          <li id="Translations"><a id="menu-item119" href="https://learnopengl.com/Translations">Translations </a></li>
          <li id="About"><a id="menu-item2" href="https://learnopengl.com/About">About </a></li>
        </ol>
        <div id="menu_book">
          <a href="https://geni.us/learnopengl" target="_blank"><img
              src="LearnOpenGL%20-%20Light%20casters_files/below_menu.png" class="clean"></a>
        </div>
        <div id="donate">
          <a href="https://www.paypal.me/learnopengl/" target="_blank">
            <div id="donate_img"></div>
            <img style="display: none" src="LearnOpenGL%20-%20Light%20casters_files/donate_button_hover.png">
            <!--<img id="donate_img" src="img/patreon.png"/>-->
          </a>
          <!--<div id="alipay">
            <img style="width: 150px;" class="clean" src="/img/alipay_logo.png"/>
            <img style="width: 150px; margin-top: 5px" src="/img/alipay.png"/>
          </div>-->
        </div>

        <div class="btc">
          <h3>BTC</h3>
          <p>
            1CLGKgmBSuYJ1nnvDGAepVTKNNDpUjfpRa
          </p>
          <img src="LearnOpenGL%20-%20Light%20casters_files/btc_qr_new.png">
        </div>
        <div class="btc">
          <h3>ETH/ERC20</h3>
          <p>
            0x1de59bd9e52521a46309474f8372531533bd7c43
          </p>
          <img src="LearnOpenGL%20-%20Light%20casters_files/erc20_qr_new.png">
        </div>

        <div id="ad">
          <!--<div id="waldo-tag-1684"></div>-->
        </div>

        <div id="lefttwothirdad" style="display: block; top: 8183px;">
          <div id="waldo-tag-2245" class="waldo-display-unit" style="min-width: 300px; min-height: 600px;"
            data-processed="true" data-google-query-id="CJ7vrI3-xvwCFQ3IFgUdpDcNuQ">
            <div id="google_ads_iframe_/124067137,22550200400/learnopengl300x600FL_1_0__container__"
              style="border: 0pt none;"><iframe id="google_ads_iframe_/124067137,22550200400/learnopengl300x600FL_1_0"
                name="google_ads_iframe_/124067137,22550200400/learnopengl300x600FL_1_0" title="3rd party ad content"
                scrolling="no" marginwidth="0" marginheight="0" style="border: 0px none; vertical-align: bottom;"
                role="region" aria-label="Advertisement" tabindex="0" data-google-container-id="3"
                data-load-complete="true" width="300" height="250" frameborder="0"></iframe></div>
          </div>
        </div>
      </div>

      <div id="content">
        <h1 id="content-title">Light casters</h1>
        <h1 id="content-url" style="display:none;">Lighting/Light-casters</h1>
        <p>
          All the lighting we've used so far came from a single source that is a
          single point in space. It gives good results, but in the real world we
          have several types of light that each act different. A light source that
          <em>casts</em> light upon objects is called a <def>light caster</def>.
          In this chapter we'll discuss several different types of light casters.
          Learning to simulate different light sources is yet another tool in your
          toolbox to further enrich your environments.
        </p>

        <p>
          到目前为止，我们使用的所有照明都来自一个单一的光源，即空间中的一个点。 它给出了很好的结果，但在现实世界中，我们有几种类型的光，每种光的作用都不同。 将光投射到物体上的光源称为投光器。
          在本章中，我们将讨论几种不同类型的光投射器。 学习模拟不同的光源是您工具箱中的另一个工具，可以进一步丰富您的环境。
        </p>

        <p>
          We'll first discuss a directional light, then a point light which is
          an extension of what we had before, and lastly we'll discuss spotlights.
          In the <a href="https://learnopengl.com/Lighting/Multiple-lights" target="_blank">next</a> chapter we'll
          combine several of these different light types into one scene.
        </p>

        <p>
          我们将首先讨论定向光，然后是点光源，它是我们之前的扩展，最后我们将讨论聚光灯。 在下一章中，我们将把几种不同的光类型组合到一个场景中。
        </p>
        <h1>Directional Light 定向光</h1>
        <p>
          When a light source is far away the light rays coming from the light
          source are close to parallel to each other. It looks like all the light
          rays are coming from the same direction, regardless of where the object
          and/or the viewer is. When a light source is modeled to be <em>infinitely</em> far away it is called a <def>
            directional light</def> since all its light rays have the same direction; it is independent of the location
          of the light source.
        </p>

        <p>
          当光源远离时，来自光源的光线彼此接近平行。 看起来所有的光线都来自同一个方向，不管物体和/或观察者在哪里。 当光源被建模为无限远时，它被称为定向光，因为它的所有光线都具有相同的方向； 它与光源的位置无关。
        </p>

        <p>
          A fine example of a directional light source is the sun as we know it.
          The sun is not infinitely far away from us, but it is so far away that
          we can perceive it as being infinitely far away in the lighting
          calculations. All the light rays from the sun are then modeled as
          parallel light rays as we can see in the following image:
        </p>

        <p>
          定向光源的一个很好的例子是我们所知道的太阳。 太阳离我们不是无限远，但它远到我们可以在光照计算中将它感知为无限远。 然后，所有来自太阳的光线都被建模为平行光线，如下图所示：
        </p>

        <img src="LearnOpenGL%20-%20Light%20casters_files/light_casters_directional.png" class="clean">

        <p>
          Because all the light rays are parallel it does not matter how each
          object relates to the light source's position since the light direction
          remains the same for each object in the scene. Because the light's
          direction vector stays the same, the lighting calculations will be
          similar for each object in the scene.
        </p>

        <p>
          因为所有光线都是平行的，所以每个对象与光源位置的关系并不重要，因为场景中每个对象的光方向保持相同。 因为光的方向矢量保持不变，所以场景中每个对象的光照计算都是相似的。
        </p>

        <p>
          We can model such a directional light by defining a light direction
          vector instead of a position vector. The shader calculations remain
          mostly the same except this time we directly use the light's <var>direction</var> vector instead of
          calculating the <var>lightDir</var> vector using the light's <var>position</var> vector:
        </p>
        <p>
          我们可以通过定义光方向向量而不是位置向量来对这种定向光进行建模。 除了这次我们直接使用光的方向向量而不是使用光的位置向量计算 lightDir 向量之外，着色器的计算基本保持不变：
        </p>

        <pre><code class=" hljs cpp">
<span class="hljs-keyword">struct</span> Light {
    <span class="hljs-comment">// vec3 position; // no longer necessary when using directional lights.</span>
    <span class="hljs-built_in">vec3</span> direction;
  
    <span class="hljs-built_in">vec3</span> ambient;
    <span class="hljs-built_in">vec3</span> diffuse;
    <span class="hljs-built_in">vec3</span> specular;
};
[...]
<span class="hljs-keyword">void</span> main()
{
  <span class="hljs-built_in">vec3</span> lightDir = normalize(-light.direction);
  [...]
}
</code></pre>

        <p>
          Note that we first negate the <var>light.direction</var> vector. The lighting calculations we used so far
          expect the light direction to be a direction from the fragment <strong>towards</strong> the light source, but
          people generally prefer to specify a directional light as a global direction pointing <strong>from</strong>
          the light source. Therefore we have to negate the global light
          direction vector to switch its direction; it's now a direction vector
          pointing towards the light source. Also, be sure to normalize the vector
          since it is unwise to assume the input vector to be a unit vector.
        </p>
        <p>
          请注意，我们首先否定 light.direction 向量。 到目前为止，我们使用的照明计算期望光的方向是从片段到光源的方向，但人们通常更喜欢将定向光指定为从光源指向的全局方向。 因此我们必须否定全局光方向向量来切换它的方向； 它现在是指向光源的方向矢量。 此外，请务必对向量进行归一化，因为将输入向量假设为单位向量是不明智的。
        </p>

        <p>
          The resulting <var>lightDir</var> vector is then used as before in the diffuse and specular computations.
        </p>
        <p>
          生成的 lightDir 向量然后像以前一样用于漫反射和镜面反射计算。
        </p>

        <p>
          To clearly demonstrate that a directional light has the same effect
          on multiple objects we revisit the container party scene from the end of
          the <a href="https://learnopengl.com/Getting-started/Coordinate-Systems" target="_blank">Coordinate
            systems</a> chapter. In case you missed the party we defined 10 different <a
            href="https://learnopengl.com/code_viewer.php?code=lighting/light_casters_container_positions"
            target="_blank">container positions</a>
          and generated a different model matrix per container where each model
          matrix contained the appropriate local-to-world transformations:
        </p>

        <p>
          为了清楚地证明定向光对多个物体具有相同的效果，我们重新审视了坐标系章节末尾的容器派对场景。 如果您错过了派对，我们定义了 10 个不同的容器位置，并为每个容器生成了一个不同的模型矩阵，其中每个模型矩阵都包含适当的本地到世界的转换：
        </p>

        <pre><code class=" hljs cpp">
<span class="hljs-keyword">for</span>(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++)
{
    glm::<span class="hljs-built_in">mat4</span> model = glm::<span class="hljs-built_in">mat4</span>(<span class="hljs-number">1.0f</span>);
    model = <function id="55">glm::translate</function>(model, cubePositions[i]);
    <span class="hljs-keyword">float</span> angle = <span class="hljs-number">20.0f</span> * i;
    model = <function id="57">glm::rotate</function>(model, <function id="63">glm::radians</function>(angle), glm::<span class="hljs-built_in">vec3</span>(<span class="hljs-number">1.0f</span>, <span class="hljs-number">0.3f</span>, <span class="hljs-number">0.5f</span>));
    lightingShader.setMat4(<span class="hljs-string">"model"</span>, model);

    <function id="1">glDrawArrays</function>(GL_TRIANGLES, <span class="hljs-number">0</span>, <span class="hljs-number">36</span>);
}
</code></pre>

        <p>
          Also, don't forget to actually specify the direction of the light source (note that we define the direction as
          a direction <strong>from</strong> the light source; you can quickly see the light's direction is pointing
          downwards):
        </p>

        <p>
          另外，不要忘记实际指定光源的方向（请注意，我们将方向定义为光源的方向；您可以很快看到光的方向指向下方）：
        </p>

        <pre><code class=" hljs cpp">
lightingShader.setVec3(<span class="hljs-string">"light.direction"</span>, -<span class="hljs-number">0.2f</span>, -<span class="hljs-number">1.0f</span>, -<span class="hljs-number">0.3f</span>); 	    
</code></pre>

        <note>
          <p>
            We've been passing the light's position and direction vectors as <code>vec3</code>s for a while now, but
            some people tend to prefer to keep all the vectors defined as <code>vec4</code>. When defining position
            vectors as a <code>vec4</code> it is important to set the <code>w</code> component to <code>1.0</code> so
            translation and projections are properly applied. However, when defining a direction vector as a
            <code>vec4</code> we don't want translations to have an effect (since they just represent directions,
            nothing more) so then we define the <code>w</code> component to be <code>0.0</code>.
          </p>

          <p>
            一段时间以来，我们一直将光的位置和方向向量作为 vec3 传递，但有些人倾向于将所有向量都定义为 vec4。 将位置向量定义为 vec4 时，重要的是将 w 分量设置为 1.0，以便正确应用平移和投影。 但是，当将方向向量定义为 vec4 时，我们不希望平移产生影响（因为它们仅表示方向，仅此而已），因此我们将 w 分量定义为 0.0。
          </p>

          <p>
            Direction vectors can then be represented as: <code>vec4(-0.2f, -1.0f, -0.3f, 0.0f)</code>. This can also
            function as an easy check for light types: you could check if the <code>w</code> component is equal to
            <code>1.0</code> to see that we now have a light's position vector and if <code>w</code> is equal to
            <code>0.0</code> we have a light's direction vector; so adjust the calculations based on that:
          </p>
          <p>方向向量可以表示为：vec4(-0.2f, -1.0f, -0.3f, 0.0f)。 这也可以作为对光类型的简单检查：您可以检查 w 分量是否等于 1.0 以查看我们现在有一个光的位置向量，如果 w 等于 0.0 我们有一个光的方向向量； 因此根据以下内容调整计算：</p>

          <pre><code class=" hljs cpp">
<span class="hljs-keyword">if</span>(lightVector.w == <span class="hljs-number">0.0</span>) <span class="hljs-comment">// note: be careful for floating point errors</span>
  <span class="hljs-comment">// do directional light calculations</span>
<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(lightVector.w == <span class="hljs-number">1.0</span>)
  <span class="hljs-comment">// do light calculations using the light's position (as in previous chapters)  </span>
</code></pre>

          <p>
            Fun fact: this is actually how the old OpenGL (fixed-functionality)
            determined if a light source was a directional light or a positional
            light source and adjusted its lighting based on that.
          </p><p>有趣的事实：这实际上是旧的 OpenGL（固定功能）确定光源是定向光源还是位置光源并根据此调整其光照的方式。</p>
        </note>

        <p>
          If you'd now compile the application and fly through the scene it
          looks like there is a sun-like light source casting light on all the
          objects. Can you see that the diffuse and specular components all react
          as if there was a light source somewhere in the sky? It'll look
          something like this:
        </p>
        <p>
          如果您现在编译应用程序并飞过场景，它看起来就像有一个类似太阳的光源在所有对象上投射光。 你能看到漫反射和镜面反射分量都像天空中某处有光源一样做出反应吗？ 它看起来像这样：
        </p>

        <img src="LearnOpenGL%20-%20Light%20casters_files/light_casters_directional_light.png" class="clean">

        <p>
          You can find the full source code of the application <a
            href="https://learnopengl.com/code_viewer_gh.php?code=src/2.lighting/5.1.light_casters_directional/light_casters_directional.cpp"
            target="_blank">here</a>.
        </p>
<p>您可以在此处找到该应用程序的完整源代码。</p>
        <h1>Point lights</h1>
        <p>
          Directional lights are great for global lights that illuminate the entire scene, but we usually also want
          several <def>point lights</def>
          scattered throughout the scene. A point light is a light source with a
          given position somewhere in a world that illuminates in all directions,
          where the light rays fade out over distance. Think of light bulbs and
          torches as light casters that act as a point light.
        </p><p>定向光非常适合照亮整个场景的全局光，但我们通常还需要散布在整个场景中的多个点光源。 点光源是在世界某处具有给定位置的光源，它照亮所有方向，光线随距离逐渐消失。 将灯泡和手电筒想象成充当点光源的投光器。</p>

        <img src="LearnOpenGL%20-%20Light%20casters_files/light_casters_point.png" class="clean">

        <p>
          In the earlier chapters we've been working with a simplistic point
          light. We had a light source at a given position that scatters light in
          all directions from that given light position. However, the light source
          we defined simulated light rays that never fade out thus making it look
          like the light source is extremely strong. In most 3D applications we'd
          like to simulate a light source that only illuminates an area close to
          the light source and not the entire scene.
        </p><p>在前面的章节中，我们一直在使用简单的点光源。 我们在给定位置有一个光源，它从给定的光位置向各个方向散射光。 但是，我们定义的光源模拟的光线是永不褪色的，因此看起来光源非常强。 在大多数 3D 应用程序中，我们希望模拟一个光源，它只照亮靠近光源的区域，而不是整个场景。</p>

        <p>
          If you'd add the 10 containers to the lighting scene from the
          previous chapters, you'd notice that the container all the way in the
          back is lit with the same intensity as the container in front of the
          light; there is no logic yet that diminishes light over distance. We
          want the container in the back to only be slightly lit in comparison to
          the containers close to the light source.
        </p><p>如果将 10 个容器添加到前几章的照明场景中，您会注意到后面的容器一直以与灯光前面的容器相同的强度照亮； 目前还没有逻辑表明光线会随着距离而减弱。 与靠近光源的容器相比，我们希望后面的容器只被轻微照亮。</p>

        <h2>Attenuation 衰减</h2>
        <p>
          To reduce the intensity of light over the distance a light ray travels is generally called <def>attenuation
          </def>.
          One way to reduce the light intensity over distance is to simply use a
          linear equation. Such an equation would linearly reduce the light
          intensity over the distance thus making sure that objects at a distance
          are less bright. However, such a linear function tends to look a bit
          fake. In the real world, lights are generally quite bright standing
          close by, but the brightness of a light source diminishes quickly at a
          distance; the remaining light intensity then slowly diminishes over
          distance. We are thus in need of a different equation for reducing the
          light's intensity.
        </p>
<p>
  在光线传播的距离上降低光的强度通常称为衰减。 随距离降低光强度的一种方法是简单地使用线性方程。 这样的方程式将线性降低距离上的光强度，从而确保远处的物体不那么亮。 然而，这样的线性函数往往看起来有点假。 在现实世界中，灯光一般在近处很亮，但光源的亮度在远处会很快减弱； 然后，剩余的光强度会随着距离的增加而慢慢减弱。 因此，我们需要一个不同的方程来降低光的强度。
</p>
        <p>
          Luckily some smart people already figured this out for us. The
          following formula calculates an attenuation value based on a fragment's
          distance to the light source which we later multiply with the light's
          intensity vector:
        </p><p>幸运的是，一些聪明人已经为我们解决了这个问题。 以下公式根据片段到光源的距离计算衰减值，我们稍后将其与光的强度向量相乘：</p>

        <span class="MathJax_Preview" style="color: inherit;"></span>
        <div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-1-Frame" tabindex="0"
            style="width: 100%; position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-1&quot;&gt;&lt;mtext&gt;(1)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mi&gt;F&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mfrac&gt;&lt;mn&gt;1.0&lt;/mn&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;K&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;K&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2217;&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;K&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2217;&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-1" role="math"
                style="width: 100%; display: inline-block; min-width: 16.924em;"><span
                  style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 116%; min-width: 16.924em;"><span
                    style="position: absolute; clip: rect(2.393em, 1012.77em, 5.081em, -1000em); top: -3.987em; left: 0em; width: 100%;"><span
                      class="mrow" id="MathJax-Span-2"><span class="mtable" id="MathJax-Span-3"
                        style="min-width: 16.924em;"><span
                          style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 16.924em;"><span
                            style="display: inline-block; position: absolute; width: 12.768em; height: 0px; clip: rect(-1.594em, 1012.77em, 1.094em, -1000em); top: 0em; left: 50%; margin-left: -6.384em;"><span
                              style="position: absolute; clip: rect(2.393em, 1012.77em, 5.081em, -1000em); top: -3.987em; left: 0em;"><span
                                style="display: inline-block; position: relative; width: 12.768em; height: 0px;"><span
                                  style="position: absolute; clip: rect(2.483em, 1012.77em, 5.17em, -1000em); top: -4.077em; left: 50%; margin-left: -6.384em;"><span
                                    class="mtd" id="MathJax-Span-7"><span class="mrow" id="MathJax-Span-8"><span
                                        class="msubsup" id="MathJax-Span-9"><span
                                          style="display: inline-block; position: relative; width: 1.603em; height: 0px;"><span
                                            style="position: absolute; clip: rect(3.145em, 1000.75em, 4.149em, -1000em); top: -3.987em; left: 0em;"><span
                                              class="mi" id="MathJax-Span-10"
                                              style="font-family: MathJax_Math; font-style: italic;">F<span
                                                style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span
                                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span
                                            style="position: absolute; top: -3.837em; left: 0.643em;"><span
                                              class="texatom" id="MathJax-Span-11"><span class="mrow"
                                                id="MathJax-Span-12"><span class="mi" id="MathJax-Span-13"
                                                  style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">a</span><span
                                                  class="mi" id="MathJax-Span-14"
                                                  style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">t</span><span
                                                  class="mi" id="MathJax-Span-15"
                                                  style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">t</span></span></span><span
                                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span><span
                                        class="mo" id="MathJax-Span-16"
                                        style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span
                                        class="mfrac" id="MathJax-Span-17" style="padding-left: 0.278em;"><span
                                          style="display: inline-block; position: relative; width: 9.592em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span
                                            style="position: absolute; clip: rect(3.159em, 1001.24em, 4.171em, -1000em); top: -4.664em; left: 50%; margin-left: -0.639em;"><span
                                              class="mn" id="MathJax-Span-18"
                                              style="font-family: MathJax_Main;">1.0</span><span
                                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span
                                            style="position: absolute; clip: rect(3.066em, 1009.47em, 4.436em, -1000em); top: -3.253em; left: 50%; margin-left: -4.736em;"><span
                                              class="mrow" id="MathJax-Span-19"><span class="msubsup"
                                                id="MathJax-Span-20"><span
                                                  style="display: inline-block; position: relative; width: 1.23em; height: 0px;"><span
                                                    style="position: absolute; clip: rect(3.142em, 1000.89em, 4.149em, -1000em); top: -3.987em; left: 0em;"><span
                                                      class="mi" id="MathJax-Span-21"
                                                      style="font-family: MathJax_Math; font-style: italic;">K<span
                                                        style="display: inline-block; overflow: hidden; height: 1px; width: 0.04em;"></span></span><span
                                                      style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span
                                                    style="position: absolute; top: -3.837em; left: 0.849em;"><span
                                                      class="mi" id="MathJax-Span-22"
                                                      style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span
                                                      style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span><span
                                                class="mo" id="MathJax-Span-23"
                                                style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span
                                                class="msubsup" id="MathJax-Span-24"
                                                style="padding-left: 0.222em;"><span
                                                  style="display: inline-block; position: relative; width: 1.135em; height: 0px;"><span
                                                    style="position: absolute; clip: rect(3.142em, 1000.89em, 4.149em, -1000em); top: -3.987em; left: 0em;"><span
                                                      class="mi" id="MathJax-Span-25"
                                                      style="font-family: MathJax_Math; font-style: italic;">K<span
                                                        style="display: inline-block; overflow: hidden; height: 1px; width: 0.04em;"></span></span><span
                                                      style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span
                                                    style="position: absolute; top: -3.837em; left: 0.849em;"><span
                                                      class="mi" id="MathJax-Span-26"
                                                      style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span
                                                      style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span><span
                                                class="mo" id="MathJax-Span-27"
                                                style="font-family: MathJax_Main; padding-left: 0.222em;">∗</span><span
                                                class="mi" id="MathJax-Span-28"
                                                style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em;">d<span
                                                  style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span
                                                class="mo" id="MathJax-Span-29"
                                                style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span
                                                class="msubsup" id="MathJax-Span-30"
                                                style="padding-left: 0.222em;"><span
                                                  style="display: inline-block; position: relative; width: 1.249em; height: 0px;"><span
                                                    style="position: absolute; clip: rect(3.142em, 1000.89em, 4.149em, -1000em); top: -3.987em; left: 0em;"><span
                                                      class="mi" id="MathJax-Span-31"
                                                      style="font-family: MathJax_Math; font-style: italic;">K<span
                                                        style="display: inline-block; overflow: hidden; height: 1px; width: 0.04em;"></span></span><span
                                                      style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span
                                                    style="position: absolute; top: -3.837em; left: 0.849em;"><span
                                                      class="mi" id="MathJax-Span-32"
                                                      style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">q<span
                                                        style="display: inline-block; overflow: hidden; height: 1px; width: 0.01em;"></span></span><span
                                                      style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span><span
                                                class="mo" id="MathJax-Span-33"
                                                style="font-family: MathJax_Main; padding-left: 0.222em;">∗</span><span
                                                class="msubsup" id="MathJax-Span-34"
                                                style="padding-left: 0.222em;"><span
                                                  style="display: inline-block; position: relative; width: 1.002em; height: 0px;"><span
                                                    style="position: absolute; clip: rect(3.131em, 1000.52em, 4.159em, -1000em); top: -3.987em; left: 0em;"><span
                                                      class="mi" id="MathJax-Span-35"
                                                      style="font-family: MathJax_Math; font-style: italic;">d<span
                                                        style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span
                                                      style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span
                                                    style="position: absolute; top: -4.276em; left: 0.574em;"><span
                                                      class="mn" id="MathJax-Span-36"
                                                      style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span
                                                      style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span></span><span
                                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span
                                            style="position: absolute; clip: rect(0.849em, 1009.59em, 1.239em, -1000em); top: -1.298em; left: 0em;"><span
                                              style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 9.592em; height: 0px;"></span><span
                                              style="display: inline-block; width: 0px; height: 1.078em;"></span></span></span></span></span></span><span
                                    style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span><span
                                style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span><span
                            style="display: inline-block; position: absolute; width: 1.278em; height: 0px; clip: rect(-1.001em, 1001.18em, 0.322em, -1000em); top: 0em; right: 0em; margin-right: 0em;"><span
                              style="position: absolute; clip: rect(3.075em, 1001.18em, 4.399em, -1000em); top: -4.077em; right: 0em;"><span
                                class="mtd" id="mjx-eqn-1"><span class="mrow" id="MathJax-Span-5"><span class="mtext"
                                    id="MathJax-Span-6" style="font-family: MathJax_Main;">(1)</span></span></span><span
                                style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span></span></span><span
                      style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -1.144em; border-left: 0px solid; width: 0px; height: 2.867em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML" display="block">
                <mtable displaystyle="true">
                  <mlabeledtr>
                    <mtd id="mjx-eqn-1">
                      <mtext>(1)</mtext>
                    </mtd>
                    <mtd>
                      <msub>
                        <mi>F</mi>
                        <mrow class="MJX-TeXAtom-ORD">
                          <mi>a</mi>
                          <mi>t</mi>
                          <mi>t</mi>
                        </mrow>
                      </msub>
                      <mo>=</mo>
                      <mfrac>
                        <mn>1.0</mn>
                        <mrow>
                          <msub>
                            <mi>K</mi>
                            <mi>c</mi>
                          </msub>
                          <mo>+</mo>
                          <msub>
                            <mi>K</mi>
                            <mi>l</mi>
                          </msub>
                          <mo>∗</mo>
                          <mi>d</mi>
                          <mo>+</mo>
                          <msub>
                            <mi>K</mi>
                            <mi>q</mi>
                          </msub>
                          <mo>∗</mo>
                          <msup>
                            <mi>d</mi>
                            <mn>2</mn>
                          </msup>
                        </mrow>
                      </mfrac>
                    </mtd>
                  </mlabeledtr>
                </mtable>
              </math></span>
          </span></div>
        <script type="math/tex; mode=display"
          id="MathJax-Element-1">\begin{equation} F_{att} = \frac{1.0}{K_c + K_l * d + K_q * d^2} \end{equation}</script>

        <p>
          Here <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax"
            id="MathJax-Element-2-Frame" tabindex="0" style="position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-37" role="math"
                style="width: 0.641em; display: inline-block;"><span
                  style="display: inline-block; position: relative; width: 0.539em; height: 0px; font-size: 116%;"><span
                    style="position: absolute; clip: rect(1.461em, 1000.54em, 2.488em, -1000em); top: -2.317em; left: 0em;"><span
                      class="mrow" id="MathJax-Span-38"><span class="mi" id="MathJax-Span-39"
                        style="font-family: MathJax_Math; font-style: italic;">d<span
                          style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span
                      style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -0.074em; border-left: 0px solid; width: 0px; height: 0.942em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML">
                <mi>d</mi>
              </math></span>
          </span>
          <script type="math/tex" id="MathJax-Element-2">d</script>
          represents the distance from the fragment to the light source. Then to
          calculate the attenuation value we define 3 (configurable) terms: a <def>constant</def> term <span
            class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-3-Frame"
            tabindex="0" style="position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;K&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-40" role="math"
                style="width: 1.453em; display: inline-block;"><span
                  style="display: inline-block; position: relative; width: 1.239em; height: 0px; font-size: 116%;"><span
                    style="position: absolute; clip: rect(1.472em, 1001.24em, 2.636em, -1000em); top: -2.317em; left: 0em;"><span
                      class="mrow" id="MathJax-Span-41"><span class="msubsup" id="MathJax-Span-42"><span
                          style="display: inline-block; position: relative; width: 1.23em; height: 0px;"><span
                            style="position: absolute; clip: rect(3.142em, 1000.89em, 4.149em, -1000em); top: -3.987em; left: 0em;"><span
                              class="mi" id="MathJax-Span-43"
                              style="font-family: MathJax_Math; font-style: italic;">K<span
                                style="display: inline-block; overflow: hidden; height: 1px; width: 0.04em;"></span></span><span
                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span
                            style="position: absolute; top: -3.837em; left: 0.849em;"><span class="mi"
                              id="MathJax-Span-44"
                              style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span
                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span></span><span
                      style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -0.246em; border-left: 0px solid; width: 0px; height: 1.1em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML">
                <msub>
                  <mi>K</mi>
                  <mi>c</mi>
                </msub>
              </math></span>
          </span>
          <script type="math/tex" id="MathJax-Element-3">K_c</script>, a <def>linear</def> term <span
            class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-4-Frame"
            tabindex="0" style="position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;K&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-45" role="math"
                style="width: 1.328em; display: inline-block;"><span
                  style="display: inline-block; position: relative; width: 1.131em; height: 0px; font-size: 116%;"><span
                    style="position: absolute; clip: rect(1.472em, 1001.13em, 2.636em, -1000em); top: -2.317em; left: 0em;"><span
                      class="mrow" id="MathJax-Span-46"><span class="msubsup" id="MathJax-Span-47"><span
                          style="display: inline-block; position: relative; width: 1.135em; height: 0px;"><span
                            style="position: absolute; clip: rect(3.142em, 1000.89em, 4.149em, -1000em); top: -3.987em; left: 0em;"><span
                              class="mi" id="MathJax-Span-48"
                              style="font-family: MathJax_Math; font-style: italic;">K<span
                                style="display: inline-block; overflow: hidden; height: 1px; width: 0.04em;"></span></span><span
                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span
                            style="position: absolute; top: -3.837em; left: 0.849em;"><span class="mi"
                              id="MathJax-Span-49"
                              style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span
                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span></span><span
                      style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -0.246em; border-left: 0px solid; width: 0px; height: 1.1em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML">
                <msub>
                  <mi>K</mi>
                  <mi>l</mi>
                </msub>
              </math></span>
          </span>
          <script type="math/tex" id="MathJax-Element-4">K_l</script> and a <def>quadratic</def> term <span
            class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-5-Frame"
            tabindex="0" style="position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;K&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-50" role="math"
                style="width: 1.453em; display: inline-block;"><span
                  style="display: inline-block; position: relative; width: 1.239em; height: 0px; font-size: 116%;"><span
                    style="position: absolute; clip: rect(1.472em, 1001.24em, 2.766em, -1000em); top: -2.317em; left: 0em;"><span
                      class="mrow" id="MathJax-Span-51"><span class="msubsup" id="MathJax-Span-52"><span
                          style="display: inline-block; position: relative; width: 1.249em; height: 0px;"><span
                            style="position: absolute; clip: rect(3.142em, 1000.89em, 4.149em, -1000em); top: -3.987em; left: 0em;"><span
                              class="mi" id="MathJax-Span-53"
                              style="font-family: MathJax_Math; font-style: italic;">K<span
                                style="display: inline-block; overflow: hidden; height: 1px; width: 0.04em;"></span></span><span
                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span
                            style="position: absolute; top: -3.837em; left: 0.849em;"><span class="mi"
                              id="MathJax-Span-54"
                              style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">q<span
                                style="display: inline-block; overflow: hidden; height: 1px; width: 0.01em;"></span></span><span
                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span></span><span
                      style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -0.396em; border-left: 0px solid; width: 0px; height: 1.25em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML">
                <msub>
                  <mi>K</mi>
                  <mi>q</mi>
                </msub>
              </math></span>
          </span>
          <script type="math/tex" id="MathJax-Element-5">K_q</script>.
        </p>














        <p>
          这里 <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax"
            id="MathJax-Element-2-Frame" tabindex="0" style="position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-37" role="math"
                style="width: 0.641em; display: inline-block;"><span
                  style="display: inline-block; position: relative; width: 0.539em; height: 0px; font-size: 116%;"><span
                    style="position: absolute; clip: rect(1.461em, 1000.54em, 2.488em, -1000em); top: -2.317em; left: 0em;"><span
                      class="mrow" id="MathJax-Span-38"><span class="mi" id="MathJax-Span-39"
                        style="font-family: MathJax_Math; font-style: italic;">d<span
                          style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span
                      style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -0.074em; border-left: 0px solid; width: 0px; height: 0.942em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML">
                <mi>d</mi>
              </math></span>
          </span>
          <script type="math/tex" id="MathJax-Element-2">d</script>
          表示从片段到光源的距离。 然后为了计算衰减值，我们定义了 3 个 (可配置的) 项: <def>常数</def>项 <span
            class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-3-Frame"
            tabindex="0" style="position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;K&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-40" role="math"
                style="width: 1.453em; display: inline-block;"><span
                  style="display: inline-block; position: relative; width: 1.239em; height: 0px; font-size: 116%;"><span
                    style="position: absolute; clip: rect(1.472em, 1001.24em, 2.636em, -1000em); top: -2.317em; left: 0em;"><span
                      class="mrow" id="MathJax-Span-41"><span class="msubsup" id="MathJax-Span-42"><span
                          style="display: inline-block; position: relative; width: 1.23em; height: 0px;"><span
                            style="position: absolute; clip: rect(3.142em, 1000.89em, 4.149em, -1000em); top: -3.987em; left: 0em;"><span
                              class="mi" id="MathJax-Span-43"
                              style="font-family: MathJax_Math; font-style: italic;">K<span
                                style="display: inline-block; overflow: hidden; height: 1px; width: 0.04em;"></span></span><span
                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span
                            style="position: absolute; top: -3.837em; left: 0.849em;"><span class="mi"
                              id="MathJax-Span-44"
                              style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span
                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span></span><span
                      style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -0.246em; border-left: 0px solid; width: 0px; height: 1.1em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML">
                <msub>
                  <mi>K</mi>
                  <mi>c</mi>
                </msub>
              </math></span>
          </span>
          <script type="math/tex" id="MathJax-Element-3">K_c</script>, <def>线性</def>项 <span
            class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-4-Frame"
            tabindex="0" style="position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;K&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-45" role="math"
                style="width: 1.328em; display: inline-block;"><span
                  style="display: inline-block; position: relative; width: 1.131em; height: 0px; font-size: 116%;"><span
                    style="position: absolute; clip: rect(1.472em, 1001.13em, 2.636em, -1000em); top: -2.317em; left: 0em;"><span
                      class="mrow" id="MathJax-Span-46"><span class="msubsup" id="MathJax-Span-47"><span
                          style="display: inline-block; position: relative; width: 1.135em; height: 0px;"><span
                            style="position: absolute; clip: rect(3.142em, 1000.89em, 4.149em, -1000em); top: -3.987em; left: 0em;"><span
                              class="mi" id="MathJax-Span-48"
                              style="font-family: MathJax_Math; font-style: italic;">K<span
                                style="display: inline-block; overflow: hidden; height: 1px; width: 0.04em;"></span></span><span
                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span
                            style="position: absolute; top: -3.837em; left: 0.849em;"><span class="mi"
                              id="MathJax-Span-49"
                              style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span
                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span></span><span
                      style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -0.246em; border-left: 0px solid; width: 0px; height: 1.1em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML">
                <msub>
                  <mi>K</mi>
                  <mi>l</mi>
                </msub>
              </math></span>
          </span>
          <script type="math/tex" id="MathJax-Element-4">K_l</script> 和<def>二次</def>项 <span
            class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-5-Frame"
            tabindex="0" style="position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;K&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-50" role="math"
                style="width: 1.453em; display: inline-block;"><span
                  style="display: inline-block; position: relative; width: 1.239em; height: 0px; font-size: 116%;"><span
                    style="position: absolute; clip: rect(1.472em, 1001.24em, 2.766em, -1000em); top: -2.317em; left: 0em;"><span
                      class="mrow" id="MathJax-Span-51"><span class="msubsup" id="MathJax-Span-52"><span
                          style="display: inline-block; position: relative; width: 1.249em; height: 0px;"><span
                            style="position: absolute; clip: rect(3.142em, 1000.89em, 4.149em, -1000em); top: -3.987em; left: 0em;"><span
                              class="mi" id="MathJax-Span-53"
                              style="font-family: MathJax_Math; font-style: italic;">K<span
                                style="display: inline-block; overflow: hidden; height: 1px; width: 0.04em;"></span></span><span
                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span
                            style="position: absolute; top: -3.837em; left: 0.849em;"><span class="mi"
                              id="MathJax-Span-54"
                              style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">q<span
                                style="display: inline-block; overflow: hidden; height: 1px; width: 0.01em;"></span></span><span
                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span></span><span
                      style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -0.396em; border-left: 0px solid; width: 0px; height: 1.25em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML">
                <msub>
                  <mi>K</mi>
                  <mi>q</mi>
                </msub>
              </math></span>
          </span>
          <script type="math/tex" id="MathJax-Element-5">K_q</script>.
        </p>


















        <ul>
          <li>The constant term is usually kept at <code>1.0</code> which is mainly there to make sure the denominator
            never gets smaller than <code>1</code> since it would otherwise boost the intensity with certain distances,
            which is not the effect we're looking for.
          
          <br>
          常数项通常保持在 1.0，这主要是为了确保分母永远不会小于 1，否则它会在一定距离内提高强度，这不是我们想要的效果。
          </li>
          <li>The linear term is multiplied with the distance value that reduces the intensity in a linear fashion.

            <br>
            线性项乘以以线性方式降低强度的距离值。
          </li>
          <li>The quadratic term is multiplied with the quadrant of the
            distance and sets a quadratic decrease of intensity for the light
            source. The quadratic term will be less significant compared to the
            linear term when the distance is small, but gets much larger as the
            distance grows. 
          <br>
          二次项乘以距离的象限，并设置光源强度的二次减少。 当距离较小时，二次项与线性项相比不太显着，但随着距离的增加会变得更大。
          </li>
        </ul>
        Due to the quadratic term the light will diminish mostly at a linear
        fashion until the distance becomes large enough for the quadratic term
        to surpass the linear term and then the light intensity will decrease a
        lot faster. The resulting effect is that the light is quite intense when
        at a close range, but quickly loses its brightness over distance until
        it eventually loses its brightness at a more slower pace. The following
        graph shows the effect such an attenuation has over a distance of <code>100</code>:

<p>
  由于二次项，光将主要以线性方式减弱，直到距离变得足够大以使二次项超过线性项，然后光强度将下降得更快。 由此产生的效果是，光线在近距离时非常强烈，但随着距离的增加会很快失去亮度，直到最终以更慢的速度失去亮度。 下图显示了这种衰减对 100 距离的影响：
</p>
        <p></p>

        <img src="LearnOpenGL%20-%20Light%20casters_files/attenuation.png" class="clean">

        <p>
          You can see that the light has the highest intensity when the
          distance is small, but as soon as the distance grows its intensity is
          significantly reduced and slowly reaches <code>0</code> intensity at around a distance of <code>100</code>.
          This is exactly what we want.
        </p>
        <p>你可以看到当距离很近时，光线强度最高，但随着距离的增加，它的强度会显着降低，并在 100 左右的距离处慢慢达到 0 强度。这正是我们想要的。</p>

        <h3>Choosing the right values</h3>
        <p>
          But at what values do we set those 3 terms? Setting the right values
          depend on many factors: the environment, the distance you want a light
          to cover, the type of light etc. In most cases, it simply is a question
          of experience and a moderate amount of tweaking. The following table
          shows some of the values these terms could take to simulate a realistic
          (sort of) light source that covers a specific radius (distance). The
          first column specifies the distance a light will cover with the given
          terms. These values are good starting points for most lights, with
          courtesy of <a href="http://www.ogre3d.org/tikiwiki/tiki-index.php?page=-Point+Light+Attenuation"
            target="_blank">Ogre3D's wiki</a>:
        </p>
        <p>
          但是我们将这 3 个术语设置为什么值？ 设置正确的值取决于许多因素：环境、您希望光覆盖的距离、光的类型等。在大多数情况下，这只是一个经验问题和适度的调整。 下表显示了这些术语可以用来模拟覆盖特定半径（距离）的真实（某种）光源的一些值。 第一列指定灯光将覆盖给定条件的距离。 这些值是大多数灯的良好起点，由 Ogre3D 的 wiki 提供：
        </p>

        <table>
          <tbody>
            <tr>
              <th>Distance</th>
              <th>Constant</th>
              <th>Linear</th>
              <th>Quadratic</th>
            </tr>
            <tr>
              <td><code>7</code></td>
              <td><code>1.0</code></td>
              <td><code>0.7</code></td>
              <td><code>1.8</code></td>
            </tr>
            <tr>
              <td><code>13</code></td>
              <td><code>1.0</code></td>
              <td><code>0.35</code></td>
              <td><code>0.44</code></td>
            </tr>
            <tr>
              <td><code>20</code></td>
              <td><code>1.0</code></td>
              <td><code>0.22</code></td>
              <td><code>0.20</code></td>
            </tr>
            <tr>
              <td><code>32</code></td>
              <td><code>1.0</code></td>
              <td><code>0.14</code></td>
              <td><code>0.07</code></td>
            </tr>
            <tr>
              <td><code>50</code></td>
              <td><code>1.0</code></td>
              <td><code>0.09</code></td>
              <td><code>0.032</code></td>
            </tr>
            <tr>
              <td><code>65</code></td>
              <td><code>1.0</code></td>
              <td><code>0.07</code></td>
              <td><code>0.017</code></td>
            </tr>
            <tr>
              <td><code>100</code></td>
              <td><code>1.0</code></td>
              <td><code>0.045</code></td>
              <td><code>0.0075</code></td>
            </tr>
            <tr>
              <td><code>160</code></td>
              <td><code>1.0</code></td>
              <td><code>0.027</code></td>
              <td><code>0.0028</code></td>
            </tr>
            <tr>
              <td><code>200</code></td>
              <td><code>1.0</code></td>
              <td><code>0.022</code></td>
              <td><code>0.0019</code></td>
            </tr>
            <tr>
              <td><code>325</code></td>
              <td><code>1.0</code></td>
              <td><code>0.014</code></td>
              <td><code>0.0007</code></td>
            </tr>
            <tr>
              <td><code>600</code></td>
              <td><code>1.0</code></td>
              <td><code>0.007</code></td>
              <td><code>0.0002</code></td>
            </tr>
            <tr>
              <td><code>3250</code></td>
              <td><code>1.0</code></td>
              <td><code>0.0014</code></td>
              <td><code>0.000007</code></td>
            </tr>
          </tbody>
        </table>

        <p>
          As you can see, the constant term <span class="MathJax_Preview" style="color: inherit;"></span><span
            class="MathJax" id="MathJax-Element-6-Frame" tabindex="0" style="position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;K&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-55" role="math"
                style="width: 1.453em; display: inline-block;"><span
                  style="display: inline-block; position: relative; width: 1.239em; height: 0px; font-size: 116%;"><span
                    style="position: absolute; clip: rect(1.472em, 1001.24em, 2.636em, -1000em); top: -2.317em; left: 0em;"><span
                      class="mrow" id="MathJax-Span-56"><span class="msubsup" id="MathJax-Span-57"><span
                          style="display: inline-block; position: relative; width: 1.23em; height: 0px;"><span
                            style="position: absolute; clip: rect(3.142em, 1000.89em, 4.149em, -1000em); top: -3.987em; left: 0em;"><span
                              class="mi" id="MathJax-Span-58"
                              style="font-family: MathJax_Math; font-style: italic;">K<span
                                style="display: inline-block; overflow: hidden; height: 1px; width: 0.04em;"></span></span><span
                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span
                            style="position: absolute; top: -3.837em; left: 0.849em;"><span class="mi"
                              id="MathJax-Span-59"
                              style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span
                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span></span><span
                      style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -0.246em; border-left: 0px solid; width: 0px; height: 1.1em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML">
                <msub>
                  <mi>K</mi>
                  <mi>c</mi>
                </msub>
              </math></span>
          </span>
          <script type="math/tex" id="MathJax-Element-6">K_c</script> is kept at <code>1.0</code> in all cases. The
          linear term <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax"
            id="MathJax-Element-7-Frame" tabindex="0" style="position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;K&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-60" role="math"
                style="width: 1.328em; display: inline-block;"><span
                  style="display: inline-block; position: relative; width: 1.131em; height: 0px; font-size: 116%;"><span
                    style="position: absolute; clip: rect(1.472em, 1001.13em, 2.636em, -1000em); top: -2.317em; left: 0em;"><span
                      class="mrow" id="MathJax-Span-61"><span class="msubsup" id="MathJax-Span-62"><span
                          style="display: inline-block; position: relative; width: 1.135em; height: 0px;"><span
                            style="position: absolute; clip: rect(3.142em, 1000.89em, 4.149em, -1000em); top: -3.987em; left: 0em;"><span
                              class="mi" id="MathJax-Span-63"
                              style="font-family: MathJax_Math; font-style: italic;">K<span
                                style="display: inline-block; overflow: hidden; height: 1px; width: 0.04em;"></span></span><span
                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span
                            style="position: absolute; top: -3.837em; left: 0.849em;"><span class="mi"
                              id="MathJax-Span-64"
                              style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span
                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span></span><span
                      style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -0.246em; border-left: 0px solid; width: 0px; height: 1.1em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML">
                <msub>
                  <mi>K</mi>
                  <mi>l</mi>
                </msub>
              </math></span>
          </span>
          <script type="math/tex" id="MathJax-Element-7">K_l</script> is usually quite small to cover larger distances
          and the quadratic term <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax"
            id="MathJax-Element-8-Frame" tabindex="0" style="position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;K&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-65" role="math"
                style="width: 1.453em; display: inline-block;"><span
                  style="display: inline-block; position: relative; width: 1.239em; height: 0px; font-size: 116%;"><span
                    style="position: absolute; clip: rect(1.472em, 1001.24em, 2.766em, -1000em); top: -2.317em; left: 0em;"><span
                      class="mrow" id="MathJax-Span-66"><span class="msubsup" id="MathJax-Span-67"><span
                          style="display: inline-block; position: relative; width: 1.249em; height: 0px;"><span
                            style="position: absolute; clip: rect(3.142em, 1000.89em, 4.149em, -1000em); top: -3.987em; left: 0em;"><span
                              class="mi" id="MathJax-Span-68"
                              style="font-family: MathJax_Math; font-style: italic;">K<span
                                style="display: inline-block; overflow: hidden; height: 1px; width: 0.04em;"></span></span><span
                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span
                            style="position: absolute; top: -3.837em; left: 0.849em;"><span class="mi"
                              id="MathJax-Span-69"
                              style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">q<span
                                style="display: inline-block; overflow: hidden; height: 1px; width: 0.01em;"></span></span><span
                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span></span><span
                      style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -0.396em; border-left: 0px solid; width: 0px; height: 1.25em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML">
                <msub>
                  <mi>K</mi>
                  <mi>q</mi>
                </msub>
              </math></span>
          </span>
          <script type="math/tex" id="MathJax-Element-8">K_q</script>
          is even smaller. Try to experiment a bit with these values to see their
          effect in your implementation. In our environment a distance of <code>32</code> to <code>100</code> is
          generally enough for most lights.
        </p>

        <p>
          如您所见，常数项 <span class="MathJax_Preview" style="color: inherit;"></span><span
            class="MathJax" id="MathJax-Element-6-Frame" tabindex="0" style="position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;K&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-55" role="math"
                style="width: 1.453em; display: inline-block;"><span
                  style="display: inline-block; position: relative; width: 1.239em; height: 0px; font-size: 116%;"><span
                    style="position: absolute; clip: rect(1.472em, 1001.24em, 2.636em, -1000em); top: -2.317em; left: 0em;"><span
                      class="mrow" id="MathJax-Span-56"><span class="msubsup" id="MathJax-Span-57"><span
                          style="display: inline-block; position: relative; width: 1.23em; height: 0px;"><span
                            style="position: absolute; clip: rect(3.142em, 1000.89em, 4.149em, -1000em); top: -3.987em; left: 0em;"><span
                              class="mi" id="MathJax-Span-58"
                              style="font-family: MathJax_Math; font-style: italic;">K<span
                                style="display: inline-block; overflow: hidden; height: 1px; width: 0.04em;"></span></span><span
                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span
                            style="position: absolute; top: -3.837em; left: 0.849em;"><span class="mi"
                              id="MathJax-Span-59"
                              style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span
                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span></span><span
                      style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -0.246em; border-left: 0px solid; width: 0px; height: 1.1em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML">
                <msub>
                  <mi>K</mi>
                  <mi>c</mi>
                </msub>
              </math></span>
          </span>
          <script type="math/tex" id="MathJax-Element-6">K_c</script> 在所有情况下都保持为 1.0。 线性项 <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax"
            id="MathJax-Element-7-Frame" tabindex="0" style="position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;K&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-60" role="math"
                style="width: 1.328em; display: inline-block;"><span
                  style="display: inline-block; position: relative; width: 1.131em; height: 0px; font-size: 116%;"><span
                    style="position: absolute; clip: rect(1.472em, 1001.13em, 2.636em, -1000em); top: -2.317em; left: 0em;"><span
                      class="mrow" id="MathJax-Span-61"><span class="msubsup" id="MathJax-Span-62"><span
                          style="display: inline-block; position: relative; width: 1.135em; height: 0px;"><span
                            style="position: absolute; clip: rect(3.142em, 1000.89em, 4.149em, -1000em); top: -3.987em; left: 0em;"><span
                              class="mi" id="MathJax-Span-63"
                              style="font-family: MathJax_Math; font-style: italic;">K<span
                                style="display: inline-block; overflow: hidden; height: 1px; width: 0.04em;"></span></span><span
                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span
                            style="position: absolute; top: -3.837em; left: 0.849em;"><span class="mi"
                              id="MathJax-Span-64"
                              style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span
                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span></span><span
                      style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -0.246em; border-left: 0px solid; width: 0px; height: 1.1em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML">
                <msub>
                  <mi>K</mi>
                  <mi>l</mi>
                </msub>
              </math></span>
          </span>
          <script type="math/tex" id="MathJax-Element-7">K_l</script> 通常很小以覆盖更大的距离，
          而二次项 <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax"
            id="MathJax-Element-8-Frame" tabindex="0" style="position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;K&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-65" role="math"
                style="width: 1.453em; display: inline-block;"><span
                  style="display: inline-block; position: relative; width: 1.239em; height: 0px; font-size: 116%;"><span
                    style="position: absolute; clip: rect(1.472em, 1001.24em, 2.766em, -1000em); top: -2.317em; left: 0em;"><span
                      class="mrow" id="MathJax-Span-66"><span class="msubsup" id="MathJax-Span-67"><span
                          style="display: inline-block; position: relative; width: 1.249em; height: 0px;"><span
                            style="position: absolute; clip: rect(3.142em, 1000.89em, 4.149em, -1000em); top: -3.987em; left: 0em;"><span
                              class="mi" id="MathJax-Span-68"
                              style="font-family: MathJax_Math; font-style: italic;">K<span
                                style="display: inline-block; overflow: hidden; height: 1px; width: 0.04em;"></span></span><span
                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span
                            style="position: absolute; top: -3.837em; left: 0.849em;"><span class="mi"
                              id="MathJax-Span-69"
                              style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">q<span
                                style="display: inline-block; overflow: hidden; height: 1px; width: 0.01em;"></span></span><span
                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span></span><span
                      style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -0.396em; border-left: 0px solid; width: 0px; height: 1.25em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML">
                <msub>
                  <mi>K</mi>
                  <mi>q</mi>
                </msub>
              </math></span>
          </span>
          <script type="math/tex" id="MathJax-Element-8">K_q</script>
          甚至更小. 尝试对这些值进行一些试验，以查看它们在您的实施中的效果。 在我们的环境中， 对于大多数灯来说，32 到 100 的距离通常就足够了。
        </p>

        <h3>Implementing attenuation 实现衰减</h3>
        <p>
          To implement attenuation we'll be needing 3 extra values in the
          fragment shader: namely the constant, linear and quadratic terms of the
          equation. These are best stored in the <fun>Light</fun> struct we defined earlier. Note that we need to
          calculate <var>lightDir</var> again using <var>position</var> as this is a point light (as we did in the
          previous chapter) and not a directional light.
        </p>

        <p>
          为了实现衰减，我们需要片段着色器中的 3 个额外值：即方程的常量、线性和二次项。 这些最好存储在我们之前定义的 Light 结构中。 请注意，我们需要使用 position 再次计算 lightDir，因为这是一个点光源（就像我们在上一章中所做的那样）而不是一个平行光。
        </p>

        <pre><code class=" hljs cpp">
<span class="hljs-keyword">struct</span> Light {
    <span class="hljs-built_in">vec3</span> position;  
  
    <span class="hljs-built_in">vec3</span> ambient;
    <span class="hljs-built_in">vec3</span> diffuse;
    <span class="hljs-built_in">vec3</span> specular;
	
    <span class="hljs-keyword">float</span> constant;
    <span class="hljs-keyword">float</span> linear;
    <span class="hljs-keyword">float</span> quadratic;
}; 
</code></pre>

        <p>
          Then we set the terms in our application: we want the light to cover a distance of <code>50</code> so we'll
          use the appropriate constant, linear and quadratic terms from the table:
        </p><p>然后我们在应用程序中设置项：我们希望光线覆盖 50 的距离，因此我们将使用表中适当的常量、线性和二次项：</p>

        <pre><code class=" hljs cpp">		
lightingShader.setFloat(<span class="hljs-string">"light.constant"</span>,  <span class="hljs-number">1.0f</span>);
lightingShader.setFloat(<span class="hljs-string">"light.linear"</span>,    <span class="hljs-number">0.09f</span>);
lightingShader.setFloat(<span class="hljs-string">"light.quadratic"</span>, <span class="hljs-number">0.032f</span>);	    
</code></pre>

        <p>
          Implementing attenuation in the fragment shader is relatively
          straightforward: we simply calculate an attenuation value based on the
          equation and multiply this with the ambient, diffuse and specular
          components.
        </p><p>在片段着色器中实现衰减相对简单：我们只需根据等式计算衰减值，然后将其与环境、漫反射和镜面反射分量相乘。</p>

        <p>
          We do need the distance to the light source for the equation to work
          though. Remember how we can calculate the length of a vector? We can
          retrieve the distance term by calculating the difference vector between
          the fragment and the light source and take that resulting vector's
          length. We can use GLSL's built-in <fun>length</fun> function for that purpose:
        </p>
        <p>不过，我们确实需要到光源的距离才能使方程式起作用。 还记得我们如何计算向量的长度吗？ 我们可以通过计算片段和光源之间的差异向量来检索距离项，并取该向量的长度。 为此，我们可以使用 GLSL 的内置长度函数：</p>

        <pre><code class=" hljs cpp">
<span class="hljs-keyword">float</span> distance    = length(light.position - FragPos);
<span class="hljs-keyword">float</span> attenuation = <span class="hljs-number">1.0</span> / (light.constant + light.linear * distance + 
    		    light.quadratic * (distance * distance));    
</code></pre>

        <p>
          Then we include this attenuation value in the lighting calculations by
          multiplying the attenuation value with the ambient, diffuse and
          specular colors.
        </p><p>然后我们通过将衰减值与环境、漫反射和镜面反射颜色相乘，将此衰减值包含在照明计算中。</p>

        <note>
          We could leave the ambient component alone so ambient lighting is
          not decreased over distance, but if we were to use more than 1 light
          source all the ambient components will start to stack up. In that case
          we want to attenuate ambient lighting as well. Simply play around with
          what's best for your environment.
          <br>
          <br>
          我们可以不理会环境光成分，这样环境光就不会随着距离的增加而减少，但是如果我们使用超过 1 个光源，所有环境光成分都会开始叠加。 在那种情况下，我们也想减弱环境光。 简单地尝试一下最适合您的环境的东西。
        </note>

        <pre><code class=" hljs ">
ambient  *= attenuation; 
diffuse  *= attenuation;
specular *= attenuation;   
</code></pre>

        <p>
          If you'd run the application you'd get something like this:
        </p><p>如果您运行该应用程序，您会得到如下内容：</p>

        <img src="LearnOpenGL%20-%20Light%20casters_files/light_casters_point_light.png" class="clean">

        <p>
          You can see that right now only the front containers are lit with
          the closest container being the brightest. The containers in the back
          are not lit at all since they're too far from the light source. You can
          find the source code of the application <a
            href="https://learnopengl.com/code_viewer_gh.php?code=src/2.lighting/5.2.light_casters_point/light_casters_point.cpp"
            target="_blank">here</a>.
        </p><p>您可以看到，现在只有前面的容器被点亮，最近的容器最亮。 后面的容器根本没有点亮，因为它们离光源太远了。 您可以在此处找到应用程序的源代码。</p>

        <p>
          A point light is thus a light source with a configurable location
          and attenuation applied to its lighting calculations. Yet another type
          of light for our lighting arsenal.
        </p><p>因此，点光源是一种光源，具有可配置的位置和应用于其照明计算的衰减。 我们照明库的另一种类型的灯。</p>

        <h1>Spotlight 聚光灯</h1>
        <p>
          The last type of light we're going to discuss is a <def>spotlight</def>.
          A spotlight is a light source that is located somewhere in the
          environment that, instead of shooting light rays in all directions, only
          shoots them in a specific direction. The result is that only the
          objects within a certain radius of the spotlight's direction are lit and
          everything else stays dark. A good example of a spotlight would be a
          street lamp or a flashlight.
        </p><p>我们要讨论的最后一种灯是聚光灯。 聚光灯是位于环境中某处的光源，它不是向所有方向发射光线，而是只向特定方向发射光线。 结果是只有聚光灯方向一定半径范围内的物体被照亮，其他一切都保持黑暗。 聚光灯的一个很好的例子是街灯或手电筒。</p>

        <p>
          A spotlight in OpenGL is represented by a world-space position, a direction and a <def>cutoff</def>
          angle that specifies the radius of the spotlight. For each fragment we
          calculate if the fragment is between the spotlight's cutoff directions
          (thus in its cone) and if so, we lit the fragment accordingly. The
          following image gives you an idea of how a spotlight works:
        </p><p>OpenGL 中的聚光灯由世界空间位置、方向和指定聚光灯半径的截止角表示。 对于每个片段，我们计算片段是否在聚光灯的截止方向之间（因此在其圆锥体中），如果是，我们相应地照亮片段。 下图让您了解聚光灯的工作原理：</p>

        <img src="LearnOpenGL%20-%20Light%20casters_files/light_casters_spotlight_angles.png" class="clean">

        <p>
        </p>
        <ul>
          <li><code>LightDir</code>: the vector pointing from the fragment to the light source.<br><br>  从片段指向光源的向量。</li><br>
          <li><code>SpotDir</code>: the direction the spotlight is aiming at.<br><br> 聚光灯瞄准的方向。</li><br>
          <li><code>Phi</code> <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax"
              id="MathJax-Element-9-Frame" tabindex="0" style="position: relative;"
              data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03D5;&lt;/mi&gt;&lt;/math&gt;"
              role="presentation">
              <nobr aria-hidden="true"><span class="math" id="MathJax-Span-70" role="math"
                  style="width: 0.703em; display: inline-block;"><span
                    style="display: inline-block; position: relative; width: 0.593em; height: 0px; font-size: 116%;"><span
                      style="position: absolute; clip: rect(1.461em, 1000.58em, 2.683em, -1000em); top: -2.317em; left: 0em;"><span
                        class="mrow" id="MathJax-Span-71"><span class="mi" id="MathJax-Span-72"
                          style="font-family: MathJax_Math; font-style: italic;">ϕ</span></span><span
                        style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                    style="display: inline-block; overflow: hidden; vertical-align: -0.3em; border-left: 0px solid; width: 0px; height: 1.168em;"></span></span>
              </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                  xmlns="http://www.w3.org/1998/Math/MathML">
                  <mi>ϕ</mi>
                </math></span>
            </span>
            <script type="math/tex" id="MathJax-Element-9">\phi</script>: the cutoff angle that specifies the
            spotlight's radius. Everything outside this angle is not lit by the spotlight. <br><br>指定聚光灯半径的截止角。 这个角度之外的一切都不会被聚光灯照亮。
          </li><br>
          <li><code>Theta</code> <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax"
              id="MathJax-Element-10-Frame" tabindex="0" style="position: relative;"
              data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;/math&gt;"
              role="presentation">
              <nobr aria-hidden="true"><span class="math" id="MathJax-Span-73" role="math"
                  style="width: 0.578em; display: inline-block;"><span
                    style="display: inline-block; position: relative; width: 0.485em; height: 0px; font-size: 116%;"><span
                      style="position: absolute; clip: rect(1.45em, 1000.48em, 2.488em, -1000em); top: -2.317em; left: 0em;"><span
                        class="mrow" id="MathJax-Span-74"><span class="mi" id="MathJax-Span-75"
                          style="font-family: MathJax_Math; font-style: italic;">θ</span></span><span
                        style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                    style="display: inline-block; overflow: hidden; vertical-align: -0.074em; border-left: 0px solid; width: 0px; height: 0.954em;"></span></span>
              </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                  xmlns="http://www.w3.org/1998/Math/MathML">
                  <mi>θ</mi>
                </math></span>
            </span>
            <script type="math/tex" id="MathJax-Element-10">\theta</script>: the angle between the <var>LightDir</var>
            vector and the <var>SpotDir</var> vector. The <span class="MathJax_Preview"
              style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-11-Frame" tabindex="0"
              style="position: relative;"
              data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;/math&gt;"
              role="presentation">
              <nobr aria-hidden="true"><span class="math" id="MathJax-Span-76" role="math"
                  style="width: 0.578em; display: inline-block;"><span
                    style="display: inline-block; position: relative; width: 0.485em; height: 0px; font-size: 116%;"><span
                      style="position: absolute; clip: rect(1.45em, 1000.48em, 2.488em, -1000em); top: -2.317em; left: 0em;"><span
                        class="mrow" id="MathJax-Span-77"><span class="mi" id="MathJax-Span-78"
                          style="font-family: MathJax_Math; font-style: italic;">θ</span></span><span
                        style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                    style="display: inline-block; overflow: hidden; vertical-align: -0.074em; border-left: 0px solid; width: 0px; height: 0.954em;"></span></span>
              </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                  xmlns="http://www.w3.org/1998/Math/MathML">
                  <mi>θ</mi>
                </math></span>
            </span>
            <script type="math/tex" id="MathJax-Element-11">\theta</script> value should be smaller than <span
              class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-12-Frame"
              tabindex="0" style="position: relative;"
              data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x03A6;&lt;/mi&gt;&lt;/math&gt;"
              role="presentation">
              <nobr aria-hidden="true"><span class="math" id="MathJax-Span-79" role="math"
                  style="width: 0.828em; display: inline-block;"><span
                    style="display: inline-block; position: relative; width: 0.7em; height: 0px; font-size: 116%;"><span
                      style="position: absolute; clip: rect(1.472em, 1000.64em, 2.478em, -1000em); top: -2.317em; left: 0em;"><span
                        class="mrow" id="MathJax-Span-80"><span class="mi" id="MathJax-Span-81"
                          style="font-family: MathJax_Main;">Φ</span></span><span
                        style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                    style="display: inline-block; overflow: hidden; vertical-align: -0.063em; border-left: 0px solid; width: 0px; height: 0.917em;"></span></span>
              </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                  xmlns="http://www.w3.org/1998/Math/MathML">
                  <mi mathvariant="normal">Φ</mi>
                </math></span>
            </span>
            <script type="math/tex" id="MathJax-Element-12">\Phi</script> to be inside the spotlight.
           <br><br>
          LightDir 向量和 SpotDir 向量之间的角度。 θ 值应小于 Φ 才能在聚光灯内。
          </li>
        </ul>
        <p></p>

        <p>
          So what we basically need to do, is calculate the dot product
          (returns the cosine of the angle between two unit vectors) between the <var>LightDir</var> vector and the
          <var>SpotDir</var> vector and compare this with the cutoff angle <span class="MathJax_Preview"
            style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-13-Frame" tabindex="0"
            style="position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03D5;&lt;/mi&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-82" role="math"
                style="width: 0.703em; display: inline-block;"><span
                  style="display: inline-block; position: relative; width: 0.593em; height: 0px; font-size: 116%;"><span
                    style="position: absolute; clip: rect(1.461em, 1000.58em, 2.683em, -1000em); top: -2.317em; left: 0em;"><span
                      class="mrow" id="MathJax-Span-83"><span class="mi" id="MathJax-Span-84"
                        style="font-family: MathJax_Math; font-style: italic;">ϕ</span></span><span
                      style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -0.3em; border-left: 0px solid; width: 0px; height: 1.168em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML">
                <mi>ϕ</mi>
              </math></span>
          </span>
          <script type="math/tex" id="MathJax-Element-13">\phi</script>. Now that you (sort of) understand what a
          spotlight is all about we're going to create one in the form of a flashlight.
        </p>

        <p>
          所以我们基本上需要做的是计算 LightDir 向量和 SpotDir 向量之间的点积（返回两个单位向量之间夹角的余弦值），并将其与截止角 ϕ 进行比较。 现在您（有点）了解什么是聚光灯，我们将以手电筒的形式创建一个聚光灯。
        </p>

        <h2>Flashlight 手电筒</h2>
        <p>
          A flashlight is a spotlight located at the viewer's position and
          usually aimed straight ahead from the player's perspective. A flashlight
          is basically a normal spotlight, but with its position and direction
          continually updated based on the player's position and orientation.
        </p><p>
          手电筒是位于观察者位置的聚光灯，通常从玩家的角度直接对准前方。 手电筒基本上是一个普通的聚光灯，但它的位置和方向会根据玩家的位置和方向不断更新。
        </p>

        <p>
          So, the values we're going to need for the fragment shader are the
          spotlight's position vector (to calculate the fragment-to-light's
          direction vector), the spotlight's direction vector and the cutoff
          angle. We can store these values in the <fun>Light</fun> struct:
        </p>
        <p>
          因此，片段着色器需要的值是聚光灯的位置向量（用于计算片段到光线的方向向量）、聚光灯的方向向量和截止角。 我们可以将这些值存储在 Light 结构中：
        </p>

        <pre><code class=" hljs cpp">
<span class="hljs-keyword">struct</span> Light {
    <span class="hljs-built_in">vec3</span>  position;
    <span class="hljs-built_in">vec3</span>  direction;
    <span class="hljs-keyword">float</span> cutOff;
    ...
};    
</code></pre>

        <p>
          Next we pass the appropriate values to the shader:
        </p><p>接下来我们将适当的值传递给着色器：</p>

        <pre><code class=" hljs cpp">
lightingShader.setVec3(<span class="hljs-string">"light.position"</span>,  camera.Position);
lightingShader.setVec3(<span class="hljs-string">"light.direction"</span>, camera.Front);
lightingShader.setFloat(<span class="hljs-string">"light.cutOff"</span>,   glm::<span class="hljs-built_in">cos</span>(<function id="63">glm::radians</function>(<span class="hljs-number">12.5f</span>)));
</code></pre>

        <p>
          As you can see we're not setting an angle for the cutoff value but
          calculate the cosine value based on an angle and pass the cosine result
          to the fragment shader. The reason for this is that in the fragment
          shader we're calculating the dot product between the <code>LightDir</code> and the <code>SpotDir</code>
          vector and the dot product returns a cosine value and not an angle; and
          we can't directly compare an angle with a cosine value. To get the
          angle in the shader we then have to calculate the inverse cosine of the
          dot product's result which is an expensive operation. So to save some
          performance we calculate the cosine value of a given cutoff angle
          beforehand and pass this result to the fragment shader. Since both
          angles are now represented as cosines, we can directly compare between
          them without expensive operations.
        </p><p>如您所见，我们没有为截止值设置角度，而是根据角度计算余弦值并将余弦结果传递给片段着色器。 这样做的原因是，在片段着色器中，我们正在计算 LightDir 和 SpotDir 向量之间的点积，点积返回余弦值而不是角度； 而且我们不能直接将角度与余弦值进行比较。 为了在着色器中获得角度，我们必须计算点积结果的反余弦，这是一项昂贵的操作。 因此，为了节省一些性能，我们预先计算给定截止角的余弦值，并将此结果传递给片段着色器。 由于两个角度现在都表示为余弦，我们可以直接比较它们而无需昂贵的操作。</p>

        <p>
          Now what's left to do is calculate the theta <span class="MathJax_Preview"
            style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-14-Frame" tabindex="0"
            style="position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-85" role="math"
                style="width: 0.578em; display: inline-block;"><span
                  style="display: inline-block; position: relative; width: 0.485em; height: 0px; font-size: 116%;"><span
                    style="position: absolute; clip: rect(1.45em, 1000.48em, 2.488em, -1000em); top: -2.317em; left: 0em;"><span
                      class="mrow" id="MathJax-Span-86"><span class="mi" id="MathJax-Span-87"
                        style="font-family: MathJax_Math; font-style: italic;">θ</span></span><span
                      style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -0.074em; border-left: 0px solid; width: 0px; height: 0.954em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML">
                <mi>θ</mi>
              </math></span>
          </span>
          <script type="math/tex" id="MathJax-Element-14">\theta</script> value and compare this with the cutoff <span
            class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-15-Frame"
            tabindex="0" style="position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03D5;&lt;/mi&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-88" role="math"
                style="width: 0.703em; display: inline-block;"><span
                  style="display: inline-block; position: relative; width: 0.593em; height: 0px; font-size: 116%;"><span
                    style="position: absolute; clip: rect(1.461em, 1000.58em, 2.683em, -1000em); top: -2.317em; left: 0em;"><span
                      class="mrow" id="MathJax-Span-89"><span class="mi" id="MathJax-Span-90"
                        style="font-family: MathJax_Math; font-style: italic;">ϕ</span></span><span
                      style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -0.3em; border-left: 0px solid; width: 0px; height: 1.168em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML">
                <mi>ϕ</mi>
              </math></span>
          </span>
          <script type="math/tex" id="MathJax-Element-15">\phi</script> value to determine if we're in or outside the
          spotlight:
        </p>
        <p>现在剩下要做的是计算 theta θ 值并将其与截止值 ϕ 进行比较以确定我们是在聚光灯内还是聚光灯外：</p>

        <pre><code class=" hljs cpp">
<span class="hljs-keyword">float</span> theta = dot(lightDir, normalize(-light.direction));
    
<span class="hljs-keyword">if</span>(theta &gt; light.cutOff) 
{       
  <span class="hljs-comment">// do lighting calculations</span>
}
<span class="hljs-keyword">else</span>  <span class="hljs-comment">// else, use ambient light so scene isn't completely dark outside the spotlight.</span>
  color = <span class="hljs-built_in">vec4</span>(light.ambient * <span class="hljs-built_in">vec3</span>(texture(material.diffuse, TexCoords)), <span class="hljs-number">1.0</span>);
</code></pre>

        <p>
          We first calculate the dot product between the <var>lightDir</var> vector and the negated <var>direction</var>
          vector (negated, because we want the vectors to point towards the light
          source, instead of from). Be sure to normalize all the relevant
          vectors.
        </p>

        <p>我们首先计算 lightDir 向量和取反方向向量之间的点积（取反，因为我们希望向量指向光源，而不是指向光源）。 确保对所有相关向量进行归一化。</p>

        <note>
          <p>
            You may be wondering why there is a <code>&gt;</code> sign instead of a <code>&lt;</code> sign in the
            <code>if</code> guard. Shouldn't <var>theta</var>
            be smaller than the light's cutoff value to be inside the spotlight?
            That is right, but don't forget angle values are represented as cosine
            values and an angle of <code>0</code> degrees is represented as the cosine value of <code>1.0</code> while
            an angle of <code>90</code> degrees is represented as the cosine value of <code>0.0</code> as you can see
            here:
          </p>

          <p>您可能想知道为什么在 if 守卫中使用 > 符号而不是 < 符号。 聚光灯内的 theta 不应该小于光的截止值吗？ 没错，但不要忘记角度值表示为余弦值，0 度角表示为余弦值 1.0，而 90 度角表示为余弦值 0.0，如下所示：</p>

          <img src="LearnOpenGL%20-%20Light%20casters_files/light_casters_cos.png">

          <p>
            You can now see that the closer the cosine value is to <code>1.0</code> the smaller its angle. Now it makes
            sense why <var>theta</var> needs to be larger than the cutoff value. The cutoff value is currently set at
            the cosine of <code>12.5</code> which is equal to <code>0.976</code> so a cosine <var>theta</var> value
            between <code>0.976</code> and <code>1.0</code> would result in the fragment being lit as if inside the
            spotlight.
          </p>

          <p>
            您现在可以看到，余弦值越接近 1.0，其角度就越小。 现在可以理解为什么 theta 需要大于截止值了。 截止值当前设置为 12.5 的余弦，等于 0.976，因此 0.976 和 1.0 之间的余弦 theta 值将导致片段被照亮，就像在聚光灯内一样。
          </p>
        </note>

        <p>
          Running the application results in a spotlight that only lights the
          fragments that are directly inside the cone of the spotlight. It'll look
          something like this:
        </p>

        <p>
          运行该应用程序会产生一个聚光灯，它只会照亮聚光灯圆锥内的碎片。 它看起来像这样：
        </p>

        <img src="LearnOpenGL%20-%20Light%20casters_files/light_casters_spotlight_hard.png" class="clean">

        <p>
          You can find the full source code <a
            href="https://learnopengl.com/code_viewer_gh.php?code=src/2.lighting/5.3.light_casters_spot/light_casters_spot.cpp"
            target="_blank">here</a>.
        </p>

        <p>
          It still looks a bit fake though, mostly because the spotlight has
          hard edges. Wherever a fragment reaches the edge of the spotlight's cone
          it is shut down completely instead of with a nice smooth fade. A
          realistic spotlight would reduce the light gradually around its edges.
        </p><p>不过它看起来还是有点假，主要是因为聚光灯有硬边。 无论片段到达聚光灯圆锥体的边缘，它都会完全关闭，而不是平滑地淡入淡出。 逼真的聚光灯会逐渐减少其边缘周围的光线。</p>

        <h2>Smooth/Soft edges 光滑/柔软的边缘</h2>
        <p>
          To create the effect of a smoothly-edged spotlight we want to simulate a spotlight having an <def>inner</def>
          and an <def>outer</def>
          cone. We can set the inner cone as the cone defined in the previous
          section, but we also want an outer cone that gradually dims the light
          from the inner to the edges of the outer cone.
        </p>

        <p>
          为了创建边缘光滑的聚光灯效果，我们想要模拟具有内锥体和外锥体的聚光灯。 我们可以将内锥体设置为上一节中定义的锥体，但我们还需要一个外锥体，它可以使光线从内锥体逐渐变暗到外锥体的边缘。
        </p>

        <p>
          To create an outer cone we simply define another cosine value that
          represents the angle between the spotlight's direction vector and the
          outer cone's vector (equal to its radius). Then, if a fragment is
          between the inner and the outer cone it should calculate an intensity
          value between <code>0.0</code> and <code>1.0</code>. If the fragment is inside the inner cone its intensity is
          equal to <code>1.0</code> and <code>0.0</code> if the fragment is outside the outer cone.
        </p>

        <p>
          要创建外锥体，我们只需定义另一个余弦值，该余弦值表示聚光灯的方向矢量与外锥体矢量（等于其半径）之间的角度。 然后，如果一个片段位于内锥和外锥之间，它应该计算一个介于 0.0 和 1.0 之间的强度值。 如果片段位于内锥内部，则其强度等于 1.0；如果片段位于外锥外部，则强度等于 0.0。
        </p>

        <p>
          We can calculate such a value using the following equation:
          <br>我们可以使用以下等式计算这样的值：

          <br>
          

          <span class="MathJax_Preview" style="color: inherit;"></span>
        <div class="MathJax_Display"><span class="MathJax" id="MathJax-Element-16-Frame" tabindex="0"
            style="width: 100%; position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-2&quot;&gt;&lt;mtext&gt;(2)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mi&gt;&amp;#x03B3;&lt;/mi&gt;&lt;/mrow&gt;&lt;mi&gt;&amp;#x03F5;&lt;/mi&gt;&lt;/mfrac&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-91" role="math"
                style="width: 100%; display: inline-block; min-width: 8.588em;"><span
                  style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 116%; min-width: 8.588em;"><span
                    style="position: absolute; clip: rect(2.529em, 1004.43em, 4.945em, -1000em); top: -3.987em; left: 0em; width: 100%;"><span
                      class="mrow" id="MathJax-Span-92"><span class="mtable" id="MathJax-Span-93"
                        style="min-width: 8.588em;"><span
                          style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 8.588em;"><span
                            style="display: inline-block; position: absolute; width: 4.432em; height: 0px; clip: rect(-1.458em, 1004.43em, 0.958em, -1000em); top: 0em; left: 50%; margin-left: -2.216em;"><span
                              style="position: absolute; clip: rect(2.529em, 1004.43em, 4.945em, -1000em); top: -3.987em; left: 0em;"><span
                                style="display: inline-block; position: relative; width: 4.432em; height: 0px;"><span
                                  style="position: absolute; clip: rect(2.43em, 1004.43em, 4.846em, -1000em); top: -3.888em; left: 50%; margin-left: -2.216em;"><span
                                    class="mtd" id="MathJax-Span-97"><span class="mrow" id="MathJax-Span-98"><span
                                        class="mi" id="MathJax-Span-99"
                                        style="font-family: MathJax_Math; font-style: italic;">I<span
                                          style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span
                                        class="mo" id="MathJax-Span-100"
                                        style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span
                                        class="mfrac" id="MathJax-Span-101" style="padding-left: 0.278em;"><span
                                          style="display: inline-block; position: relative; width: 2.354em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span
                                            style="position: absolute; clip: rect(3.12em, 1002.23em, 4.365em, -1000em); top: -4.678em; left: 50%; margin-left: -1.117em;"><span
                                              class="mrow" id="MathJax-Span-102"><span class="mi" id="MathJax-Span-103"
                                                style="font-family: MathJax_Math; font-style: italic;">θ</span><span
                                                class="mo" id="MathJax-Span-104"
                                                style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span
                                                class="mi" id="MathJax-Span-105"
                                                style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em;">γ<span
                                                  style="display: inline-block; overflow: hidden; height: 1px; width: 0.025em;"></span></span></span><span
                                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span
                                            style="position: absolute; clip: rect(3.394em, 1000.38em, 4.16em, -1000em); top: -3.301em; left: 50%; margin-left: -0.203em;"><span
                                              class="mi" id="MathJax-Span-106"
                                              style="font-family: MathJax_Math; font-style: italic;">ϵ</span><span
                                              style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span
                                            style="position: absolute; clip: rect(0.849em, 1002.35em, 1.239em, -1000em); top: -1.298em; left: 0em;"><span
                                              style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 2.354em; height: 0px;"></span><span
                                              style="display: inline-block; width: 0px; height: 1.078em;"></span></span></span></span></span></span><span
                                    style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span><span
                                style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span><span
                            style="display: inline-block; position: absolute; width: 1.278em; height: 0px; clip: rect(-0.812em, 1001.18em, 0.511em, -1000em); top: 0em; right: 0em; margin-right: 0em;"><span
                              style="position: absolute; clip: rect(3.075em, 1001.18em, 4.399em, -1000em); top: -3.888em; right: 0em;"><span
                                class="mtd" id="mjx-eqn-2"><span class="mrow" id="MathJax-Span-95"><span class="mtext"
                                    id="MathJax-Span-96"
                                    style="font-family: MathJax_Main;">(2)</span></span></span><span
                                style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span></span></span><span
                      style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -0.986em; border-left: 0px solid; width: 0px; height: 2.552em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML" display="block">
                <mtable displaystyle="true">
                  <mlabeledtr>
                    <mtd id="mjx-eqn-2">
                      <mtext>(2)</mtext>
                    </mtd>
                    <mtd>
                      <mi>I</mi>
                      <mo>=</mo>
                      <mfrac>
                        <mrow>
                          <mi>θ</mi>
                          <mo>−</mo>
                          <mi>γ</mi>
                        </mrow>
                        <mi>ϵ</mi>
                      </mfrac>
                    </mtd>
                  </mlabeledtr>
                </mtable>
              </math></span>
          </span></div>
        <script type="math/tex; mode=display"
          id="MathJax-Element-16">\begin{equation} I = \frac{\theta - \gamma}{\epsilon} \end{equation}</script>

        Here <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax"
          id="MathJax-Element-17-Frame" tabindex="0" style="position: relative;"
          data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03F5;&lt;/mi&gt;&lt;/math&gt;"
          role="presentation">
          <nobr aria-hidden="true"><span class="math" id="MathJax-Span-107" role="math"
              style="width: 0.516em; display: inline-block;"><span
                style="display: inline-block; position: relative; width: 0.431em; height: 0px; font-size: 116%;"><span
                  style="position: absolute; clip: rect(1.724em, 1000.41em, 2.489em, -1000em); top: -2.317em; left: 0em;"><span
                    class="mrow" id="MathJax-Span-108"><span class="mi" id="MathJax-Span-109"
                      style="font-family: MathJax_Math; font-style: italic;">ϵ</span></span><span
                    style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                style="display: inline-block; overflow: hidden; vertical-align: -0.075em; border-left: 0px solid; width: 0px; height: 0.638em;"></span></span>
          </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
              xmlns="http://www.w3.org/1998/Math/MathML">
              <mi>ϵ</mi>
            </math></span>
        </span>
        <script type="math/tex" id="MathJax-Element-17">\epsilon</script> (epsilon) is the cosine difference between the
        inner (<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax"
          id="MathJax-Element-18-Frame" tabindex="0" style="position: relative;"
          data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03D5;&lt;/mi&gt;&lt;/math&gt;"
          role="presentation">
          <nobr aria-hidden="true"><span class="math" id="MathJax-Span-110" role="math"
              style="width: 0.703em; display: inline-block;"><span
                style="display: inline-block; position: relative; width: 0.593em; height: 0px; font-size: 116%;"><span
                  style="position: absolute; clip: rect(1.461em, 1000.58em, 2.683em, -1000em); top: -2.317em; left: 0em;"><span
                    class="mrow" id="MathJax-Span-111"><span class="mi" id="MathJax-Span-112"
                      style="font-family: MathJax_Math; font-style: italic;">ϕ</span></span><span
                    style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                style="display: inline-block; overflow: hidden; vertical-align: -0.3em; border-left: 0px solid; width: 0px; height: 1.168em;"></span></span>
          </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
              xmlns="http://www.w3.org/1998/Math/MathML">
              <mi>ϕ</mi>
            </math></span>
        </span>
        <script type="math/tex" id="MathJax-Element-18">\phi</script>) and the outer cone (<span class="MathJax_Preview"
          style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-19-Frame" tabindex="0"
          style="position: relative;"
          data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03B3;&lt;/mi&gt;&lt;/math&gt;"
          role="presentation">
          <nobr aria-hidden="true"><span class="math" id="MathJax-Span-113" role="math"
              style="width: 0.641em; display: inline-block;"><span
                style="display: inline-block; position: relative; width: 0.539em; height: 0px; font-size: 116%;"><span
                  style="position: absolute; clip: rect(1.714em, 1000.54em, 2.694em, -1000em); top: -2.317em; left: 0em;"><span
                    class="mrow" id="MathJax-Span-114"><span class="mi" id="MathJax-Span-115"
                      style="font-family: MathJax_Math; font-style: italic;">γ<span
                        style="display: inline-block; overflow: hidden; height: 1px; width: 0.025em;"></span></span></span><span
                    style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                style="display: inline-block; overflow: hidden; vertical-align: -0.313em; border-left: 0px solid; width: 0px; height: 0.887em;"></span></span>
          </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
              xmlns="http://www.w3.org/1998/Math/MathML">
              <mi>γ</mi>
            </math></span>
        </span>
        <script type="math/tex" id="MathJax-Element-19">\gamma</script>) (<span class="MathJax_Preview"
          style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-20-Frame" tabindex="0"
          style="position: relative;"
          data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03F5;&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;&amp;#x03D5;&lt;/mi&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mi&gt;&amp;#x03B3;&lt;/mi&gt;&lt;/math&gt;"
          role="presentation">
          <nobr aria-hidden="true"><span class="math" id="MathJax-Span-116" role="math"
              style="width: 4.766em; display: inline-block;"><span
                style="display: inline-block; position: relative; width: 4.095em; height: 0px; font-size: 116%;"><span
                  style="position: absolute; clip: rect(1.461em, 1004.1em, 2.694em, -1000em); top: -2.317em; left: 0em;"><span
                    class="mrow" id="MathJax-Span-117"><span class="mi" id="MathJax-Span-118"
                      style="font-family: MathJax_Math; font-style: italic;">ϵ</span><span class="mo"
                      id="MathJax-Span-119" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span
                      class="mi" id="MathJax-Span-120"
                      style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;">ϕ</span><span
                      class="mo" id="MathJax-Span-121"
                      style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="mi"
                      id="MathJax-Span-122"
                      style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em;">γ<span
                        style="display: inline-block; overflow: hidden; height: 1px; width: 0.025em;"></span></span></span><span
                    style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                style="display: inline-block; overflow: hidden; vertical-align: -0.313em; border-left: 0px solid; width: 0px; height: 1.181em;"></span></span>
          </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
              xmlns="http://www.w3.org/1998/Math/MathML">
              <mi>ϵ</mi>
              <mo>=</mo>
              <mi>ϕ</mi>
              <mo>−</mo>
              <mi>γ</mi>
            </math></span>
        </span>
        <script type="math/tex" id="MathJax-Element-20">\epsilon =  \phi - \gamma</script>). The resulting <span
          class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-21-Frame"
          tabindex="0" style="position: relative;"
          data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;/math&gt;"
          role="presentation">
          <nobr aria-hidden="true"><span class="math" id="MathJax-Span-123" role="math"
              style="width: 0.578em; display: inline-block;"><span
                style="display: inline-block; position: relative; width: 0.485em; height: 0px; font-size: 116%;"><span
                  style="position: absolute; clip: rect(1.472em, 1000.49em, 2.478em, -1000em); top: -2.317em; left: 0em;"><span
                    class="mrow" id="MathJax-Span-124"><span class="mi" id="MathJax-Span-125"
                      style="font-family: MathJax_Math; font-style: italic;">I<span
                        style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span></span><span
                    style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                style="display: inline-block; overflow: hidden; vertical-align: -0.063em; border-left: 0px solid; width: 0px; height: 0.917em;"></span></span>
          </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
              xmlns="http://www.w3.org/1998/Math/MathML">
              <mi>I</mi>
            </math></span>
        </span>
        <script type="math/tex" id="MathJax-Element-21">I</script> value is then the intensity of the spotlight at the
        current fragment.
        </p>

        <p>
          
          <script type="math/tex; mode=display"
            id="MathJax-Element-16">\begin{equation} I = \frac{\theta - \gamma}{\epsilon} \end{equation}</script>
  
            这里 <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax"
            id="MathJax-Element-17-Frame" tabindex="0" style="position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03F5;&lt;/mi&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-107" role="math"
                style="width: 0.516em; display: inline-block;"><span
                  style="display: inline-block; position: relative; width: 0.431em; height: 0px; font-size: 116%;"><span
                    style="position: absolute; clip: rect(1.724em, 1000.41em, 2.489em, -1000em); top: -2.317em; left: 0em;"><span
                      class="mrow" id="MathJax-Span-108"><span class="mi" id="MathJax-Span-109"
                        style="font-family: MathJax_Math; font-style: italic;">ϵ</span></span><span
                      style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -0.075em; border-left: 0px solid; width: 0px; height: 0.638em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML">
                <mi>ϵ</mi>
              </math></span>
            </span>
            <script type="math/tex" id="MathJax-Element-17">\epsilon</script> (epsilon) 是内锥体 (<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax"
            id="MathJax-Element-18-Frame" tabindex="0" style="position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03D5;&lt;/mi&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-110" role="math"
                style="width: 0.703em; display: inline-block;"><span
                  style="display: inline-block; position: relative; width: 0.593em; height: 0px; font-size: 116%;"><span
                    style="position: absolute; clip: rect(1.461em, 1000.58em, 2.683em, -1000em); top: -2.317em; left: 0em;"><span
                      class="mrow" id="MathJax-Span-111"><span class="mi" id="MathJax-Span-112"
                        style="font-family: MathJax_Math; font-style: italic;">ϕ</span></span><span
                      style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -0.3em; border-left: 0px solid; width: 0px; height: 1.168em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML">
                <mi>ϕ</mi>
              </math></span>
          </span>
          <script type="math/tex" id="MathJax-Element-18">\phi</script>) 和外锥体 (<span class="MathJax_Preview"
            style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-19-Frame" tabindex="0"
            style="position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03B3;&lt;/mi&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-113" role="math"
                style="width: 0.641em; display: inline-block;"><span
                  style="display: inline-block; position: relative; width: 0.539em; height: 0px; font-size: 116%;"><span
                    style="position: absolute; clip: rect(1.714em, 1000.54em, 2.694em, -1000em); top: -2.317em; left: 0em;"><span
                      class="mrow" id="MathJax-Span-114"><span class="mi" id="MathJax-Span-115"
                        style="font-family: MathJax_Math; font-style: italic;">γ<span
                          style="display: inline-block; overflow: hidden; height: 1px; width: 0.025em;"></span></span></span><span
                      style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -0.313em; border-left: 0px solid; width: 0px; height: 0.887em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML">
                <mi>γ</mi>
              </math></span>
          </span>
          <script type="math/tex" id="MathJax-Element-19">\gamma</script>) (<span class="MathJax_Preview"
            style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-20-Frame" tabindex="0"
            style="position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03F5;&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;&amp;#x03D5;&lt;/mi&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mi&gt;&amp;#x03B3;&lt;/mi&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-116" role="math"
                style="width: 4.766em; display: inline-block;"><span
                  style="display: inline-block; position: relative; width: 4.095em; height: 0px; font-size: 116%;"><span
                    style="position: absolute; clip: rect(1.461em, 1004.1em, 2.694em, -1000em); top: -2.317em; left: 0em;"><span
                      class="mrow" id="MathJax-Span-117"><span class="mi" id="MathJax-Span-118"
                        style="font-family: MathJax_Math; font-style: italic;">ϵ</span><span class="mo"
                        id="MathJax-Span-119" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span
                        class="mi" id="MathJax-Span-120"
                        style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;">ϕ</span><span
                        class="mo" id="MathJax-Span-121"
                        style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="mi"
                        id="MathJax-Span-122"
                        style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em;">γ<span
                          style="display: inline-block; overflow: hidden; height: 1px; width: 0.025em;"></span></span></span><span
                      style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -0.313em; border-left: 0px solid; width: 0px; height: 1.181em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML">
                <mi>ϵ</mi>
                <mo>=</mo>
                <mi>ϕ</mi>
                <mo>−</mo>
                <mi>γ</mi>
              </math></span>
          </span>
          <script type="math/tex" id="MathJax-Element-20">\epsilon =  \phi - \gamma</script>)之间的余弦差。 由此产生的 <span
            class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-21-Frame"
            tabindex="0" style="position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-123" role="math"
                style="width: 0.578em; display: inline-block;"><span
                  style="display: inline-block; position: relative; width: 0.485em; height: 0px; font-size: 116%;"><span
                    style="position: absolute; clip: rect(1.472em, 1000.49em, 2.478em, -1000em); top: -2.317em; left: 0em;"><span
                      class="mrow" id="MathJax-Span-124"><span class="mi" id="MathJax-Span-125"
                        style="font-family: MathJax_Math; font-style: italic;">I<span
                          style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span></span><span
                      style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -0.063em; border-left: 0px solid; width: 0px; height: 0.917em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML">
                <mi>I</mi>
              </math></span>
          </span>
          <script type="math/tex" id="MathJax-Element-21">I</script> 值就是当前片段的聚光灯强度。
          </p>

        <p>
          It is a bit hard to visualize how this formula actually works so let's try it out with a few sample values:
        </p>

        <p>很难想象这个公式实际上是如何工作的，所以让我们用几个样本值来尝试一下：</p>


        <table>
          <tbody>
            <tr>
              <th><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax"
                  id="MathJax-Element-22-Frame" tabindex="0" style="position: relative;"
                  data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;/math&gt;"
                  role="presentation">
                  <nobr aria-hidden="true"><span class="math" id="MathJax-Span-126" role="math"
                      style="width: 0.578em; display: inline-block;"><span
                        style="display: inline-block; position: relative; width: 0.485em; height: 0px; font-size: 116%;"><span
                          style="position: absolute; clip: rect(1.45em, 1000.48em, 2.488em, -1000em); top: -2.317em; left: 0em;"><span
                            class="mrow" id="MathJax-Span-127"><span class="mi" id="MathJax-Span-128"
                              style="font-family: MathJax_Math; font-style: italic;">θ</span></span><span
                            style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                        style="display: inline-block; overflow: hidden; vertical-align: -0.074em; border-left: 0px solid; width: 0px; height: 0.954em;"></span></span>
                  </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                      xmlns="http://www.w3.org/1998/Math/MathML">
                      <mi>θ</mi>
                    </math></span>
                </span>
                <script type="math/tex" id="MathJax-Element-22">\theta</script>
              </th>
              <th><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax"
                  id="MathJax-Element-23-Frame" tabindex="0" style="position: relative;"
                  data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;/math&gt;"
                  role="presentation">
                  <nobr aria-hidden="true"><span class="math" id="MathJax-Span-129" role="math"
                      style="width: 0.578em; display: inline-block;"><span
                        style="display: inline-block; position: relative; width: 0.485em; height: 0px; font-size: 116%;"><span
                          style="position: absolute; clip: rect(1.45em, 1000.48em, 2.488em, -1000em); top: -2.317em; left: 0em;"><span
                            class="mrow" id="MathJax-Span-130"><span class="mi" id="MathJax-Span-131"
                              style="font-family: MathJax_Math; font-style: italic;">θ</span></span><span
                            style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                        style="display: inline-block; overflow: hidden; vertical-align: -0.074em; border-left: 0px solid; width: 0px; height: 0.954em;"></span></span>
                  </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                      xmlns="http://www.w3.org/1998/Math/MathML">
                      <mi>θ</mi>
                    </math></span>
                </span>
                <script type="math/tex" id="MathJax-Element-23">\theta</script> in degrees
              </th>
              <th><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax"
                  id="MathJax-Element-24-Frame" tabindex="0" style="position: relative;"
                  data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03D5;&lt;/mi&gt;&lt;/math&gt;"
                  role="presentation">
                  <nobr aria-hidden="true"><span class="math" id="MathJax-Span-132" role="math"
                      style="width: 0.703em; display: inline-block;"><span
                        style="display: inline-block; position: relative; width: 0.593em; height: 0px; font-size: 116%;"><span
                          style="position: absolute; clip: rect(1.461em, 1000.58em, 2.683em, -1000em); top: -2.317em; left: 0em;"><span
                            class="mrow" id="MathJax-Span-133"><span class="mi" id="MathJax-Span-134"
                              style="font-family: MathJax_Math; font-style: italic;">ϕ</span></span><span
                            style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                        style="display: inline-block; overflow: hidden; vertical-align: -0.3em; border-left: 0px solid; width: 0px; height: 1.168em;"></span></span>
                  </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                      xmlns="http://www.w3.org/1998/Math/MathML">
                      <mi>ϕ</mi>
                    </math></span>
                </span>
                <script type="math/tex" id="MathJax-Element-24">\phi</script> (inner cutoff)
              </th>
              <th><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax"
                  id="MathJax-Element-25-Frame" tabindex="0" style="position: relative;"
                  data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03D5;&lt;/mi&gt;&lt;/math&gt;"
                  role="presentation">
                  <nobr aria-hidden="true"><span class="math" id="MathJax-Span-135" role="math"
                      style="width: 0.703em; display: inline-block;"><span
                        style="display: inline-block; position: relative; width: 0.593em; height: 0px; font-size: 116%;"><span
                          style="position: absolute; clip: rect(1.461em, 1000.58em, 2.683em, -1000em); top: -2.317em; left: 0em;"><span
                            class="mrow" id="MathJax-Span-136"><span class="mi" id="MathJax-Span-137"
                              style="font-family: MathJax_Math; font-style: italic;">ϕ</span></span><span
                            style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                        style="display: inline-block; overflow: hidden; vertical-align: -0.3em; border-left: 0px solid; width: 0px; height: 1.168em;"></span></span>
                  </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                      xmlns="http://www.w3.org/1998/Math/MathML">
                      <mi>ϕ</mi>
                    </math></span>
                </span>
                <script type="math/tex" id="MathJax-Element-25">\phi</script> in degrees
              </th>
              <th><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax"
                  id="MathJax-Element-26-Frame" tabindex="0" style="position: relative;"
                  data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03B3;&lt;/mi&gt;&lt;/math&gt;"
                  role="presentation">
                  <nobr aria-hidden="true"><span class="math" id="MathJax-Span-138" role="math"
                      style="width: 0.641em; display: inline-block;"><span
                        style="display: inline-block; position: relative; width: 0.539em; height: 0px; font-size: 116%;"><span
                          style="position: absolute; clip: rect(1.714em, 1000.54em, 2.694em, -1000em); top: -2.317em; left: 0em;"><span
                            class="mrow" id="MathJax-Span-139"><span class="mi" id="MathJax-Span-140"
                              style="font-family: MathJax_Math; font-style: italic;">γ<span
                                style="display: inline-block; overflow: hidden; height: 1px; width: 0.025em;"></span></span></span><span
                            style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                        style="display: inline-block; overflow: hidden; vertical-align: -0.313em; border-left: 0px solid; width: 0px; height: 0.887em;"></span></span>
                  </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                      xmlns="http://www.w3.org/1998/Math/MathML">
                      <mi>γ</mi>
                    </math></span>
                </span>
                <script type="math/tex" id="MathJax-Element-26">\gamma</script> (outer cutoff)
              </th>
              <th><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax"
                  id="MathJax-Element-27-Frame" tabindex="0" style="position: relative;"
                  data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03B3;&lt;/mi&gt;&lt;/math&gt;"
                  role="presentation">
                  <nobr aria-hidden="true"><span class="math" id="MathJax-Span-141" role="math"
                      style="width: 0.641em; display: inline-block;"><span
                        style="display: inline-block; position: relative; width: 0.539em; height: 0px; font-size: 116%;"><span
                          style="position: absolute; clip: rect(1.714em, 1000.54em, 2.694em, -1000em); top: -2.317em; left: 0em;"><span
                            class="mrow" id="MathJax-Span-142"><span class="mi" id="MathJax-Span-143"
                              style="font-family: MathJax_Math; font-style: italic;">γ<span
                                style="display: inline-block; overflow: hidden; height: 1px; width: 0.025em;"></span></span></span><span
                            style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                        style="display: inline-block; overflow: hidden; vertical-align: -0.313em; border-left: 0px solid; width: 0px; height: 0.887em;"></span></span>
                  </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                      xmlns="http://www.w3.org/1998/Math/MathML">
                      <mi>γ</mi>
                    </math></span>
                </span>
                <script type="math/tex" id="MathJax-Element-27">\gamma</script> in degrees
              </th>
              <th><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax"
                  id="MathJax-Element-28-Frame" tabindex="0" style="position: relative;"
                  data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03F5;&lt;/mi&gt;&lt;/math&gt;"
                  role="presentation">
                  <nobr aria-hidden="true"><span class="math" id="MathJax-Span-144" role="math"
                      style="width: 0.516em; display: inline-block;"><span
                        style="display: inline-block; position: relative; width: 0.431em; height: 0px; font-size: 116%;"><span
                          style="position: absolute; clip: rect(1.724em, 1000.41em, 2.489em, -1000em); top: -2.317em; left: 0em;"><span
                            class="mrow" id="MathJax-Span-145"><span class="mi" id="MathJax-Span-146"
                              style="font-family: MathJax_Math; font-style: italic;">ϵ</span></span><span
                            style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                        style="display: inline-block; overflow: hidden; vertical-align: -0.075em; border-left: 0px solid; width: 0px; height: 0.638em;"></span></span>
                  </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                      xmlns="http://www.w3.org/1998/Math/MathML">
                      <mi>ϵ</mi>
                    </math></span>
                </span>
                <script type="math/tex" id="MathJax-Element-28">\epsilon</script>
              </th>
              <th><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax"
                  id="MathJax-Element-29-Frame" tabindex="0" style="position: relative;"
                  data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;/math&gt;"
                  role="presentation">
                  <nobr aria-hidden="true"><span class="math" id="MathJax-Span-147" role="math"
                      style="width: 0.578em; display: inline-block;"><span
                        style="display: inline-block; position: relative; width: 0.485em; height: 0px; font-size: 116%;"><span
                          style="position: absolute; clip: rect(1.472em, 1000.49em, 2.478em, -1000em); top: -2.317em; left: 0em;"><span
                            class="mrow" id="MathJax-Span-148"><span class="mi" id="MathJax-Span-149"
                              style="font-family: MathJax_Math; font-style: italic;">I<span
                                style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span></span><span
                            style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                        style="display: inline-block; overflow: hidden; vertical-align: -0.063em; border-left: 0px solid; width: 0px; height: 0.917em;"></span></span>
                  </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                      xmlns="http://www.w3.org/1998/Math/MathML">
                      <mi>I</mi>
                    </math></span>
                </span>
                <script type="math/tex" id="MathJax-Element-29">I</script>
              </th>
            </tr>
            <tr>
              <td><code>0.87</code></td>
              <td><code>30</code></td>
              <td><code>0.91</code></td>
              <td><code>25</code></td>
              <td><code>0.82</code></td>
              <td><code>35</code></td>
              <td><code>0.91 - 0.82 = 0.09</code></td>
              <td><code>0.87 - 0.82 / 0.09 = 0.56</code></td>
            </tr>
            <tr>
              <td><code>0.9</code></td>
              <td><code>26</code></td>
              <td><code>0.91</code></td>
              <td><code>25</code></td>
              <td><code>0.82</code></td>
              <td><code>35</code></td>
              <td><code>0.91 - 0.82 = 0.09</code></td>
              <td><code>0.9 - 0.82 / 0.09 = 0.89</code></td>
            </tr>
            <tr>
              <td><code>0.97</code></td>
              <td><code>14</code></td>
              <td><code>0.91</code></td>
              <td><code>25</code></td>
              <td><code>0.82</code></td>
              <td><code>35</code></td>
              <td><code>0.91 - 0.82 = 0.09</code></td>
              <td><code>0.97 - 0.82 / 0.09 = 1.67</code></td>
            </tr>
            <tr>
              <td><code>0.83</code></td>
              <td><code>34</code></td>
              <td><code>0.91</code></td>
              <td><code>25</code></td>
              <td><code>0.82</code></td>
              <td><code>35</code></td>
              <td><code>0.91 - 0.82 = 0.09</code></td>
              <td><code>0.83 - 0.82 / 0.09 = 0.11</code></td>
            </tr>
            <tr>
              <td><code>0.64</code></td>
              <td><code>50</code></td>
              <td><code>0.91</code></td>
              <td><code>25</code></td>
              <td><code>0.82</code></td>
              <td><code>35</code></td>
              <td><code>0.91 - 0.82 = 0.09</code></td>
              <td><code>0.64 - 0.82 / 0.09 = -2.0</code></td>
            </tr>
            <tr>
              <td><code>0.966</code></td>
              <td><code>15</code></td>
              <td><code>0.9978</code></td>
              <td><code>12.5</code></td>
              <td><code>0.953</code></td>
              <td><code>17.5</code></td>
              <td><code>0.9978 - 0.953 = 0.0448</code></td>
              <td><code>0.966 - 0.953 / 0.0448 = 0.29</code></td>
            </tr>
          </tbody>
        </table>

        <p>
          As you can see we're basically interpolating between the outer cosine and the inner cosine based on the <span
            class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-30-Frame"
            tabindex="0" style="position: relative;"
            data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;/math&gt;"
            role="presentation">
            <nobr aria-hidden="true"><span class="math" id="MathJax-Span-150" role="math"
                style="width: 0.578em; display: inline-block;"><span
                  style="display: inline-block; position: relative; width: 0.485em; height: 0px; font-size: 116%;"><span
                    style="position: absolute; clip: rect(1.45em, 1000.48em, 2.488em, -1000em); top: -2.317em; left: 0em;"><span
                      class="mrow" id="MathJax-Span-151"><span class="mi" id="MathJax-Span-152"
                        style="font-family: MathJax_Math; font-style: italic;">θ</span></span><span
                      style="display: inline-block; width: 0px; height: 2.317em;"></span></span></span><span
                  style="display: inline-block; overflow: hidden; vertical-align: -0.074em; border-left: 0px solid; width: 0px; height: 0.954em;"></span></span>
            </nobr><span class="MJX_Assistive_MathML" role="presentation"><math
                xmlns="http://www.w3.org/1998/Math/MathML">
                <mi>θ</mi>
              </math></span>
          </span>
          <script type="math/tex" id="MathJax-Element-30">\theta</script><iframe
            src="LearnOpenGL%20-%20Light%20casters_files/container.html"
            style="visibility: hidden; display: none;"></iframe>
          value. If you still don't really see what's going on, don't worry, you
          can simply take the formula for granted and return here when you're much
          older and wiser.
        </p>

        <p>如您所见，我们基本上是根据 θ 值在外余弦和内余弦之间进行插值。 如果您仍然没有真正了解发生了什么，请不要担心，您可以简单地认为公式是理所当然的，并在您年长和聪明得多时返回这里。</p>

        <p>
          We now have an intensity value that is either negative when outside the spotlight, higher than
          <code>1.0</code> when inside the inner cone, and somewhere in between around the edges. If we properly clamp
          the values we don't need an <code>if-else</code> in the fragment shader anymore and we can simply multiply the
          light components with the calculated intensity value:
        </p>

        <p>
          我们现在有一个强度值，在聚光灯外时为负，在内锥体内时高于 1.0，在边缘周围介于两者之间。 如果我们正确地限制了值，我们就不再需要片段着色器中的 if-else 了，我们可以简单地将光分量与计算出的强度值相乘：
        </p>

        <pre><code class=" hljs cpp">
<span class="hljs-keyword">float</span> theta     = dot(lightDir, normalize(-light.direction));
<span class="hljs-keyword">float</span> epsilon   = light.cutOff - light.outerCutOff;
<span class="hljs-keyword">float</span> intensity = clamp((theta - light.outerCutOff) / epsilon, <span class="hljs-number">0.0</span>, <span class="hljs-number">1.0</span>);    
...
<span class="hljs-comment">// we'll leave ambient unaffected so we always have a little light.</span>
diffuse  *= intensity;
specular *= intensity;
...
</code></pre>

        <p>
          Note that we use the <fun>clamp</fun> function that <def>clamps</def> its first argument between the values
          <code>0.0</code> and <code>1.0</code>. This makes sure the intensity values won't end up outside the
          [<code>0</code>, <code>1</code>] range.
        </p>
<p>请注意，我们使用 clamp 函数将其第一个参数限制在值 0.0 和 1.0 之间。 这确保强度值不会超出 [0, 1] 范围。</p>
        <p>
          Make sure you add the <var>outerCutOff</var> value to the <fun>Light</fun> struct and set its uniform value in
          the application. For the following image an inner cutoff angle of <code>12.5</code> and an outer cutoff angle
          of <code>17.5</code> was used:
        </p><p>确保将 outerCutOff 值添加到 Light 结构并在应用程序中设置其统一值。 对于下图，使用了 12.5 的内部截止角和 17.5 的外部截止角：</p>

        <img src="LearnOpenGL%20-%20Light%20casters_files/light_casters_spotlight.png" class="clean">

        <p>
          Ahhh, that's much better. Play around with the inner and outer cutoff
          angles and try to create a spotlight that better suits your needs. You
          can find the source code of the application <a
            href="https://learnopengl.com/code_viewer_gh.php?code=src/2.lighting/5.4.light_casters_spot_soft/light_casters_spot_soft.cpp"
            target="_blank">here</a>.
        </p><p>啊哈，这样好多了。 尝试调整内截止角和外截止角，并尝试创建更适合您需求的聚光灯。 您可以在此处找到应用程序的源代码。</p>

        <p>
          Such a flashlight/spotlight type of lamp is perfect for horror games
          and combined with directional and point lights the environment will
          really start to light up.
        </p><p>这种手电筒/聚光灯类型的灯非常适合恐怖游戏，结合定向和点光源，环境将真正开始照亮。</p>

        <h2>Exercises</h2>
        <ul>
          <li>Try experimenting with all the different light types and their
            fragment shaders. Try inverting some vectors and/or use &lt; instead of
            &gt;. Try to explain the different visual outcomes.
          
          <br>
          尝试使用所有不同的光类型及其片段着色器进行试验。 尝试反转一些向量和/或使用 &lt; 而不是 >。 尝试解释不同的视觉效果。
        </li>
        </ul>

      </div>

      <div id="hover">
        HI
      </div>
      <!-- 728x90/320x50 sticky footer -->
      




    </div> <!-- container div -->


  </div> <!-- super container div -->

  <iframe src="LearnOpenGL%20-%20Light%20casters_files/sync.html"
    style="display: none; visibility: hidden;"></iframe><iframe style="display: none;" name="__tcfapiLocator"></iframe>
  <div
    style="position: absolute; width: 0px; height: 0px; overflow: hidden; padding: 0px; border: 0px none; margin: 0px;">
    <div id="MathJax_Font_Test"
      style="position: absolute; visibility: hidden; top: 0px; left: 0px; width: auto; padding: 0px; border: 0px none; margin: 0px; white-space: nowrap; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; font-size: 40px; font-weight: normal; font-style: italic; font-size-adjust: none; font-family: MathJax_Math, sans-serif;">
    </div>
  </div><img style="display: none !important; width: 1px !important; height: 1px !important;"
    src="LearnOpenGL%20-%20Light%20casters_files/px_002.gif"><img
    style="display: none !important; width: 1px !important; height: 1px !important;"
    src="LearnOpenGL%20-%20Light%20casters_files/favicon.ico"><img
    style="display: none !important; width: 1px !important; height: 1px !important;"
    src="LearnOpenGL%20-%20Light%20casters_files/px.gif"><iframe style="display: none;"></iframe>
  <div id="confiant_tag_holder" style="display:none"></div><iframe
    src="LearnOpenGL%20-%20Light%20casters_files/aframe.html" style="display: none;" width="0" height="0"></iframe>
</body><iframe sandbox="allow-scripts allow-same-origin" id="449961e2433a405" allowtransparency="true" marginheight="0"
  marginwidth="0" hspace="0" vspace="0" style="height:0px;width:0px;display:none;" scrolling="no"
  src="LearnOpenGL%20-%20Light%20casters_files/load-cookie.html" width="0" height="0" frameborder="0">
</iframe><iframe sandbox="allow-scripts allow-same-origin" id="450e74a99257f6ca8" allowtransparency="true"
  marginheight="0" marginwidth="0" hspace="0" vspace="0" style="height:0px;width:0px;display:none;" scrolling="no"
  src="https://eb2.3lift.com/sync?us_privacy=1---&amp;" width="0" height="0" frameborder="0">
</iframe><iframe sandbox="allow-scripts allow-same-origin" id="451330b5ee3685ff" allowtransparency="true"
  marginheight="0" marginwidth="0" hspace="0" vspace="0" style="height:0px;width:0px;display:none;" scrolling="no"
  src="LearnOpenGL%20-%20Light%20casters_files/index.html" width="0" height="0" frameborder="0">
</iframe><iframe sandbox="allow-scripts allow-same-origin" id="452109ec2680501d" allowtransparency="true"
  marginheight="0" marginwidth="0" hspace="0" vspace="0" style="height:0px;width:0px;display:none;" scrolling="no"
  src="LearnOpenGL%20-%20Light%20casters_files/async_usersync.html" width="0" height="0" frameborder="0">
</iframe><iframe sandbox="allow-scripts allow-same-origin" id="4534a2b93e88b3a78" allowtransparency="true"
  marginheight="0" marginwidth="0" hspace="0" vspace="0" style="height:0px;width:0px;display:none;" scrolling="no"
  src="LearnOpenGL%20-%20Light%20casters_files/a_006.html" width="0" height="0" frameborder="0">
</iframe><iframe sandbox="allow-scripts allow-same-origin" id="4547608e452af49b" allowtransparency="true"
  marginheight="0" marginwidth="0" hspace="0" vspace="0" style="height:0px;width:0px;display:none;" scrolling="no"
  src="LearnOpenGL%20-%20Light%20casters_files/ixmatch.html" width="0" height="0" frameborder="0">
</iframe><iframe sandbox="allow-scripts allow-same-origin" id="4550fee24824ef3a8" allowtransparency="true"
  marginheight="0" marginwidth="0" hspace="0" vspace="0" style="height:0px;width:0px;display:none;" scrolling="no"
  src="LearnOpenGL%20-%20Light%20casters_files/user_sync.html" width="0" height="0" frameborder="0">
</iframe><iframe sandbox="allow-scripts allow-same-origin" id="456cf404fa32f6558" allowtransparency="true"
  marginheight="0" marginwidth="0" hspace="0" vspace="0" style="height:0px;width:0px;display:none;" scrolling="no"
  src="LearnOpenGL%20-%20Light%20casters_files/apacdex.html" width="0" height="0" frameborder="0">
</iframe><iframe sandbox="allow-scripts allow-same-origin" id="4571b119bab5ebb28" allowtransparency="true"
  marginheight="0" marginwidth="0" hspace="0" vspace="0" style="height:0px;width:0px;display:none;" scrolling="no"
  src="https://sync.mathtag.com/sync/img?mt_exid=71&amp;gdpr=0&amp;gdpr_consent=&amp;redir=https%3a%2f%2fusersync.gumgum.com%2fusersync%3fb%3dmmh%26i%3d%5bMM_UUID%5d"
  width="0" height="0" frameborder="0">
</iframe><iframe sandbox="allow-scripts allow-same-origin" id="4581fe9207ab383b8" allowtransparency="true"
  marginheight="0" marginwidth="0" hspace="0" vspace="0" style="height:0px;width:0px;display:none;" scrolling="no"
  src="LearnOpenGL%20-%20Light%20casters_files/usync.html" width="0" height="0" frameborder="0">
</iframe><iframe sandbox="allow-scripts allow-same-origin" id="459ee59a80533754" allowtransparency="true"
  marginheight="0" marginwidth="0" hspace="0" vspace="0" style="height:0px;width:0px;display:none;" scrolling="no"
  src="https://jp-u.openx.net/w/1.0/pd?plm=10&amp;ph=e34aac42-0d1e-4d32-9386-02b79d6d1152&amp;gdpr=0&amp;us_privacy=1---"
  width="0" height="0" frameborder="0">
</iframe><iframe sandbox="allow-scripts allow-same-origin" id="4608bf12fed89a918" allowtransparency="true"
  marginheight="0" marginwidth="0" hspace="0" vspace="0" style="height:0px;width:0px;display:none;" scrolling="no"
  src="LearnOpenGL%20-%20Light%20casters_files/sync_003.html" width="0" height="0" frameborder="0">
</iframe><iframe sandbox="allow-scripts allow-same-origin" id="46193a821a97129" allowtransparency="true"
  marginheight="0" marginwidth="0" hspace="0" vspace="0" style="height:0px;width:0px;display:none;" scrolling="no"
  src="https://cm.g.doubleclick.net/pixel?google_nid=gumgum_dbm&amp;google_hm=YV8xNTA3OTZmYi02NWU3LTRhYTItODhhZC0wNDQ2MWVmNjYyNmY=&amp;gdpr=0&amp;gdpr_consent="
  width="0" height="0" frameborder="0">
</iframe><iframe sandbox="allow-scripts allow-same-origin" id="4621f1b3a7cac18a8" allowtransparency="true"
  marginheight="0" marginwidth="0" hspace="0" vspace="0" style="height:0px;width:0px;display:none;" scrolling="no"
  src="https://ap.lijit.com/beacon?us_privacy=1---&amp;informer=12352498" width="0" height="0" frameborder="0">
</iframe><iframe sandbox="allow-scripts allow-same-origin" id="463f7885532bcd7f" allowtransparency="true"
  marginheight="0" marginwidth="0" hspace="0" vspace="0" style="height:0px;width:0px;display:none;" scrolling="no"
  src="LearnOpenGL%20-%20Light%20casters_files/sync.html" width="0" height="0" frameborder="0">
</iframe><iframe sandbox="allow-scripts allow-same-origin" id="4640b8c0ef69e9a2" allowtransparency="true"
  marginheight="0" marginwidth="0" hspace="0" vspace="0" style="height:0px;width:0px;display:none;" scrolling="no"
  src="https://match.adsrvr.org/track/cmf/generic?ttd_pid=gumgum&amp;ttd_tpi=1&amp;gdpr=0&amp;gdpr_consent=" width="0"
  height="0" frameborder="0">
</iframe><iframe sandbox="allow-scripts allow-same-origin" id="4657c2946ab8d979" allowtransparency="true"
  marginheight="0" marginwidth="0" hspace="0" vspace="0" style="height:0px;width:0px;display:none;" scrolling="no"
  src="LearnOpenGL%20-%20Light%20casters_files/a_007.html" width="0" height="0" frameborder="0">
</iframe><iframe sandbox="allow-scripts allow-same-origin" id="466ede036126863e8" allowtransparency="true"
  marginheight="0" marginwidth="0" hspace="0" vspace="0" style="height:0px;width:0px;display:none;" scrolling="no"
  src="LearnOpenGL%20-%20Light%20casters_files/sync_002.html" width="0" height="0" frameborder="0">
</iframe>

</html>