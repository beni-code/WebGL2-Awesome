<!DOCTYPE html>
<!-- saved from url=(0072)https://webgl2fundamentals.org/webgl/lessons/webgl-image-processing.html -->
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

  <meta name="description" content="How to image process in WebGL">
  <meta name="keywords" content="webgl webgl2 graphics">
  <meta name="thumbnail"
    content="https://webgl2fundamentals.org/webgl/lessons/screenshots/webgl-image-processing_en.jpg">

  <meta property="og:title" content="WebGL2 Image Processing">
  <meta property="og:type" content="website">
  <meta property="og:image"
    content="https://webgl2fundamentals.org/webgl/lessons/screenshots/webgl-image-processing_en.jpg">
  <meta property="og:description" content="How to image process in WebGL">
  <meta property="og:url" content="https://webgl2fundamentals.org/webgl/lessons/webgl-image-processing.html">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@greggman">
  <meta name="twitter:creator" content="@greggman">
  <meta name="twitter:domain" content="webgl2fundamentals.org">
  <meta name="twitter:title" content="WebGL2 Image Processing">
  <meta name="twitter:url" content="https://webgl2fundamentals.org/webgl/lessons/webgl-image-processing.html">
  <meta name="twitter:description" content="How to image process in WebGL">
  <meta name="twitter:image:src"
    content="https://webgl2fundamentals.org/webgl/lessons/screenshots/webgl-image-processing_en.jpg">

  <script async="" src="./WebGL2 Image Processing_files/analytics.js.下载"></script>
  <script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@graph":[
    {
      "@type":"WebSite",
      "@id":"https://webgl2fundamentals.org/#website",
      "url":"https://webgl2fundamentals.org/",
      "name":"Webgl2Fundamentals"
    },
    {
      "@type":"ImageObject",
      "@id":"https://webgl2fundamentals.org/webgl/lessons/webgl-image-processing.html#primaryimage",
      "url":"https://webgl2fundamentals.org/webgl/lessons/screenshots/webgl-image-processing_en.jpg",
      "width":1200,
      "height":630
    },
    {
      "@type":"WebPage",
      "@id":"https://webgl2fundamentals.org/webgl/lessons/webgl-image-processing.html#webpage",
      "url":"https://webgl2fundamentals.org/webgl/lessons/webgl-image-processing.html",
      "inLanguage":"en",
      "name":"WebGL2 Image Processing",
      "keywords":"webgl webgl2 graphics programming",
      "isPartOf":{
        "@id":"https://webgl2fundamentals.org/#website"
      },
      "primaryImageOfPage":{
        "@id":"https://webgl2fundamentals.org/webgl/lessons/webgl-image-processing.html#primaryimage"
      }
    }
  ]
}
</script>


  <title>WebGL2 Image Processing</title>
  <link href="https://webgl2fundamentals.org/webgl/lessons/resources/webgl2fundamentals-icon.png" rel="shortcut icon"
    type="image/png">
  <link rel="stylesheet" href="./WebGL2 Image Processing_files/lang.css">
  <link rel="stylesheet" href="./WebGL2 Image Processing_files/lesson.css">

  <link rel="alternate" hreflang="en" href="https://webglfundamentals.org/webgl/lessons/webgl-image-processing.html">
  <link rel="alternate" hreflang="de" href="https://webglfundamentals.org/webgl/lessons/de/webgl-image-processing.html">
  <link rel="alternate" hreflang="ja" href="https://webglfundamentals.org/webgl/lessons/ja/webgl-image-processing.html">
  <link rel="alternate" hreflang="ko" href="https://webglfundamentals.org/webgl/lessons/ko/webgl-image-processing.html">
  <link rel="alternate" hreflang="pt-br"
    href="https://webglfundamentals.org/webgl/lessons/pt-br/webgl-image-processing.html">
  <link rel="alternate" hreflang="zh_cn"
    href="https://webglfundamentals.org/webgl/lessons/zh_cn/webgl-image-processing.html">




  <script type="text/javascript" async="" src="https://webgl2fundamentals.disqus.com/embed.js"></script>
</head>

<body>
  <div class="webgl_navbar">
    <div>
      <select class="language">
        <option value="/webgl/lessons/webgl-image-processing.html" selected="">English
        </option>
        <option value="/webgl/lessons/de/webgl-image-processing.html">Deutsch
        </option>
        <option value="/webgl/lessons/ja/webgl-image-processing.html">日本語
        </option>
        <option value="/webgl/lessons/ko/webgl-image-processing.html">한국어
        </option>
        <option value="/webgl/lessons/pt-br/webgl-image-processing.html">Português Brasileiro
        </option>
        <option value="/webgl/lessons/zh_cn/webgl-image-processing.html">简体中文
        </option>
      </select>


      <a href="https://webgl2fundamentals.org/webgl/lessons/webgl-image-processing.html#toc">Table of Contents</a>
    </div>
  </div>
  <div class="webgl_header">
    <h1><a href="https://webgl2fundamentals.org/">WebGL2Fundamentals.org</a></h1>
    <style>
      #forkongithub>div {
        background: #000;
        color: #fff;
        font-family: arial, sans-serif;
        text-align: center;
        font-weight: bold;
        padding: 5px 40px;
        font-size: 0.9rem;
        line-height: 1.3rem;
        position: relative;
        transition: 0.5s;
        display: block;
        width: 400px;
        position: absolute;
        top: 0;
        right: 0;
        transform: translateX(200px) rotate(45deg) translate(10px, 70px);
        box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.8);
        pointer-events: auto;
      }

      #forkongithub a {
        text-decoration: none;
        color: #fff;
      }

      #forkongithub>div:hover {
        background: #c11;
        color: #fff;
      }

      #forkongithub .contributors {
        font-size: 0.75rem;
        background: rgba(255, 255, 255, 0.2);
        line-height: 1.2;
        padding: 0.1em;
      }

      #forkongithub>div::before,
      #forkongithub>div::after {
        content: "";
        width: 100%;
        display: block;
        position: absolute;
        top: 1px;
        left: 0;
        height: 1px;
        background: #fff;
      }

      #forkongithub>div::after {
        bottom: 1px;
        top: auto;
      }

      #forkongithub {
        z-index: 9999;
        /* needed for firefox */
        overflow: hidden;
        width: 300px;
        height: 300px;
        position: absolute;
        right: 0;
        top: 0;
        pointer-events: none;
      }

      #forkongithub svg {
        width: 1em;
        height: 1em;
        vertical-align: middle;
      }

      #forkongithub img {
        width: 1em;
        height: 1em;
        border-radius: 100%;
        vertical-align: middle;
      }

      @media (max-width: 900px) {
        #forkongithub>div {
          line-height: 1.2rem;
        }
      }

      @media (max-width: 700px) {
        #forkongithub {
          display: none;
        }
      }

      @media (max-width: 410px) {
        #forkongithub>div {
          font-size: 0.7rem;
          transform: translateX(150px) rotate(45deg) translate(20px, 40px);
        }
      }
    </style>
    <div id="forkongithub">
      <div>
        <div><a href="https://github.com/gfxfundamentals/webgl2-fundamentals">Fix, Fork, Contribute
            <!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

            <svg width="100%" height="100%" viewBox="0 0 136 133" version="1.1" xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/"
              style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
              <g transform="matrix(3.92891,0,0,3.92891,67.867,129.125)">
                <path
                  d="M0,-31.904C-8.995,-31.904 -16.288,-24.611 -16.288,-15.614C-16.288,-8.417 -11.621,-2.312 -5.148,-0.157C-4.333,-0.008 -4.036,-0.511 -4.036,-0.943C-4.036,-1.329 -4.05,-2.354 -4.058,-3.713C-8.589,-2.729 -9.545,-5.897 -9.545,-5.897C-10.286,-7.779 -11.354,-8.28 -11.354,-8.28C-12.833,-9.29 -11.242,-9.27 -11.242,-9.27C-9.607,-9.155 -8.747,-7.591 -8.747,-7.591C-7.294,-5.102 -4.934,-5.821 -4.006,-6.238C-3.858,-7.29 -3.438,-8.008 -2.972,-8.415C-6.589,-8.826 -10.392,-10.224 -10.392,-16.466C-10.392,-18.244 -9.757,-19.698 -8.715,-20.837C-8.883,-21.249 -9.442,-22.905 -8.556,-25.148C-8.556,-25.148 -7.188,-25.586 -4.076,-23.478C-2.777,-23.84 -1.383,-24.02 0.002,-24.026C1.385,-24.02 2.779,-23.84 4.08,-23.478C7.19,-25.586 8.555,-25.148 8.555,-25.148C9.444,-22.905 8.885,-21.249 8.717,-20.837C9.761,-19.698 10.392,-18.244 10.392,-16.466C10.392,-10.208 6.583,-8.831 2.954,-8.428C3.539,-7.925 4.06,-6.931 4.06,-5.411C4.06,-3.234 4.04,-1.477 4.04,-0.943C4.04,-0.507 4.333,0 5.16,-0.159C11.628,-2.318 16.291,-8.419 16.291,-15.614C16.291,-24.611 8.997,-31.904 0,-31.904"
                  style="fill:white;"></path>
              </g>
            </svg>
          </a></div>
        <div class="contributors">Thank you <a href="https://github.com/ihwf"><img
              src="./WebGL2 Image Processing_files/17941662"> ihwf</a><br>for <a
            href="https://github.com/gfxfundamentals/webgl2-fundamentals/commits?author=ihwf">20 contributions</a></div>
      </div>
    </div>

  </div>


  <div class="container">
    <div class="lesson-title">
      <h1>WebGL2 Image Processing</h1>
    </div>
    <div class="lesson">
      <div class="lesson-main">
        <p>Image processing is easy in WebGL. How easy? Read below.</p>
        <p>This is a continuation from <a
            href="https://webgl2fundamentals.org/webgl/lessons/webgl-fundamentals.html">WebGL2 Fundamentals</a>.
          If you haven't read that I'd suggest <a
            href="https://webgl2fundamentals.org/webgl/lessons/webgl-fundamentals.html">going there first</a>.</p>
        <p>To draw images in WebGL we need to use textures. Similarly to the way
          WebGL expects clip space coordinates when rendering instead of pixels,
          WebGL generally expects texture coordinates when reading a texture.
          Texture coordinates go from 0.0 to 1.0 no matter the dimensions of the texture.</p>
          
          
          <p>要在 WebGL 中绘制图像，我们需要使用纹理。 与 WebGL 在渲染时期望剪辑空间坐标而不是像素的方式类似，WebGL 在读取纹理时通常期望纹理坐标。 无论纹理的尺寸如何，纹理坐标都从 0.0 变为 1.0。</p>


        <p>WebGL2 adds the ability to read a texture using pixel coordinates as well.
          Which way is best is up to you. I feel like it's more common to use
          texture coordinates than pixel coordinates.</p>

        <p>WebGL2 还增加了使用像素坐标读取纹理的能力。 哪种方式最好取决于您。 我觉得使用纹理坐标比像素坐标更常见。</p>
        <p>Since we are only drawing a single rectangle (well, 2 triangles)
          we need to tell WebGL which place in the texture each point in the
          rectangle corresponds to. We'll pass this information from the vertex
          shader to the fragment shader using a special kind of variable called
          a 'varying'. It's called a varying because it varies. <a
            href="https://webgl2fundamentals.org/webgl/lessons/webgl-how-it-works.html">WebGL will
            interpolate the values</a> we provide in the
          vertex shader as it draws each pixel using the fragment shader.</p>


          <p>由于我们只绘制一个矩形（好吧，2 个三角形），我们需要告诉 WebGL 矩形中的每个点对应于纹理中的哪个位置。 我们将使用一种称为“varying”的特殊变量将此信息从顶点着色器传递到片段着色器。 它被称为varying，因为它变化。 WebGL 将在使用片段着色器绘制每个像素时对我们在顶点着色器中提供的值进行插值。</p>
  


        <p>Using <a href="https://webgl2fundamentals.org/webgl/lessons/webgl-fundamentals.html">the vertex shader from
            the end of the previous post</a>
          we need to add an attribute to pass in texture coordinates and then
          pass those on to the fragment shader.</p>

<p>
  使用<a href="https://webgl2fundamentals.org/webgl/lessons/webgl-fundamentals.html">上一篇文章末尾的顶点着色器</a>，我们需要添加一个属性来传递纹理坐标，然后将它们传递给片段着色器。
</p>

        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="pun">...</span></li><li class=""><span class="pln">&nbsp;</span></li><li class="lineadded"><span class="kwd">in</span><span class="pln"> vec2 a_texCoord</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pun">...</span></li><li class=""><span class="pln">&nbsp;</span></li><li class="lineadded"><span class="kwd">out</span><span class="pln"> vec2 v_texCoord</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="kwd">void</span><span class="pln"> main</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">   </span><span class="pun">...</span></li><li class="lineadded"><span class="pln">   </span><span class="com">// pass the texCoord to the fragment shader</span></li><li class="lineadded"><span class="pln">   </span><span class="com">// The GPU will interpolate this value between points</span></li><li class="lineadded"><span class="pln">   v_texCoord </span><span class="pun">=</span><span class="pln"> a_texCoord</span><span class="pun">;</span></li><li class=""><span class="pun">}</span></li></ul></pre>
        <p>Then we supply a fragment shader to look up colors from the texture.</p>

        <p>
          然后我们提供一个片段着色器来从纹理中查找颜色。
        </p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="com">#version 300 es</span></li><li class=""><span class="pln">precision highp </span><span class="kwd">float</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// our texture</span></li><li class=""><span class="pln">uniform sampler2D u_image</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// the texCoords passed in from the vertex shader.</span></li><li class=""><span class="kwd">in</span><span class="pln"> vec2 v_texCoord</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// we need to declare an output for the fragment shader</span></li><li class=""><span class="kwd">out</span><span class="pln"> vec4 outColor</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="kwd">void</span><span class="pln"> main</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">   </span><span class="com">// Look up a color from the texture.</span></li><li class=""><span class="pln">   outColor </span><span class="pun">=</span><span class="pln"> texture</span><span class="pun">(</span><span class="pln">u_image</span><span class="pun">,</span><span class="pln"> v_texCoord</span><span class="pun">);</span></li><li class=""><span class="pun">}</span></li></ul></pre>
        <p>Finally we need to load an image, create a texture and copy the image
          into the texture. Because we are in a browser images load asynchronously
          so we have to re-arrange our code a little to wait for the texture to load.
          Once it loads we'll draw it.</p>

          <p>
            最后我们需要加载图像，创建纹理并将图像复制到纹理中。 因为我们在浏览器中异步加载图像，所以我们必须稍微重新安排代码以等待纹理加载。 加载后我们将绘制它。
          </p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class="lineadded"><span class="kwd">function</span><span class="pln"> main</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class="lineadded"><span class="pln">  </span><span class="kwd">var</span><span class="pln"> image </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Image</span><span class="pun">();</span></li><li class="lineadded"><span class="pln">  image</span><span class="pun">.</span><span class="pln">src </span><span class="pun">=</span><span class="pln"> </span><span class="str">"https://someimage/on/our/server"</span><span class="pun">;</span><span class="pln">  </span><span class="com">// MUST BE SAME DOMAIN!!!</span></li><li class="lineadded"><span class="pln">  image</span><span class="pun">.</span><span class="pln">onload </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class="lineadded"><span class="pln">    render</span><span class="pun">(</span><span class="pln">image</span><span class="pun">);</span></li><li class="lineadded"><span class="pln">  </span><span class="pun">}</span></li><li class="lineadded"><span class="pun">}</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="kwd">function</span><span class="pln"> render</span><span class="pun">(</span><span class="pln">image</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">  </span><span class="pun">...</span></li><li class=""><span class="pln">  </span><span class="com">// look up where the vertex data needs to go.</span></li><li class=""><span class="pln">  </span><span class="kwd">var</span><span class="pln"> positionAttributeLocation </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">getAttribLocation</span><span class="pun">(</span><span class="pln">program</span><span class="pun">,</span><span class="pln"> </span><span class="str">"a_position"</span><span class="pun">);</span></li><li class="lineadded"><span class="pln">  </span><span class="kwd">var</span><span class="pln"> texCoordAttributeLocation </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">getAttribLocation</span><span class="pun">(</span><span class="pln">program</span><span class="pun">,</span><span class="pln"> </span><span class="str">"a_texCoord"</span><span class="pun">);</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  </span><span class="com">// lookup uniforms</span></li><li class=""><span class="pln">  </span><span class="kwd">var</span><span class="pln"> resolutionLocation </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">getUniformLocation</span><span class="pun">(</span><span class="pln">program</span><span class="pun">,</span><span class="pln"> </span><span class="str">"u_resolution"</span><span class="pun">);</span></li><li class="lineadded"><span class="pln">  </span><span class="kwd">var</span><span class="pln"> imageLocation </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">getUniformLocation</span><span class="pun">(</span><span class="pln">program</span><span class="pun">,</span><span class="pln"> </span><span class="str">"u_image"</span><span class="pun">);</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  </span><span class="pun">...</span></li><li class=""><span class="pln">&nbsp;</span></li><li class="lineadded"><span class="pln">  </span><span class="com">// provide texture coordinates for the rectangle.</span></li><li class="lineadded"><span class="pln">  </span><span class="kwd">var</span><span class="pln"> texCoordBuffer </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">createBuffer</span><span class="pun">();</span></li><li class="lineadded"><span class="pln">  gl</span><span class="pun">.</span><span class="pln">bindBuffer</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">ARRAY_BUFFER</span><span class="pun">,</span><span class="pln"> texCoordBuffer</span><span class="pun">);</span></li><li class="lineadded"><span class="pln">  gl</span><span class="pun">.</span><span class="pln">bufferData</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">ARRAY_BUFFER</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Float32Array</span><span class="pun">([</span></li><li class="lineadded"><span class="pln">      </span><span class="lit">0.0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0.0</span><span class="pun">,</span></li><li class="lineadded"><span class="pln">      </span><span class="lit">1.0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0.0</span><span class="pun">,</span></li><li class="lineadded"><span class="pln">      </span><span class="lit">0.0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1.0</span><span class="pun">,</span></li><li class="lineadded"><span class="pln">      </span><span class="lit">0.0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1.0</span><span class="pun">,</span></li><li class="lineadded"><span class="pln">      </span><span class="lit">1.0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0.0</span><span class="pun">,</span></li><li class="lineadded"><span class="pln">      </span><span class="lit">1.0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1.0</span><span class="pun">]),</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">STATIC_DRAW</span><span class="pun">);</span></li><li class="lineadded"><span class="pln">  gl</span><span class="pun">.</span><span class="pln">enableVertexAttribArray</span><span class="pun">(</span><span class="pln">texCoordAttributeLocation</span><span class="pun">);</span></li><li class="lineadded"><span class="pln">  </span><span class="kwd">var</span><span class="pln"> size </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln">          </span><span class="com">// 2 components per iteration</span></li><li class="lineadded"><span class="pln">  </span><span class="kwd">var</span><span class="pln"> type </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">FLOAT</span><span class="pun">;</span><span class="pln">   </span><span class="com">// the data is 32bit floats</span></li><li class="lineadded"><span class="pln">  </span><span class="kwd">var</span><span class="pln"> normalize </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><span class="com">// don't normalize the data</span></li><li class="lineadded"><span class="pln">  </span><span class="kwd">var</span><span class="pln"> stride </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">        </span><span class="com">// 0 = move forward size * sizeof(type) each iteration to get the next position</span></li><li class="lineadded"><span class="pln">  </span><span class="kwd">var</span><span class="pln"> offset </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">        </span><span class="com">// start at the beginning of the buffer</span></li><li class="lineadded"><span class="pln">  gl</span><span class="pun">.</span><span class="pln">vertexAttribPointer</span><span class="pun">(</span></li><li class="lineadded"><span class="pln">      texCoordAttributeLocation</span><span class="pun">,</span><span class="pln"> size</span><span class="pun">,</span><span class="pln"> type</span><span class="pun">,</span><span class="pln"> normalize</span><span class="pun">,</span><span class="pln"> stride</span><span class="pun">,</span><span class="pln"> offset</span><span class="pun">)</span></li><li class="lineadded"><span class="pln"> </span></li><li class="lineadded"><span class="pln">  </span><span class="com">// Create a texture.</span></li><li class="lineadded"><span class="pln">  </span><span class="kwd">var</span><span class="pln"> texture </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">createTexture</span><span class="pun">();</span></li><li class="lineadded"><span class="pln"> </span></li><li class="lineadded"><span class="pln">  </span><span class="com">// make unit 0 the active texture unit</span></li><li class="lineadded"><span class="pln">  </span><span class="com">// (i.e, the unit all other texture commands will affect.)</span></li><li class="lineadded"><span class="pln">  gl</span><span class="pun">.</span><span class="pln">activeTexture</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">TEXTURE0 </span><span class="pun">+</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span></li><li class="lineadded"><span class="pln"> </span></li><li class="lineadded"><span class="pln">  </span><span class="com">// Bind texture to 'texture unit '0' 2D bind point</span></li><li class="lineadded"><span class="pln">  gl</span><span class="pun">.</span><span class="pln">bindTexture</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">TEXTURE_2D</span><span class="pun">,</span><span class="pln"> texture</span><span class="pun">);</span></li><li class="lineadded"><span class="pln"> </span></li><li class="lineadded"><span class="pln">  </span><span class="com">// Set the parameters so we don't need mips and so we're not filtering</span></li><li class="lineadded"><span class="pln">  </span><span class="com">// and we don't repeat</span></li><li class="lineadded"><span class="pln">  gl</span><span class="pun">.</span><span class="pln">texParameteri</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">TEXTURE_2D</span><span class="pun">,</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">TEXTURE_WRAP_S</span><span class="pun">,</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">CLAMP_TO_EDGE</span><span class="pun">);</span></li><li class="lineadded"><span class="pln">  gl</span><span class="pun">.</span><span class="pln">texParameteri</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">TEXTURE_2D</span><span class="pun">,</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">TEXTURE_WRAP_T</span><span class="pun">,</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">CLAMP_TO_EDGE</span><span class="pun">);</span></li><li class="lineadded"><span class="pln">  gl</span><span class="pun">.</span><span class="pln">texParameteri</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">TEXTURE_2D</span><span class="pun">,</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">TEXTURE_MIN_FILTER</span><span class="pun">,</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">NEAREST</span><span class="pun">);</span></li><li class="lineadded"><span class="pln">  gl</span><span class="pun">.</span><span class="pln">texParameteri</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">TEXTURE_2D</span><span class="pun">,</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">TEXTURE_MAG_FILTER</span><span class="pun">,</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">NEAREST</span><span class="pun">);</span></li><li class="lineadded"><span class="pln"> </span></li><li class="lineadded"><span class="pln">  </span><span class="com">// Upload the image into the texture.</span></li><li class="lineadded"><span class="pln">  </span><span class="kwd">var</span><span class="pln"> mipLevel </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">               </span><span class="com">// the largest mip</span></li><li class="lineadded"><span class="pln">  </span><span class="kwd">var</span><span class="pln"> internalFormat </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">RGBA</span><span class="pun">;</span><span class="pln">   </span><span class="com">// format we want in the texture</span></li><li class="lineadded"><span class="pln">  </span><span class="kwd">var</span><span class="pln"> srcFormat </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">RGBA</span><span class="pun">;</span><span class="pln">        </span><span class="com">// format of data we are supplying</span></li><li class="lineadded"><span class="pln">  </span><span class="kwd">var</span><span class="pln"> srcType </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">UNSIGNED_BYTE  </span><span class="com">// type of data we are supplying</span></li><li class="lineadded"><span class="pln">  gl</span><span class="pun">.</span><span class="pln">texImage2D</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">TEXTURE_2D</span><span class="pun">,</span></li><li class="lineadded"><span class="pln">                mipLevel</span><span class="pun">,</span></li><li class="lineadded"><span class="pln">                internalFormat</span><span class="pun">,</span></li><li class="lineadded"><span class="pln">                srcFormat</span><span class="pun">,</span></li><li class="lineadded"><span class="pln">                srcType</span><span class="pun">,</span></li><li class="lineadded"><span class="pln">                image</span><span class="pun">);</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  </span><span class="pun">...</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  </span><span class="com">// Tell it to use our program (pair of shaders)</span></li><li class=""><span class="pln">  gl</span><span class="pun">.</span><span class="pln">useProgram</span><span class="pun">(</span><span class="pln">program</span><span class="pun">);</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  </span><span class="com">// Pass in the canvas resolution so we can convert from</span></li><li class=""><span class="pln">  </span><span class="com">// pixels to clip space in the shader</span></li><li class=""><span class="pln">  gl</span><span class="pun">.</span><span class="pln">uniform2f</span><span class="pun">(</span><span class="pln">resolutionLocation</span><span class="pun">,</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">canvas</span><span class="pun">.</span><span class="pln">width</span><span class="pun">,</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">canvas</span><span class="pun">.</span><span class="pln">height</span><span class="pun">);</span></li><li class=""><span class="pln">&nbsp;</span></li><li class="lineadded"><span class="pln">  </span><span class="com">// Tell the shader to get the texture from texture unit 0</span></li><li class="lineadded"><span class="pln">  gl</span><span class="pun">.</span><span class="pln">uniform1i</span><span class="pun">(</span><span class="pln">imageLocation</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span></li><li class=""><span class="pln">&nbsp;</span></li><li class="lineadded"><span class="pln">  </span><span class="com">// Bind the position buffer so gl.bufferData that will be called</span></li><li class="lineadded"><span class="pln">  </span><span class="com">// in setRectangle puts data in the position buffer</span></li><li class="lineadded"><span class="pln">  gl</span><span class="pun">.</span><span class="pln">bindBuffer</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">ARRAY_BUFFER</span><span class="pun">,</span><span class="pln"> positionBuffer</span><span class="pun">);</span></li><li class="lineadded"><span class="pln"> </span></li><li class="lineadded"><span class="pln">  </span><span class="com">// Set a rectangle the same size as the image.</span></li><li class="lineadded"><span class="pln">  setRectangle</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> image</span><span class="pun">.</span><span class="pln">width</span><span class="pun">,</span><span class="pln"> image</span><span class="pun">.</span><span class="pln">height</span><span class="pun">);</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pun">}</span></li></ul></pre>
        <p>And here's the image rendered in WebGL.</p>
        <p>这是在 WebGL 中呈现的图像。</p>
        <p></p>
        <div class="webgl_example_container">
          <iframe class="webgl_example" style=" " src="./WebGL2 Image Processing_files/editor.html"></iframe>
          <a class="webgl_center" href="https://webgl2fundamentals.org/webgl/webgl-2d-image.html" target="_blank">click
            here to open in a separate window</a>
        </div>

        <p></p>
        <p>Not too exciting so let's manipulate that image. How about just
          swapping red and blue?</p>
<p>不太令人兴奋，所以让我们操纵该图像。 只是交换红色和蓝色怎么样？</p>

        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="pun">...</span></li><li class=""><span class="pln">outColor </span><span class="pun">=</span><span class="pln"> texture</span><span class="pun">(</span><span class="pln">u_image</span><span class="pun">,</span><span class="pln"> v_texCoord</span><span class="pun">).</span><span class="pln">bgra</span><span class="pun">;</span></li><li class=""><span class="pun">...</span></li></ul></pre>
        <p>And now red and blue are swapped.</p>
        <p></p>
        <div class="webgl_example_container">
          <iframe class="webgl_example" style=" " src="./WebGL2 Image Processing_files/editor(1).html"></iframe>
          <a class="webgl_center" href="https://webgl2fundamentals.org/webgl/webgl-2d-image-red2blue.html"
            target="_blank">click here to open in a separate window</a>
        </div>

        <p></p>
        <p>What if we want to do image processing that actually looks at other
          pixels? Since WebGL references textures in texture coordinates which
          go from 0.0 to 1.0 then we can calculate how much to move for 1 pixel
          with the simple math <code class="notranslate" translate="no">onePixel = 1.0 / textureSize</code>.</p>


          <p>如果我们想要进行实际查看其他像素的图像处理怎么办？ 由于 WebGL 在从 0.0 到 1.0 的纹理坐标中引用纹理，因此我们可以使用简单的数学运算 <code class="notranslate" translate="no">onePixel = 1.0 / textureSize</code> 来计算 1 个像素要移动多少。</p>
        <p>Here's a fragment shader that averages the left and right pixels of
          each pixel in the texture.</p>

          <p>
            这是一个片段着色器，它平均纹理中每个像素的左右像素。
          </p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="com">#version 300 es</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// fragment shaders don't have a default precision so we need</span></li><li class=""><span class="com">// to pick one. highp is a good default. It means "high precision"</span></li><li class=""><span class="pln">precision highp </span><span class="kwd">float</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// our texture</span></li><li class=""><span class="pln">uniform sampler2D u_image</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// the texCoords passed in from the vertex shader.</span></li><li class=""><span class="kwd">in</span><span class="pln"> vec2 v_texCoord</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// we need to declare an output for the fragment shader</span></li><li class=""><span class="kwd">out</span><span class="pln"> vec4 outColor</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="kwd">void</span><span class="pln"> main</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class="lineadded"><span class="pln">  vec2 onePixel </span><span class="pun">=</span><span class="pln"> vec2</span><span class="pun">(</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> vec2</span><span class="pun">(</span><span class="pln">textureSize</span><span class="pun">(</span><span class="pln">u_image</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">));</span></li><li class="lineadded"><span class="pln"> </span></li><li class="lineadded"><span class="pln">  </span><span class="com">// average the left, middle, and right pixels.</span></li><li class="lineadded"><span class="pln">  outColor </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span></li><li class="lineadded"><span class="pln">      texture</span><span class="pun">(</span><span class="pln">u_image</span><span class="pun">,</span><span class="pln"> v_texCoord</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span></li><li class="lineadded"><span class="pln">      texture</span><span class="pun">(</span><span class="pln">u_image</span><span class="pun">,</span><span class="pln"> v_texCoord </span><span class="pun">+</span><span class="pln"> vec2</span><span class="pun">(</span><span class="pln"> onePixel</span><span class="pun">.</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.0</span><span class="pun">))</span><span class="pln"> </span><span class="pun">+</span></li><li class="lineadded"><span class="pln">      texture</span><span class="pun">(</span><span class="pln">u_image</span><span class="pun">,</span><span class="pln"> v_texCoord </span><span class="pun">+</span><span class="pln"> vec2</span><span class="pun">(-</span><span class="pln">onePixel</span><span class="pun">.</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.0</span><span class="pun">)))</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">3.0</span><span class="pun">;</span></li><li class=""><span class="pun">}</span></li></ul></pre>
        <p>Compare to the un-blurred image above.</p>

        <p>
          与上面未模糊的图像进行比较。
        </p>
        <p></p>
        <div class="webgl_example_container">
          <iframe class="webgl_example" style=" " src="./WebGL2 Image Processing_files/editor(2).html"></iframe>
          <a class="webgl_center" href="https://webgl2fundamentals.org/webgl/webgl-2d-image-blend.html"
            target="_blank">click here to open in a separate window</a>
        </div>

        <p></p>
        <p>Now that we know how to reference other pixels let's use a convolution kernel
          to do a bunch of common image processing. In this case we'll use a 3x3 kernel.
          A convolution kernel is just a 3x3 matrix where each entry in the matrix represents
          how much to multiply the 8 pixels around the pixel we are rendering. We then
          divide the result by the weight of the kernel (the sum of all values in the kernel)
          or 1.0, whichever is greater. <a href="https://docs.gimp.org/2.6/en/plug-in-convmatrix.html">Here's a pretty
            good article on it</a>.
          And <a href="https://www.codeproject.com/KB/graphics/ImageConvolution.aspx">here's another article showing
            some actual code if
            you were to write this by hand in C++</a>.</p>

<p>
  现在我们知道如何引用其他像素，让我们使用卷积核来做一些常见的图像处理。 在这种情况下，我们将使用 3x3 内核。 卷积核只是一个 3x3 矩阵，其中矩阵中的每个条目表示要将我们正在渲染的像素周围的 8 个像素相乘多少。 然后我们将结果除以内核的权重（内核中所有值的总和）或 1.0，以较大者为准。 <a href="https://docs.gimp.org/2.6/en/plug-in-convmatrix.html">这是一篇很好的文章</a>。 <a href="https://www.codeproject.com/KB/graphics/ImageConvolution.aspx">如果您要用 C++ 手写代码，这里还有另一篇文章展示了一些实际代码</a>。
</p>

        <p>In our case we're going to do that work in the shader so here's the new fragment shader.</p>

        <p>
          在我们的例子中，我们将在着色器中完成这项工作，所以这里是新的片段着色器。
        </p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="com">#version 300 es</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// fragment shaders don't have a default precision so we need</span></li><li class=""><span class="com">// to pick one. highp is a good default. It means "high precision"</span></li><li class=""><span class="pln">precision highp </span><span class="kwd">float</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// our texture</span></li><li class=""><span class="pln">uniform sampler2D u_image</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// the convolution kernel data 卷积核数据</span></li><li class=""><span class="pln">uniform </span><span class="kwd">float</span><span class="pln"> u_kernel</span><span class="pun">[</span><span class="lit">9</span><span class="pun">];</span></li><li class=""><span class="pln">uniform </span><span class="kwd">float</span><span class="pln"> u_kernelWeight</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// the texCoords passed in from the vertex shader.</span></li><li class=""><span class="kwd">in</span><span class="pln"> vec2 v_texCoord</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="com">// we need to declare an output for the fragment shader</span></li><li class=""><span class="kwd">out</span><span class="pln"> vec4 outColor</span><span class="pun">;</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="kwd">void</span><span class="pln"> main</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">  vec2 onePixel </span><span class="pun">=</span><span class="pln"> vec2</span><span class="pun">(</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> vec2</span><span class="pun">(</span><span class="pln">textureSize</span><span class="pun">(</span><span class="pln">u_image</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">));</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln">  vec4 colorSum </span><span class="pun">=</span></li><li class=""><span class="pln">      texture</span><span class="pun">(</span><span class="pln">u_image</span><span class="pun">,</span><span class="pln"> v_texCoord </span><span class="pun">+</span><span class="pln"> onePixel </span><span class="pun">*</span><span class="pln"> vec2</span><span class="pun">(-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">))</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> u_kernel</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span></li><li class=""><span class="pln">      texture</span><span class="pun">(</span><span class="pln">u_image</span><span class="pun">,</span><span class="pln"> v_texCoord </span><span class="pun">+</span><span class="pln"> onePixel </span><span class="pun">*</span><span class="pln"> vec2</span><span class="pun">(</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">))</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> u_kernel</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span></li><li class=""><span class="pln">      texture</span><span class="pun">(</span><span class="pln">u_image</span><span class="pun">,</span><span class="pln"> v_texCoord </span><span class="pun">+</span><span class="pln"> onePixel </span><span class="pun">*</span><span class="pln"> vec2</span><span class="pun">(</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">))</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> u_kernel</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span></li><li class=""><span class="pln">      texture</span><span class="pun">(</span><span class="pln">u_image</span><span class="pun">,</span><span class="pln"> v_texCoord </span><span class="pun">+</span><span class="pln"> onePixel </span><span class="pun">*</span><span class="pln"> vec2</span><span class="pun">(-</span><span class="lit">1</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">))</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> u_kernel</span><span class="pun">[</span><span class="lit">3</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span></li><li class=""><span class="pln">      texture</span><span class="pun">(</span><span class="pln">u_image</span><span class="pun">,</span><span class="pln"> v_texCoord </span><span class="pun">+</span><span class="pln"> onePixel </span><span class="pun">*</span><span class="pln"> vec2</span><span class="pun">(</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">))</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> u_kernel</span><span class="pun">[</span><span class="lit">4</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span></li><li class=""><span class="pln">      texture</span><span class="pun">(</span><span class="pln">u_image</span><span class="pun">,</span><span class="pln"> v_texCoord </span><span class="pun">+</span><span class="pln"> onePixel </span><span class="pun">*</span><span class="pln"> vec2</span><span class="pun">(</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0</span><span class="pun">))</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> u_kernel</span><span class="pun">[</span><span class="lit">5</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span></li><li class=""><span class="pln">      texture</span><span class="pun">(</span><span class="pln">u_image</span><span class="pun">,</span><span class="pln"> v_texCoord </span><span class="pun">+</span><span class="pln"> onePixel </span><span class="pun">*</span><span class="pln"> vec2</span><span class="pun">(-</span><span class="lit">1</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1</span><span class="pun">))</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> u_kernel</span><span class="pun">[</span><span class="lit">6</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span></li><li class=""><span class="pln">      texture</span><span class="pun">(</span><span class="pln">u_image</span><span class="pun">,</span><span class="pln"> v_texCoord </span><span class="pun">+</span><span class="pln"> onePixel </span><span class="pun">*</span><span class="pln"> vec2</span><span class="pun">(</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1</span><span class="pun">))</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> u_kernel</span><span class="pun">[</span><span class="lit">7</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span></li><li class=""><span class="pln">      texture</span><span class="pun">(</span><span class="pln">u_image</span><span class="pun">,</span><span class="pln"> v_texCoord </span><span class="pun">+</span><span class="pln"> onePixel </span><span class="pun">*</span><span class="pln"> vec2</span><span class="pun">(</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1</span><span class="pun">))</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> u_kernel</span><span class="pun">[</span><span class="lit">8</span><span class="pun">]</span><span class="pln"> </span><span class="pun">;</span></li><li class=""><span class="pln">  outColor </span><span class="pun">=</span><span class="pln"> vec4</span><span class="pun">((</span><span class="pln">colorSum </span><span class="pun">/</span><span class="pln"> u_kernelWeight</span><span class="pun">).</span><span class="pln">rgb</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span></li><li class=""><span class="pun">}</span></li></ul></pre>
        <p>In JavaScript we need to supply a convolution kernel and its weight</p>

        <p>
          在 JavaScript 中，我们需要提供一个卷积核及其权重
        </p>
        <pre class="prettyprint showlinemods prettyprinted"
          style=""><ul class="modifiedlines"><li class=""><span class="pln"> </span><span class="kwd">function</span><span class="pln"> computeKernelWeight</span><span class="pun">(</span><span class="pln">kernel</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">   </span><span class="kwd">var</span><span class="pln"> weight </span><span class="pun">=</span><span class="pln"> kernel</span><span class="pun">.</span><span class="pln">reduce</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">prev</span><span class="pun">,</span><span class="pln"> curr</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class=""><span class="pln">       </span><span class="kwd">return</span><span class="pln"> prev </span><span class="pun">+</span><span class="pln"> curr</span><span class="pun">;</span></li><li class=""><span class="pln">   </span><span class="pun">});</span></li><li class=""><span class="pln">   </span><span class="kwd">return</span><span class="pln"> weight </span><span class="pun">&lt;=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> weight</span><span class="pun">;</span></li><li class=""><span class="pln"> </span><span class="pun">}</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln"> </span><span class="pun">...</span></li><li class=""><span class="pln"> </span><span class="kwd">var</span><span class="pln"> kernelLocation </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">getUniformLocation</span><span class="pun">(</span><span class="pln">program</span><span class="pun">,</span><span class="pln"> </span><span class="str">"u_kernel[0]"</span><span class="pun">);</span></li><li class=""><span class="pln"> </span><span class="kwd">var</span><span class="pln"> kernelWeightLocation </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">getUniformLocation</span><span class="pun">(</span><span class="pln">program</span><span class="pun">,</span><span class="pln"> </span><span class="str">"u_kernelWeight"</span><span class="pun">);</span></li><li class=""><span class="pln"> </span><span class="pun">...</span></li><li class=""><span class="pln"> </span><span class="kwd">var</span><span class="pln"> edgeDetectKernel </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span></li><li class=""><span class="pln">     </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span></li><li class=""><span class="pln">     </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln">  </span><span class="lit">8</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span></li><li class=""><span class="pln">     </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span></li><li class=""><span class="pln"> </span><span class="pun">];</span></li><li class=""><span class="pln">&nbsp;</span></li><li class=""><span class="pln"> </span><span class="com">// set the kernel and it's weight</span></li><li class=""><span class="pln"> gl</span><span class="pun">.</span><span class="pln">uniform1fv</span><span class="pun">(</span><span class="pln">kernelLocation</span><span class="pun">,</span><span class="pln"> edgeDetectKernel</span><span class="pun">);</span></li><li class=""><span class="pln"> gl</span><span class="pun">.</span><span class="pln">uniform1f</span><span class="pun">(</span><span class="pln">kernelWeightLocation</span><span class="pun">,</span><span class="pln"> computeKernelWeight</span><span class="pun">(</span><span class="pln">edgeDetectKernel</span><span class="pun">));</span></li><li class=""><span class="pln"> </span><span class="pun">...</span></li></ul></pre>
        <p>And voila... Use the drop down list to select different kernels.</p>

        <p>
          瞧……使用下拉列表选择不同的内核。
        </p>
        <p></p>
        <div class="webgl_example_container">
          <iframe class="webgl_example" style=" " src="./WebGL2 Image Processing_files/editor(3).html"></iframe>
          <a class="webgl_center" href="https://webgl2fundamentals.org/webgl/webgl-2d-image-3x3-convolution.html"
            target="_blank">click here to open in a separate window</a>
        </div>

        <p></p>
        <p>I hope this article has convinced you image processing in WebGL is pretty simple. Next up
          I'll go over <a href="https://webgl2fundamentals.org/webgl/lessons/webgl-image-processing-continued.html">how
            to apply more than one effect to the image</a>.</p>

            <p>
              我希望这篇文章让您相信 WebGL 中的图像处理非常简单。 接下来，我将介绍<a href="https://webgl2fundamentals.org/webgl/lessons/webgl-image-processing-continued.html">如何对图像应用多个效果</a>。
            </p>
        <div class="webgl_bottombar">
          <h3>What are texture units? 什么是纹理单元？</h3>
          When you call <code class="notranslate" translate="no">gl.draw???</code> your shader can reference textures.
          Textures are bound
          to texture units. While the user's machine might support more all WebGL2 implementations are
          required to support at least 16 texture units. Which texture unit each sampler uniform
          references is set by looking up the location of that sampler uniform and then setting the
          index of the texture unit you want it to reference.

          For example:

          <p>
            当你调用 <code class="notranslate" translate="no">gl.draw???</code> 时 您的着色器可以引用纹理。 纹理绑定到纹理单元。 虽然用户的机器可能支持更多，但所有 WebGL2 实现都需要支持至少 16 个纹理单元。 每个采样器 uniform 引用哪个纹理单元是通过查找该采样器 uniform 的位置然后设置您希望它引用的纹理单元的索引来设置的。 例如：
          </p>

          <pre class="prettyprint showlinemods prettyprinted"
            style=""><ul class="modifiedlines"><li class=""><span class="kwd">var</span><span class="pln"> textureUnitIndex </span><span class="pun">=</span><span class="pln"> </span><span class="lit">6</span><span class="pun">;</span><span class="pln"> </span><span class="com">// use texture unit 6.</span></li><li class=""><span class="kwd">var</span><span class="pln"> u_imageLoc </span><span class="pun">=</span><span class="pln"> gl</span><span class="pun">.</span><span class="pln">getUniformLocation</span><span class="pun">(</span></li><li class=""><span class="pln">    program</span><span class="pun">,</span><span class="pln"> </span><span class="str">"u_image"</span><span class="pun">);</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">uniform1i</span><span class="pun">(</span><span class="pln">u_imageLoc</span><span class="pun">,</span><span class="pln"> textureUnitIndex</span><span class="pun">);</span></li></ul></pre>

          To set textures on different units you call gl.activeTexture and then bind the texture you want on that unit.
          Example

          <p>
            要在不同的单元上设置纹理，您可以调用 gl.activeTexture ，然后在该单元上绑定您想要的纹理。 例子
          </p>

          <pre class="prettyprint showlinemods prettyprinted"
            style=""><ul class="modifiedlines"><li class=""><span class="com">// Bind someTexture to texture unit 6.</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">activeTexture</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">TEXTURE6</span><span class="pun">);</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">bindTexture</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">TEXTURE_2D</span><span class="pun">,</span><span class="pln"> someTexture</span><span class="pun">);</span></li></ul></pre>

          This works too

          <pre class="prettyprint showlinemods prettyprinted"
            style=""><ul class="modifiedlines"><li class=""><span class="kwd">var</span><span class="pln"> textureUnitIndex </span><span class="pun">=</span><span class="pln"> </span><span class="lit">6</span><span class="pun">;</span><span class="pln"> </span><span class="com">// use texture unit 6.</span></li><li class=""><span class="com">// Bind someTexture to texture unit 6.</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">activeTexture</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">TEXTURE0 </span><span class="pun">+</span><span class="pln"> textureUnitIndex</span><span class="pun">);</span></li><li class=""><span class="pln">gl</span><span class="pun">.</span><span class="pln">bindTexture</span><span class="pun">(</span><span class="pln">gl</span><span class="pun">.</span><span class="pln">TEXTURE_2D</span><span class="pun">,</span><span class="pln"> someTexture</span><span class="pun">);</span></li></ul></pre>
        </div>

        <div class="webgl_bottombar">
          <h3>What's with the a_, u_, and v_ prefixes in front of variables in GLSL? <br><br>GLSL 中变量前面的 a_、u_ 和 v_ 前缀有什么用？</h3>
          <p>
            That's just a naming convention. They are not required but for me it makes it easier to see at a glance
            where the values are coming from. a_ for attributes which is the data provided by buffers. u_ for uniforms
            which are inputs to the shaders, v_ for varyings which are values passed from a vertex shader to a
            fragment shader and interpolated (or varied) between the vertices for each pixel drawn.
            See <a href="https://webgl2fundamentals.org/webgl/lessons/webgl-how-it-works.html">How it works</a> for more
            details.
          </p>

          <p>
            那只是一个命名约定。 它们不是必需的，但对我来说，它让我更容易一目了然地看到 values 的来源。 a_ 代表属性，数据由缓冲区提供。 u_ 表示作为着色器输入的uniforms，v_ 表示从顶点着色器传递到片段着色器并在绘制的每个像素的顶点之间插值（或变化）的 varyings。 有关详细信息，请参阅它的<a href="https://webgl2fundamentals.org/webgl/lessons/webgl-how-it-works.html">工作原理</a>。
          </p>
        </div>



      </div>
      <div class="lesson-sidebar">
        <select class="language">
          <option value="/webgl/lessons/webgl-image-processing.html" selected="">English
          </option>
          <option value="/webgl/lessons/de/webgl-image-processing.html">Deutsch
          </option>
          <option value="/webgl/lessons/ja/webgl-image-processing.html">日本語
          </option>
          <option value="/webgl/lessons/ko/webgl-image-processing.html">한국어
          </option>
          <option value="/webgl/lessons/pt-br/webgl-image-processing.html">Português Brasileiro
          </option>
          <option value="/webgl/lessons/zh_cn/webgl-image-processing.html">简体中文
          </option>
        </select>


        <div id="toc">
          <ul>
            <li>Fundamentals</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-getting-webgl2.html">How to use WebGL2</a>
              </li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-fundamentals.html">Fundamentals</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-how-it-works.html">How It Works</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-shaders-and-glsl.html">Shaders and
                  GLSL</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/resources/webgl-state-diagram.html">WebGL2 State
                  Diagram</a></li>
            </ul>
            <li>WebGL2 vs WebGL1</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl2-whats-new.html">What's new in WebGL2</a>
              </li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl1-to-webgl2.html">Moving from WebGL1 to
                  WebGL2</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl1-to-webgl2-fundamentals.html">Differences
                  from WebGLFundamentals.org to WebGL2Fundamentals.org</a></li>
            </ul>
            <li>Image Processing</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-image-processing.html">Image
                  Processing</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-image-processing-continued.html">Image
                  Processing Continued</a></li>
            </ul>
            <li>2D translation, rotation, scale, matrix math</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2d-translation.html">2D Translation</a>
              </li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2d-rotation.html">2D Rotation</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2d-scale.html">2D Scale</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2d-matrices.html">2D Matrices</a></li>
            </ul>
            <li>3D</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-orthographic.html">Orthographic 3D</a>
              </li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-perspective.html">3D Perspective</a>
              </li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-camera.html">3D - Cameras</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-matrix-naming.html">3D - Matrix Naming</a>
              </li>
            </ul>
            <li>Lighting</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-lighting-directional.html">Directional
                  Lighting</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-lighting-point.html">Point Lighting</a>
              </li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-lighting-spot.html">Spot Lighting</a>
              </li>
            </ul>
            <li>Structure and Organization</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-less-code-more-fun.html">Less Code, More
                  Fun</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-drawing-multiple-things.html">Drawing
                  Multiple Things</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-scene-graph.html">Scene Graphs</a></li>
            </ul>
            <li>Geometry</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-geometry-lathe.html">3D Geometry -
                  Lathe</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-load-obj.html">Loading .obj files</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-load-obj-w-mtl.html">Loading .obj w .mtl
                  files</a></li>
            </ul>
            <li>Textures</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-textures.html">Textures</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-data-textures.html">Data Textures</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2-textures.html">Using 2 or More
                  Textures</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-cors-permission.html">Cross Origin
                  Images</a></li>
              <li><a
                  href="https://webgl2fundamentals.org/webgl/lessons/webgl-3d-perspective-correct-texturemapping.html">Perspective
                  Correct Texture Mapping</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-planar-projection-mapping.html">Planar and
                  Perspective Projection Mapping</a></li>
            </ul>
            <li>Rendering To A Texture</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-render-to-texture.html">Render to
                  Texture</a></li>
            </ul>
            <li>Shadows</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-shadows.html">Shadows</a></li>
            </ul>
            <li>Techniques</li>
            <ul>
              <li>2D</li>
              <ul>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2d-drawimage.html">2D - DrawImage</a>
                </li>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2d-matrix-stack.html">2D - Matrix
                    Stack</a></li>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-sprites.html">Sprites</a></li>
              </ul>
              <li>3D</li>
              <ul>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-cube-maps.html">Cubemaps</a></li>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-environment-maps.html">Environment
                    maps</a></li>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-skybox.html">Skyboxes</a></li>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-skinning.html">Skinning</a></li>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-fog.html">Fog</a></li>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-picking.html">Picking (clicking on
                    stuff)</a></li>
              </ul>
              <li>Text</li>
              <ul>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-text-html.html">Text - HTML</a></li>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-text-canvas2d.html">Text - Canvas 2D</a>
                </li>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-text-texture.html">Text - Using a
                    Texture</a></li>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-text-glyphs.html">Text - Using a Glyph
                    Texture</a></li>
              </ul>
              <li>GPGPU</li>
              <ul>
                <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-gpgpu.html">GPGPU</a></li>
              </ul>
            </ul>
            <li>Tips</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-smallest-programs.html">Smallest
                  Programs</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-drawing-without-data.html">Drawing Without
                  Data</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-shadertoy.html">Shadertoy</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-pulling-vertices.html">Pulling
                  Vertices</a></li>
            </ul>
            <li>Optimization</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-indexed-vertices.html">Indexed Vertices
                  (gl.drawElements)</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-instanced-drawing.html">Instanced
                  Drawing</a></li>
            </ul>
            <li>Misc</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-setup-and-installation.html">Setup And
                  Installation</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-boilerplate.html">Boilerplate</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-resizing-the-canvas.html">Resizing the
                  Canvas</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-animation.html">Animation</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-points-lines-triangles.html">Points,
                  Lines, and Triangles</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-multiple-views.html">Multiple Views,
                  Multiple Canvases</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-visualizing-the-camera.html">Visualizing
                  the Camera</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-and-alpha.html">WebGL2 and Alpha</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-2d-vs-3d-library.html">2D vs 3D
                  libraries</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-anti-patterns.html">Anti-Patterns</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-matrix-vs-math.html">WebGL2 Matrices vs
                  Math Matrices</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-precision-issues.html">Precision
                  Issues</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-tips.html#screenshot">Taking a
                  screenshot</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-tips.html#preservedrawingbuffer">Prevent
                  the Canvas Being Cleared</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-tips.html#tabindex">Get Keyboard Input
                  From a Canvas</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-tips.html#html-background">Use WebGL2 as
                  Background in HTML</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-cross-platform-issues.html">Cross Platform
                  Issues</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-qna.html">Questions and Answers</a></li>
            </ul>
            <li>Reference</li>
            <ul>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-attributes.html">Attributes</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-texture-units.html">Texture Units</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-framebuffers.html">Framebuffers</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-readpixels.html">readPixels</a></li>
              <li><a href="https://webgl2fundamentals.org/webgl/lessons/webgl-references.html">References</a></li>
            </ul>
          </ul>
          <ul>
            <li><a href="https://webgl2fundamentals.org/docs/">Helper API Docs</a></li>
            <li><a href="https://twgljs.org/">TWGL, A tiny WebGL helper library</a></li>
            <li><a href="https://github.com/gfxfundamentals/webgl2-fundamentals">github</a></li>
          </ul>
        </div>
      </div>
      <div class="lesson-comments">

        <div>Issue/Bug? <a href="https://github.com/gfxfundamentals/webgl2-fundamentals/issues">Create an issue on
            github</a>.</div>
        <div class="lesson-comment-notes">
          Use <b>&lt;pre&gt;&lt;code&gt;</b>code goes here<b>&lt;/code&gt;&lt;/pre&gt;</b> for code blocks
        </div>


        <div id="disqus_thread"></div>
        <script>
          /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
          var disqus_shortname = 'webgl2fundamentals'; // required: replace example with your forum shortname
          var disqus_identifier = 'WebGL2 Image Processing';
          var disqus_title = 'WebGL2 Image Processing';

          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function () {
            if (window.location.hostname.indexOf("webgl2fundamentals.org") < 0) {
              return;
            }
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="https://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </div>
    </div>
  </div>

  <script>
    const settings = {
      contribTemplate: "Thank you <a href=\"${html_url}\"><img src=\"${avatar_url}\"> ${login}</a><br>for <a href=\"https://github.com/${owner}/${repo}/commits?author=${login}\">${contributions} contributions</a>",
      owner: "gfxfundamentals",
      repo: "webgl2-fundamentals",
    };
  </script>
  <script src="./WebGL2 Image Processing_files/contributors.js.下载"></script>
  <script src="./WebGL2 Image Processing_files/jquery-1.11.2.min.js.下载"></script>
  <script src="./WebGL2 Image Processing_files/prettify.js.下载"></script>
  <script src="./WebGL2 Image Processing_files/lesson.js.下载" type="module"></script>
  <script>
    (function () {
      if (window.location.hostname.indexOf("webgl2fundamentals.org") < 0) {
        return;
      }

      function addScript(src, type, fn) {
        const script = document.createElement('script');
        const firstScript = document.getElementsByTagName('script')[0];
        script.async = true;
        script.defer = true;
        script.type = type || 'javascript';
        if (fn) {
          script.addEventListener('load', fn);
        }
        script.src = src;
        firstScript.parentNode.insertBefore(script, firstScript);
      }

      // can't do this because it would eat contexts
      //addScript('//gpustats.org/stats.js', 'module');

      (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
          (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
          m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
      })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

      ga('create', 'UA-90754717-1', 'auto');
      ga('send', 'pageview');
    }());
  </script>






</body>

</html>